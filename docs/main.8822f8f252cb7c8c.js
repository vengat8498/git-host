"use strict";var K6=Object.defineProperty,Q6=Object.defineProperties,J6=Object.getOwnPropertyDescriptors,mL=Object.getOwnPropertySymbols,X6=Object.prototype.hasOwnProperty,e5=Object.prototype.propertyIsEnumerable,_L=(ot,we,P)=>we in ot?K6(ot,we,{enumerable:!0,configurable:!0,writable:!0,value:P}):ot[we]=P,yL=(ot,we)=>{for(var P in we||(we={}))X6.call(we,P)&&_L(ot,P,we[P]);if(mL)for(var P of mL(we))e5.call(we,P)&&_L(ot,P,we[P]);return ot},vL=(ot,we)=>Q6(ot,J6(we));(self.webpackChunkA=self.webpackChunkA||[]).push([[179],{2011:(ot,we,P)=>{P.d(we,{Dh:()=>ue,GT:()=>ye,cc:()=>ke,hO:()=>Ke,on:()=>z,pX:()=>ae,xv:()=>pe});var l=P(5e3),te=P(127),L=P(5813);ot=P.hmd(ot);const he=["ngOnDestroy"],ae=(Se,Qe,it,Ae={})=>new Proxy(Se,{get:(De,Te)=>it.runOutsideAngular(()=>{var qe;if(Se[Te])return(null===(qe=null==Ae?void 0:Ae.spy)||void 0===qe?void 0:qe.get)&&Ae.spy.get(Te,Se[Te]),Se[Te];if(he.indexOf(Te)>-1)return()=>{};const ze=Qe.toPromise().then($=>{const Ce=$&&$[Te];return"function"==typeof Ce?Ce.bind($):Ce&&Ce.then?Ce.then(J=>it.run(()=>J)):it.run(()=>Ce)});return new Proxy(()=>{},{get:($,Ce)=>ze[Ce],apply:($,Ce,J)=>ze.then(le=>{var ie;const ve=le&&le(...J);return(null===(ie=null==Ae?void 0:Ae.spy)||void 0===ie?void 0:ie.apply)&&Ae.spy.apply(Te,J,ve),ve})})})}),ye=(Se,Qe)=>{Qe.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(Ae=>{Object.defineProperty(Se.prototype,Ae,Object.getOwnPropertyDescriptor(it.prototype||it,Ae))})})};class se{constructor(Qe){return Qe}}const ue=new l.OlP("angularfire2.app.options"),pe=new l.OlP("angularfire2.app.name");function z(Se,Qe,it){const De="object"==typeof it&&it||{};De.name=De.name||"string"==typeof it&&it||"[DEFAULT]";const qe=te.Z.apps.filter(ze=>ze&&ze.name===De.name)[0]||Qe.runOutsideAngular(()=>te.Z.initializeApp(Se,De));try{JSON.stringify(Se)!==JSON.stringify(qe.options)&&G("error",`${qe.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ze){}return new se(qe)}const G=(Se,...Qe)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Se](...Qe)},re={provide:se,useFactory:z,deps:[ue,l.R0b,[new l.FiY,pe]]};let Ke=(()=>{class Se{constructor(it){te.Z.registerVersion("angularfire",L.q4.full,"core"),te.Z.registerVersion("angularfire",L.q4.full,"app-compat"),te.Z.registerVersion("angular",l.q4F.full,it.toString())}static initializeApp(it,Ae){return{ngModule:Se,providers:[{provide:ue,useValue:it},{provide:pe,useValue:Ae}]}}}return Se.\u0275fac=function(it){return new(it||Se)(l.LFG(l.Lbi))},Se.\u0275mod=l.oAB({type:Se}),Se.\u0275inj=l.cJS({providers:[re]}),Se})();function ke(Se,Qe,it,Ae,De){const[,Te,qe]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===Se)||[];if(Te)return function Fe(Se,Qe){try{return Se.toString()===Qe.toString()}catch(it){return Se===Qe}}(De,qe)||(_e("error",`${Qe} was already initialized on the ${it} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:De,was:qe})),Te;{const ze=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Se,ze,De]),ze}}const $e=!!ot.hot,_e=(Se,...Qe)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Se](...Qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ot,we,P)=>{P.d(we,{q4:()=>dl,iC:()=>Bf,HU:()=>Xd,vb:()=>pm,JM:()=>co});var l=P(5e3),te=P(5867),L=P(5861),he=P(9681),ae=P(2090),ye=P(4859),se=P(1877),ue=P(8766);const pe="@firebase/installations",z="0.5.9",re=`w:${z}`,Ke="FIS_v2",Qe=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function it(T){return T instanceof ae.ZR&&T.code.includes("request-failed")}function Ae({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function De(T){return{token:T.token,requestStatus:2,expiresIn:le(T.expiresIn),creationTime:Date.now()}}function Te(T,S){return qe.apply(this,arguments)}function qe(){return(qe=(0,L.Z)(function*(T,S){const B=(yield S.json()).error;return Qe.create("request-failed",{requestName:T,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function ze({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function $(T,{refreshToken:S}){const R=ze(T);return R.append("Authorization",function ie(T){return`${Ke} ${T}`}(S)),R}function Ce(T){return J.apply(this,arguments)}function J(){return(J=(0,L.Z)(function*(T){const S=yield T();return S.status>=500&&S.status<600?T():S})).apply(this,arguments)}function le(T){return Number(T.replace("s","000"))}function ve(T,S){return de.apply(this,arguments)}function de(){return(de=(0,L.Z)(function*({appConfig:T,heartbeatServiceProvider:S},{fid:R}){const B=Ae(T),ee=ze(T),oe=S.getImmediate({optional:!0});if(oe){const It=yield oe.getHeartbeatsHeader();It&&ee.append("x-firebase-client",It)}const Pe={method:"POST",headers:ee,body:JSON.stringify({fid:R,authVersion:Ke,appId:T.appId,sdkVersion:re})},ut=yield Ce(()=>fetch(B,Pe));if(ut.ok){const It=yield ut.json();return{fid:It.fid||R,registrationStatus:2,refreshToken:It.refreshToken,authToken:De(It.authToken)}}throw yield Te("Create Installation",ut)})).apply(this,arguments)}function Le(T){return new Promise(S=>{setTimeout(S,T)})}const Zt=/^[cdef][\w-]{21}$/;function tt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const R=function an(T){return function vt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Zt.test(R)?R:""}catch(T){return""}}function Fn(T){return`${T.appName}!${T.appId}`}const dn=new Map;function rn(T,S){const R=Fn(T);Ht(R,S),function Es(T,S){const R=function Ai(){return!Cr&&"BroadcastChannel"in self&&(Cr=new BroadcastChannel("[Firebase] FID Change"),Cr.onmessage=T=>{Ht(T.data.key,T.data.fid)}),Cr}();R&&R.postMessage({key:T,fid:S}),function $i(){0===dn.size&&Cr&&(Cr.close(),Cr=null)}()}(R,S)}function Ht(T,S){const R=dn.get(T);if(R)for(const B of R)B(S)}let Cr=null;const Er="firebase-installations-store";let os=null;function Et(){return os||(os=(0,ue.X3)("firebase-installations-database",1,{upgrade:(T,S)=>{0===S&&T.createObjectStore(Er)}})),os}function Tr(T,S){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,L.Z)(function*(T,S){const R=Fn(T),ee=(yield Et()).transaction(Er,"readwrite"),oe=ee.objectStore(Er),Ne=yield oe.get(R);return yield oe.put(S,R),yield ee.done,(!Ne||Ne.fid!==S.fid)&&rn(T,S.fid),S})).apply(this,arguments)}function Ln(T){return bo.apply(this,arguments)}function bo(){return(bo=(0,L.Z)(function*(T){const S=Fn(T),B=(yield Et()).transaction(Er,"readwrite");yield B.objectStore(Er).delete(S),yield B.done})).apply(this,arguments)}function Sr(T,S){return fi.apply(this,arguments)}function fi(){return(fi=(0,L.Z)(function*(T,S){const R=Fn(T),ee=(yield Et()).transaction(Er,"readwrite"),oe=ee.objectStore(Er),Ne=yield oe.get(R),Pe=S(Ne);return void 0===Pe?yield oe.delete(R):yield oe.put(Pe,R),yield ee.done,Pe&&(!Ne||Ne.fid!==Pe.fid)&&rn(T,Pe.fid),Pe})).apply(this,arguments)}function Hn(T){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,L.Z)(function*(T){let S;const R=yield Sr(T.appConfig,B=>{const ee=sa(B),oe=Kt(T,ee);return S=oe.registrationPromise,oe.installationEntry});return""===R.fid?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}})).apply(this,arguments)}function sa(T){return wo(T||{fid:tt(),registrationStatus:0})}function Kt(T,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Qe.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},B=function gt(T,S){return St.apply(this,arguments)}(T,R);return{installationEntry:R,registrationPromise:B}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Mi(T)}:{installationEntry:S}}function St(){return(St=(0,L.Z)(function*(T,S){try{const R=yield ve(T,S);return Tr(T.appConfig,R)}catch(R){throw it(R)&&409===R.customData.serverCode?yield Ln(T.appConfig):yield Tr(T.appConfig,{fid:S.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Mi(T){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,L.Z)(function*(T){let S=yield zt(T.appConfig);for(;1===S.registrationStatus;)yield Le(100),S=yield zt(T.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:B}=yield Hn(T);return B||R}return S})).apply(this,arguments)}function zt(T){return Sr(T,S=>{if(!S)throw Qe.create("installation-not-found");return wo(S)})}function wo(T){return function xi(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function ki(T,S){return j.apply(this,arguments)}function j(){return(j=(0,L.Z)(function*({appConfig:T,heartbeatServiceProvider:S},R){const B=W(T,R),ee=$(T,R),oe=S.getImmediate({optional:!0});if(oe){const It=yield oe.getHeartbeatsHeader();It&&ee.append("x-firebase-client",It)}const Pe={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:re,appId:T.appId}})},ut=yield Ce(()=>fetch(B,Pe));if(ut.ok)return De(yield ut.json());throw yield Te("Generate Auth Token",ut)})).apply(this,arguments)}function W(T,{fid:S}){return`${Ae(T)}/${S}/authTokens:generate`}function K(T){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,L.Z)(function*(T,S=!1){let R;const B=yield Sr(T.appConfig,oe=>{if(!kt(oe))throw Qe.create("not-registered");const Ne=oe.authToken;if(!S&&gn(Ne))return oe;if(1===Ne.requestStatus)return R=q(T,S),oe;{if(!navigator.onLine)throw Qe.create("app-offline");const Pe=Xn(oe);return R=at(T,Pe),Pe}});return R?yield R:B.authToken})).apply(this,arguments)}function q(T,S){return ne.apply(this,arguments)}function ne(){return(ne=(0,L.Z)(function*(T,S){let R=yield Oe(T.appConfig);for(;1===R.authToken.requestStatus;)yield Le(100),R=yield Oe(T.appConfig);const B=R.authToken;return 0===B.requestStatus?K(T,S):B})).apply(this,arguments)}function Oe(T){return Sr(T,S=>{if(!kt(S))throw Qe.create("not-registered");return function zi(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function at(T,S){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,L.Z)(function*(T,S){try{const R=yield ki(T,S),B=Object.assign(Object.assign({},S),{authToken:R});return yield Tr(T.appConfig,B),R}catch(R){if(!it(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const B=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Tr(T.appConfig,B)}else yield Ln(T.appConfig);throw R}})).apply(this,arguments)}function kt(T){return void 0!==T&&2===T.registrationStatus}function gn(T){return 2===T.requestStatus&&!function At(T){const S=Date.now();return S<T.creationTime||T.creationTime+T.expiresIn<S+36e5}(T)}function Xn(T){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:S})}function Ka(){return(Ka=(0,L.Z)(function*(T){const S=T,{installationEntry:R,registrationPromise:B}=yield Hn(S);return B?B.catch(console.error):K(S).catch(console.error),R.fid})).apply(this,arguments)}function Qa(){return(Qa=(0,L.Z)(function*(T,S=!1){const R=T;return yield ei(R),(yield K(R,S)).token})).apply(this,arguments)}function ei(T){return qi.apply(this,arguments)}function qi(){return(qi=(0,L.Z)(function*(T){const{registrationPromise:S}=yield Hn(T);S&&(yield S)})).apply(this,arguments)}function oa(T){return Qe.create("missing-app-config-values",{valueName:T})}const dr="installations",yt=T=>{const S=T.getProvider("app").getImmediate(),R=function vi(T){if(!T||!T.options)throw oa("App Configuration");if(!T.name)throw oa("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!T.options[R])throw oa(R);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,he._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},cn=T=>{const S=T.getProvider("app").getImmediate(),R=(0,he._getProvider)(S,dr).getImmediate();return{getId:()=>function jl(T){return Ka.apply(this,arguments)}(R),getToken:ee=>function Hl(T){return Qa.apply(this,arguments)}(R,ee)}};(function hr(){(0,he._registerComponent)(new ye.wA(dr,yt,"PUBLIC")),(0,he._registerComponent)(new ye.wA("installations-internal",cn,"PRIVATE"))})(),(0,he.registerVersion)(pe,z),(0,he.registerVersion)(pe,z,"esm2017");const as="@firebase/remote-config",Vn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ql{constructor(S,R,B,ee){this.client=S,this.storage=R,this.storageCache=B,this.logger=ee}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-R,ee=B<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${ee}.`),ee}fetch(S){var R=this;return(0,L.Z)(function*(){const[B,ee]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ee&&R.isCachedDataFresh(S.cacheMaxAgeMillis,B))return ee;S.eTag=ee&&ee.eTag;const oe=yield R.client.fetch(S),Ne=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Ne.push(R.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Ne),oe})()}}function xd(T=navigator){return T.languages&&T.languages[0]||T.language}class Ni{constructor(S,R,B,ee,oe,Ne){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=B,this.projectId=ee,this.apiKey=oe,this.appId=Ne}fetch(S){var R=this;return(0,L.Z)(function*(){const[B,ee]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ne=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Pe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},ut={sdk_version:R.sdkVersion,app_instance_id:B,app_instance_id_token:ee,app_id:R.appId,language_code:xd()},It={method:"POST",headers:Pe,body:JSON.stringify(ut)},Ut=fetch(Ne,It),Rt=new Promise((mr,Pr)=>{S.signal.addEventListener(()=>{const Ia=new Error("The operation was aborted.");Ia.name="AbortError",Pr(Ia)})});let Zn;try{yield Promise.race([Ut,Rt]),Zn=yield Ut}catch(mr){let Pr="fetch-client-network";throw"AbortError"===mr.name&&(Pr="fetch-timeout"),Vn.create(Pr,{originalErrorMessage:mr.message})}let si=Zn.status;const Sa=Zn.headers.get("ETag")||void 0;let Fs,Qi;if(200===Zn.status){let mr;try{mr=yield Zn.json()}catch(Pr){throw Vn.create("fetch-client-parse",{originalErrorMessage:Pr.message})}Fs=mr.entries,Qi=mr.state}if("INSTANCE_STATE_UNSPECIFIED"===Qi?si=500:"NO_CHANGE"===Qi?si=304:("NO_TEMPLATE"===Qi||"EMPTY_CONFIG"===Qi)&&(Fs={}),304!==si&&200!==si)throw Vn.create("fetch-status",{httpStatus:si});return{status:si,eTag:Sa,config:Fs}})()}}class nm{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,L.Z)(function*(){const B=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,B)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:B}){var ee=this;return(0,L.Z)(function*(){yield function to(T,S){return new Promise((R,B)=>{const ee=Math.max(S-Date.now(),0),oe=setTimeout(R,ee);T.addEventListener(()=>{clearTimeout(oe),B(Vn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const oe=yield ee.client.fetch(S);return yield ee.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function kd(T){if(!(T instanceof ae.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}(oe))throw oe;const Ne={throttleEndTimeMillis:Date.now()+(0,ae.$s)(B),backoffCount:B+1};return yield ee.storage.setThrottleMetadata(Ne),ee.attemptFetch(S,Ne)}})()}}class Rd{constructor(S,R,B,ee,oe){this.app=S,this._client=R,this._storageCache=B,this._storage=ee,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function au(T,S){const R=T.target.error||void 0;return Vn.create(S,{originalErrorMessage:R&&R.message})}const no="app_namespace_store";class om{constructor(S,R,B,ee=function sm(){return new Promise((T,S)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=B=>{S(au(B,"storage-open"))},R.onsuccess=B=>{T(B.target.result)},R.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(no,{keyPath:"compositeKey"})}}catch(R){S(Vn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=S,this.appName=R,this.namespace=B,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,L.Z)(function*(){const B=yield R.openDbPromise;return new Promise((ee,oe)=>{const Pe=B.transaction([no],"readonly").objectStore(no),ut=R.createCompositeKey(S);try{const It=Pe.get(ut);It.onerror=Ut=>{oe(au(Ut,"storage-get"))},It.onsuccess=Ut=>{const Rt=Ut.target.result;ee(Rt?Rt.value:void 0)}}catch(It){oe(Vn.create("storage-get",{originalErrorMessage:It&&It.message}))}})})()}set(S,R){var B=this;return(0,L.Z)(function*(){const ee=yield B.openDbPromise;return new Promise((oe,Ne)=>{const ut=ee.transaction([no],"readwrite").objectStore(no),It=B.createCompositeKey(S);try{const Ut=ut.put({compositeKey:It,value:R});Ut.onerror=Rt=>{Ne(au(Rt,"storage-set"))},Ut.onsuccess=()=>{oe()}}catch(Ut){Ne(Vn.create("storage-set",{originalErrorMessage:Ut&&Ut.message}))}})})()}delete(S){var R=this;return(0,L.Z)(function*(){const B=yield R.openDbPromise;return new Promise((ee,oe)=>{const Pe=B.transaction([no],"readwrite").objectStore(no),ut=R.createCompositeKey(S);try{const It=Pe.delete(ut);It.onerror=Ut=>{oe(au(Ut,"storage-delete"))},It.onsuccess=()=>{ee()}}catch(It){oe(Vn.create("storage-delete",{originalErrorMessage:It&&It.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Od{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,L.Z)(function*(){const R=S.storage.getLastFetchStatus(),B=S.storage.getLastSuccessfulFetchTimestampMillis(),ee=S.storage.getActiveConfig(),oe=yield R;oe&&(S.lastFetchStatus=oe);const Ne=yield B;Ne&&(S.lastSuccessfulFetchTimestampMillis=Ne);const Pe=yield ee;Pe&&(S.activeConfig=Pe)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Wl(){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,L.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(T){return!1}})).apply(this,arguments)}!function aa(){(0,he._registerComponent)(new ye.wA("remote-config",function T(S,{instanceIdentifier:R}){const B=S.getProvider("app").getImmediate(),ee=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Vn.create("registration-window");if(!(0,ae.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:oe,apiKey:Ne,appId:Pe}=B.options;if(!oe)throw Vn.create("registration-project-id");if(!Ne)throw Vn.create("registration-api-key");if(!Pe)throw Vn.create("registration-app-id");const ut=new om(Pe,B.name,R=R||"firebase"),It=new Od(ut),Ut=new se.Yd(as);Ut.logLevel=se.in.ERROR;const Rt=new Ni(ee,he.SDK_VERSION,R,oe,Ne,Pe),Zn=new nm(Rt,ut),si=new ql(Zn,ut,It,Ut),Sa=new Rd(B,si,It,ut,Ut);return function hn(T){const S=(0,ae.m9)(T);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Sa),Sa},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(as,"0.3.8"),(0,he.registerVersion)(as,"0.3.8","esm2017")}();const Fd="/firebase-messaging-sw.js",Oi="/firebase-cloud-messaging-push-scope",Eo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",la="google.c.a.c_id",Ld="google.c.a.c_l",Nf="google.c.a.ts",pi="google.c.a.e";var ca=(()=>{return(T=ca||(ca={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",ca;var T})();function Wi(T){const S=new Uint8Array(T);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vd(T){const R=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(R),ee=new Uint8Array(B.length);for(let oe=0;oe<B.length;++oe)ee[oe]=B.charCodeAt(oe);return ee}const bi="fcm_token_details_db",Mr="fcm_token_object_Store";function lu(T){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,L.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(bi))return null;let S=null;return(yield(0,ue.X3)(bi,5,{upgrade:(B=(0,L.Z)(function*(ee,oe,Ne,Pe){var ut;if(oe<2||!ee.objectStoreNames.contains(Mr))return;const It=Pe.objectStore(Mr),Ut=yield It.index("fcmSenderId").get(T);if(yield It.clear(),Ut)if(2===oe){const Rt=Ut;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;S={token:Rt.fcmToken,createTime:null!==(ut=Rt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:Wi(Rt.vapidKey)}}}else if(3===oe){const Rt=Ut;S={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Wi(Rt.auth),p256dh:Wi(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Wi(Rt.vapidKey)}}}else if(4===oe){const Rt=Ut;S={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Wi(Rt.auth),p256dh:Wi(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Wi(Rt.vapidKey)}}}}),function(oe,Ne,Pe,ut){return B.apply(this,arguments)})})).close(),yield(0,ue.Lj)(bi),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),cu(S)?S:null;var B}),Bd.apply(this,arguments)}function cu(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:S}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const hs="firebase-messaging-store";let Of=null;function fn(){return Of||(Of=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(T,S)=>{0===S&&T.createObjectStore(hs)}})),Of}function nl(T){return So.apply(this,arguments)}function So(){return(So=(0,L.Z)(function*(T){const S=wi(T),B=yield(yield fn()).transaction(hs).objectStore(hs).get(S);if(B)return B;{const ee=yield lu(T.appConfig.senderId);if(ee)return yield sn(T,ee),ee}})).apply(this,arguments)}function sn(T,S){return il.apply(this,arguments)}function il(){return(il=(0,L.Z)(function*(T,S){const R=wi(T),ee=(yield fn()).transaction(hs,"readwrite");return yield ee.objectStore(hs).put(S,R),yield ee.done,S})).apply(this,arguments)}function Yl(T){return io.apply(this,arguments)}function io(){return(io=(0,L.Z)(function*(T){const S=wi(T),B=(yield fn()).transaction(hs,"readwrite");yield B.objectStore(hs).delete(S),yield B.done})).apply(this,arguments)}function wi({appConfig:T}){return T.appId}const wn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fs(T,S){return Di.apply(this,arguments)}function Di(){return(Di=(0,L.Z)(function*(T,S){const R=yield ha(T),B=ro(S),ee={method:"POST",headers:R,body:JSON.stringify(B)};let oe;try{oe=yield(yield fetch(ps(T.appConfig),ee)).json()}catch(Ne){throw wn.create("token-subscribe-failed",{errorInfo:Ne})}if(oe.error)throw wn.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw wn.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function Io(T,S){return Is.apply(this,arguments)}function Is(){return(Is=(0,L.Z)(function*(T,S){const R=yield ha(T),B=ro(S.subscriptionOptions),ee={method:"PATCH",headers:R,body:JSON.stringify(B)};let oe;try{oe=yield(yield fetch(`${ps(T.appConfig)}/${S.token}`,ee)).json()}catch(Ne){throw wn.create("token-update-failed",{errorInfo:Ne})}if(oe.error)throw wn.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw wn.create("token-update-no-token");return oe.token})).apply(this,arguments)}function rl(T,S){return $r.apply(this,arguments)}function $r(){return($r=(0,L.Z)(function*(T,S){const B={method:"DELETE",headers:yield ha(T)};try{const oe=yield(yield fetch(`${ps(T.appConfig)}/${S}`,B)).json();if(oe.error)throw wn.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(ee){throw wn.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function ps({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function ha(T){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,L.Z)(function*({appConfig:T,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ro({p256dh:T,auth:S,endpoint:R,vapidKey:B}){const ee={web:{endpoint:R,auth:S,p256dh:T}};return B!==Eo&&(ee.web.applicationPubKey=B),ee}const hu=6048e5;function sl(T){return fu.apply(this,arguments)}function fu(){return(fu=(0,L.Z)(function*(T){const S=yield Ao(T.swRegistration,T.vapidKey),R={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:S.endpoint,auth:Wi(S.getKey("auth")),p256dh:Wi(S.getKey("p256dh"))},B=yield nl(T.firebaseDependencies);if(B){if(Ql(B.subscriptionOptions,R))return Date.now()>=B.createTime+hu?pu(T,{token:B.token,createTime:Date.now(),subscriptionOptions:R}):B.token;try{yield rl(T.firebaseDependencies,B.token)}catch(ee){console.warn(ee)}return xe(T.firebaseDependencies,R)}return xe(T.firebaseDependencies,R)})).apply(this,arguments)}function Zl(T){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,L.Z)(function*(T){const S=yield nl(T.firebaseDependencies);S&&(yield rl(T.firebaseDependencies,S.token),yield Yl(T.firebaseDependencies));const R=yield T.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function pu(T,S){return fa.apply(this,arguments)}function fa(){return(fa=(0,L.Z)(function*(T,S){try{const R=yield Io(T.firebaseDependencies,S),B=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield sn(T.firebaseDependencies,B),R}catch(R){throw yield Zl(T),R}})).apply(this,arguments)}function xe(T,S){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,L.Z)(function*(T,S){const B={token:yield fs(T,S),createTime:Date.now(),subscriptionOptions:S};return yield sn(T,B),B.token})).apply(this,arguments)}function Ao(T,S){return yn.apply(this,arguments)}function yn(){return(yn=(0,L.Z)(function*(T,S){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vd(S)})})).apply(this,arguments)}function Ql(T,S){return S.vapidKey===T.vapidKey&&S.endpoint===T.endpoint&&S.auth===T.auth&&S.p256dh===T.p256dh}function Mo(T){const S={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function xr(T,S){if(!S.notification)return;T.notification={};const R=S.notification.title;R&&(T.notification.title=R);const B=S.notification.body;B&&(T.notification.body=B);const ee=S.notification.image;ee&&(T.notification.image=ee)}(S,T),function gu(T,S){!S.data||(T.data=S.data)}(S,T),function mu(T,S){if(!S.fcmOptions)return;T.fcmOptions={};const R=S.fcmOptions.link;R&&(T.fcmOptions.link=R);const B=S.fcmOptions.analytics_label;B&&(T.fcmOptions.analyticsLabel=B)}(S,T),S}function _u(T){return"object"==typeof T&&!!T&&la in T}function Ud(T,S){const R=[];for(let B=0;B<T.length;B++)R.push(T.charAt(B)),B<S.length&&R.push(S.charAt(B));return R.join("")}function As(T){return wn.create("missing-app-config-values",{valueName:T})}Ud("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ud("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pi{constructor(S,R,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function am(T){if(!T||!T.options)throw As("App Configuration Object");if(!T.name)throw As("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=T;for(const B of S)if(!R[B])throw As(B);return{appName:T.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:ee,installations:R,analyticsProvider:B}}_delete(){return Promise.resolve()}}function kr(T){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,L.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Fd,{scope:Oi}),T.swRegistration.update().catch(()=>{})}catch(S){throw wn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function so(T,S){return zr.apply(this,arguments)}function zr(){return(zr=(0,L.Z)(function*(T,S){if(!S&&!T.swRegistration&&(yield kr(T)),S||!T.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw wn.create("invalid-sw-registration");T.swRegistration=S}})).apply(this,arguments)}function yu(T,S){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,L.Z)(function*(T,S){S?T.vapidKey=S:T.vapidKey||(T.vapidKey=Eo)})).apply(this,arguments)}function vu(){return(vu=(0,L.Z)(function*(T,S){if(!navigator)throw wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wn.create("permission-blocked");return yield yu(T,null==S?void 0:S.vapidKey),yield so(T,null==S?void 0:S.serviceWorkerRegistration),sl(T)})).apply(this,arguments)}function pa(T,S,R){return tc.apply(this,arguments)}function tc(){return(tc=(0,L.Z)(function*(T,S,R){const B=nc(S);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:R[la],message_name:R[Ld],message_time:R[Nf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function nc(T){switch(T){case ca.NOTIFICATION_CLICKED:return"notification_open";case ca.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Hd(){return(Hd=(0,L.Z)(function*(T,S){const R=S.data;if(!R.isFirebaseMessaging)return;T.onMessageHandler&&R.messageType===ca.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Mo(R)):T.onMessageHandler.next(Mo(R)));const B=R.data;_u(B)&&"1"===B[pi]&&(yield pa(T,R.messageType,B))})).apply(this,arguments)}const ic="@firebase/messaging",Gd=T=>{const S=new Pi(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function jd(T,S){return Hd.apply(this,arguments)}(S,R)),S},ga=T=>{const S=T.getProvider("messaging").getImmediate();return{getToken:B=>function ec(T,S){return vu.apply(this,arguments)}(S,B)}};function rc(){return fr.apply(this,arguments)}function fr(){return(fr=(0,L.Z)(function*(){try{yield(0,ae.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $d(){(0,he._registerComponent)(new ye.wA("messaging",Gd,"PUBLIC")),(0,he._registerComponent)(new ye.wA("messaging-internal",ga,"PRIVATE")),(0,he.registerVersion)(ic,"0.9.13"),(0,he.registerVersion)(ic,"0.9.13","esm2017")}();const qd="analytics",lm="firebase_id",Ms="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ro="https://www.googletagmanager.com/gtag/js",ni=new se.Yd("@firebase/analytics");function Wd(T){return Promise.all(T.map(S=>S.catch(R=>R)))}function cm(T,S){const R=document.createElement("script");R.src=`${Ro}?l=${T}&id=${S}`,R.async=!0,document.head.appendChild(R)}function ma(T,S,R,B,ee,oe){return sc.apply(this,arguments)}function sc(){return(sc=(0,L.Z)(function*(T,S,R,B,ee,oe){const Ne=B[ee];try{if(Ne)yield S[Ne];else{const ut=(yield Wd(R)).find(It=>It.measurementId===ee);ut&&(yield S[ut.appId])}}catch(Pe){ni.error(Pe)}T("config",ee,oe)})).apply(this,arguments)}function wu(T,S,R,B,ee){return gs.apply(this,arguments)}function gs(){return(gs=(0,L.Z)(function*(T,S,R,B,ee){try{let oe=[];if(ee&&ee.send_to){let Ne=ee.send_to;Array.isArray(Ne)||(Ne=[Ne]);const Pe=yield Wd(R);for(const ut of Ne){const It=Pe.find(Rt=>Rt.measurementId===ut),Ut=It&&S[It.appId];if(!Ut){oe=[];break}oe.push(Ut)}}0===oe.length&&(oe=Object.values(S)),yield Promise.all(oe),T("event",B,ee||{})}catch(oe){ni.error(oe)}})).apply(this,arguments)}function qr(){const T=window.document.getElementsByTagName("script");for(const S of Object.values(T))if(S.src&&S.src.includes(Ro))return S;return null}const ii=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Cn=new class ln{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Yd(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function _a(T){return oo.apply(this,arguments)}function oo(){return(oo=(0,L.Z)(function*(T){var S;const{appId:R,apiKey:B}=T,ee={method:"GET",headers:Yd(B)},oe=Ms.replace("{app-id}",R),Ne=yield fetch(oe,ee);if(200!==Ne.status&&304!==Ne.status){let Pe="";try{const ut=yield Ne.json();(null===(S=ut.error)||void 0===S?void 0:S.message)&&(Pe=ut.error.message)}catch(ut){}throw ii.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:Pe})}return Ne.json()})).apply(this,arguments)}function zn(T){return xs.apply(this,arguments)}function xs(){return(xs=(0,L.Z)(function*(T,S=Cn,R){const{appId:B,apiKey:ee,measurementId:oe}=T.options;if(!B)throw ii.create("no-app-id");if(!ee){if(oe)return{measurementId:oe,appId:B};throw ii.create("no-api-key")}const Ne=S.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pe=new Kd;return setTimeout((0,L.Z)(function*(){Pe.abort()}),void 0!==R?R:6e4),ya({appId:B,apiKey:ee,measurementId:oe},Ne,Pe,S)})).apply(this,arguments)}function ya(T,S,R){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,L.Z)(function*(T,{throttleEndTimeMillis:S,backoffCount:R},B,ee=Cn){const{appId:oe,measurementId:Ne}=T;try{yield mt(B,S)}catch(Pe){if(Ne)return ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${Pe.message}]`),{appId:oe,measurementId:Ne};throw Pe}try{const Pe=yield _a(T);return ee.deleteThrottleMetadata(oe),Pe}catch(Pe){if(!Zd(Pe)){if(ee.deleteThrottleMetadata(oe),Ne)return ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${Pe.message}]`),{appId:oe,measurementId:Ne};throw Pe}const ut=503===Number(Pe.customData.httpStatus)?(0,ae.$s)(R,ee.intervalMillis,30):(0,ae.$s)(R,ee.intervalMillis),It={throttleEndTimeMillis:Date.now()+ut,backoffCount:R+1};return ee.setThrottleMetadata(oe,It),ni.debug(`Calling attemptFetch again in ${ut} millis`),ya(T,It,B,ee)}})).apply(this,arguments)}function mt(T,S){return new Promise((R,B)=>{const ee=Math.max(S-Date.now(),0),oe=setTimeout(R,ee);T.addEventListener(()=>{clearTimeout(oe),B(ii.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Zd(T){if(!(T instanceof ae.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Kd{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function oc(){return ac.apply(this,arguments)}function ac(){return(ac=(0,L.Z)(function*(){if(!(0,ae.hl)())return ni.warn(ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(T){return ni.warn(ii.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function va(){return(va=(0,L.Z)(function*(T,S,R,B,ee,oe,Ne){var Pe;const ut=zn(T);ut.then(si=>{R[si.measurementId]=si.appId,T.options.measurementId&&si.measurementId!==T.options.measurementId&&ni.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${si.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(si=>ni.error(si)),S.push(ut);const It=oc().then(si=>{if(si)return B.getId()}),[Ut,Rt]=yield Promise.all([ut,It]);qr()||cm(oe,Ut.measurementId),ee("js",new Date);const Zn=null!==(Pe=null==Ne?void 0:Ne.config)&&void 0!==Pe?Pe:{};return Zn.origin="firebase",Zn.update=!0,null!=Rt&&(Zn[lm]=Rt),ee("config",Ut.measurementId,Zn),Ut.measurementId})).apply(this,arguments)}class ks{constructor(S){this.app=S}_delete(){return delete Fi[this.app.options.appId],Promise.resolve()}}let Fi={},ba=[];const Li={};let wa,Yr,ms="dataLayer",lc=!1;function cl(T,S,R){!function Yi(){const T=[];if((0,ae.ru)()&&T.push("This is a browser extension environment."),(0,ae.zI)()||T.push("Cookies are not available."),T.length>0){const S=T.map((B,ee)=>`(${ee+1}) ${B}`).join(" "),R=ii.create("invalid-analytics-context",{errorInfo:S});ni.warn(R.message)}}();const B=T.options.appId;if(!B)throw ii.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw ii.create("no-api-key");ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fi[B])throw ii.create("already-exists",{id:B});if(!lc){!function No(T){let S=[];Array.isArray(window[T])?S=window[T]:window[T]=S}(ms);const{wrappedGtag:oe,gtagCore:Ne}=function um(T,S,R,B,ee){let oe=function(...Ne){window[B].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(oe=window[ee]),window[ee]=function al(T,S,R,B){function oe(){return(oe=(0,L.Z)(function*(Ne,Pe,ut){try{"event"===Ne?yield wu(T,S,R,Pe,ut):"config"===Ne?yield ma(T,S,R,B,Pe,ut):T("set",Pe)}catch(It){ni.error(It)}})).apply(this,arguments)}return function ee(Ne,Pe,ut){return oe.apply(this,arguments)}}(oe,T,S,R),{gtagCore:oe,wrappedGtag:window[ee]}}(Fi,ba,Li,ms,"gtag");Yr=oe,wa=Ne,lc=!0}return Fi[B]=function en(T,S,R,B,ee,oe,Ne){return va.apply(this,arguments)}(T,ba,Li,S,wa,ms,R),new ks(T)}function pr(){return(pr=(0,L.Z)(function*(T,S,R,B,ee){if(ee&&ee.global)T("event",R,B);else{const oe=yield S;T("event",R,Object.assign(Object.assign({},B),{send_to:oe}))}})).apply(this,arguments)}function bn(){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,L.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(T){return!1}})).apply(this,arguments)}const Po="@firebase/analytics";!function Ff(){(0,he._registerComponent)(new ye.wA(qd,(S,{options:R})=>cl(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,he._registerComponent)(new ye.wA("analytics-internal",function T(S){try{const R=S.getProvider(qd).getImmediate();return{logEvent:(B,ee,oe)=>function fm(T,S,R,B){T=(0,ae.m9)(T),function Zi(T,S,R,B,ee){return pr.apply(this,arguments)}(Yr,Fi[T.app.options.appId],S,R,B).catch(ee=>ni.error(ee))}(R,B,ee,oe)}}catch(R){throw ii.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,he.registerVersion)(Po,"0.7.9"),(0,he.registerVersion)(Po,"0.7.9","esm2017")}();var ao=P(4408),Ca=P(7565);const ul=new class Un extends Ca.v{}(class Fo extends ao.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(S,R,B):S.flush(this)}});var Qd=P(4986),Lf=P(8505),Ki=P(9468),gr=P(5363);const dl=new l.GfV("7.3.0"),Lo="__angularfire_symbol__analyticsIsSupportedValue",Ns="__angularfire_symbol__analyticsIsSupported",lo="__angularfire_symbol__remoteConfigIsSupportedValue",Os="__angularfire_symbol__remoteConfigIsSupported",hl="__angularfire_symbol__messagingIsSupportedValue",Du="__angularfire_symbol__messagingIsSupported";function co(T,S,R){if(S){if(1===S.length)return S[0];const oe=S.filter(Ne=>Ne.app===R);if(1===oe.length)return oe[0]}return R.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ns]||(globalThis[Ns]=bn().then(T=>globalThis[Lo]=T).catch(()=>globalThis[Lo]=!1)),globalThis[Du]||(globalThis[Du]=rc().then(T=>globalThis[hl]=T).catch(()=>globalThis[hl]=!1)),globalThis[Os]||(globalThis[Os]=Wl().then(T=>globalThis[lo]=T).catch(()=>globalThis[lo]=!1));const pm=(T,S)=>{const R=S?[S]:(0,te.C6)(),B=[];return R.forEach(ee=>{ee.container.getProvider(T).instances.forEach(Ne=>{B.includes(Ne)||B.push(Ne)})}),B};function Ps(){}class Jd{constructor(S,R=ul){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,B){const ee=this.zone;return this.delegate.schedule(function(Ne){ee.runGuarded(()=>{S.apply(this,[Ne])})},R,B)}}class Nr{constructor(S){this.zone=S,this.task=null}call(S,R){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ps,{},Ps,Ps)),R.pipe((0,Lf.b)({next:B,complete:B,error:B})).subscribe(S).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xd=(()=>{class T{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Jd(Zone.current)),this.insideAngular=R.run(()=>new Jd(Zone.current,Qd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(R){return new(R||T)(l.LFG(l.R0b))},T.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function _s(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Bf(T){return _s(),function Bo(T){return function(R){return(R=R.lift(new Nr(T.ngZone))).pipe((0,Ki.R)(T.outsideAngular),(0,gr.Q)(T.insideAngular))}}(_s())(T)}},2090:(ot,we,P)=>{P.d(we,{$s:()=>zt,BH:()=>Ke,G6:()=>ze,L:()=>ue,LL:()=>de,Mn:()=>Te,Sg:()=>ke,UG:()=>_e,US:()=>ye,ZB:()=>G,ZR:()=>ve,b$:()=>it,d:()=>Ae,eu:()=>Ce,hl:()=>$,jU:()=>Se,m9:()=>ki,ne:()=>os,pd:()=>Ks,r3:()=>Gi,ru:()=>Qe,tV:()=>pe,uI:()=>$e,vZ:()=>Cr,w1:()=>De,xO:()=>$i,xb:()=>Ht,z$:()=>Fe,zI:()=>J,zd:()=>ss});const he=function(j){const W=[];let K=0;for(let Ie=0;Ie<j.length;Ie++){let q=j.charCodeAt(Ie);q<128?W[K++]=q:q<2048?(W[K++]=q>>6|192,W[K++]=63&q|128):55296==(64512&q)&&Ie+1<j.length&&56320==(64512&j.charCodeAt(Ie+1))?(q=65536+((1023&q)<<10)+(1023&j.charCodeAt(++Ie)),W[K++]=q>>18|240,W[K++]=q>>12&63|128,W[K++]=q>>6&63|128,W[K++]=63&q|128):(W[K++]=q>>12|224,W[K++]=q>>6&63|128,W[K++]=63&q|128)}return W},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,W){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let q=0;q<j.length;q+=3){const ne=j[q],Oe=q+1<j.length,at=Oe?j[q+1]:0,Dt=q+2<j.length,kt=Dt?j[q+2]:0;let Xn=(15&at)<<2|kt>>6,zi=63&kt;Dt||(zi=64,Oe||(Xn=64)),Ie.push(K[ne>>2],K[(3&ne)<<4|at>>4],K[Xn],K[zi])}return Ie.join("")},encodeString(j,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(j):this.encodeByteArray(he(j),W)},decodeString(j,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(j):function(j){const W=[];let K=0,Ie=0;for(;K<j.length;){const q=j[K++];if(q<128)W[Ie++]=String.fromCharCode(q);else if(q>191&&q<224){const ne=j[K++];W[Ie++]=String.fromCharCode((31&q)<<6|63&ne)}else if(q>239&&q<365){const Dt=((7&q)<<18|(63&j[K++])<<12|(63&j[K++])<<6|63&j[K++])-65536;W[Ie++]=String.fromCharCode(55296+(Dt>>10)),W[Ie++]=String.fromCharCode(56320+(1023&Dt))}else{const ne=j[K++],Oe=j[K++];W[Ie++]=String.fromCharCode((15&q)<<12|(63&ne)<<6|63&Oe)}}return W.join("")}(this.decodeStringToByteArray(j,W))},decodeStringToByteArray(j,W){this.init_();const K=W?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let q=0;q<j.length;){const ne=K[j.charAt(q++)],at=q<j.length?K[j.charAt(q)]:0;++q;const kt=q<j.length?K[j.charAt(q)]:64;++q;const At=q<j.length?K[j.charAt(q)]:64;if(++q,null==ne||null==at||null==kt||null==At)throw Error();Ie.push(ne<<2|at>>4),64!==kt&&(Ie.push(at<<4&240|kt>>2),64!==At&&Ie.push(kt<<6&192|At))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ue=function(j){return function(j){const W=he(j);return ye.encodeByteArray(W,!0)}(j).replace(/\./g,"")},pe=function(j){try{return ye.decodeString(j,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function G(j,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return W}for(const K in W)!W.hasOwnProperty(K)||!re(K)||(j[K]=G(j[K],W[K]));return j}function re(j){return"__proto__"!==j}class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,K)=>{this.resolve=W,this.reject=K})}wrapCallback(W){return(K,Ie)=>{K?this.reject(K):this.resolve(Ie),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(K):W(K,Ie))}}}function ke(j,W){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=W||"demo-project",q=j.iat||0,ne=j.sub||j.user_id;if(!ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:q,exp:q+3600,auth_time:q,sub:ne,user_id:ne,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Oe)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function Se(){return"object"==typeof self&&self.self===self}function Qe(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Fe().indexOf("Electron/")>=0}function De(){const j=Fe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Te(){return Fe().indexOf("MSAppHost/")>=0}function ze(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $(){return"object"==typeof indexedDB}function Ce(){return new Promise((j,W)=>{try{let K=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(Ie);q.onsuccess=()=>{q.result.close(),K||self.indexedDB.deleteDatabase(Ie),j(!0)},q.onupgradeneeded=()=>{K=!1},q.onerror=()=>{var ne;W((null===(ne=q.error)||void 0===ne?void 0:ne.message)||"")}}catch(K){W(K)}})}function J(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ve extends Error{constructor(W,K,Ie){super(K),this.code=W,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(W,K,Ie){this.service=W,this.serviceName=K,this.errors=Ie}create(W,...K){const Ie=K[0]||{},q=`${this.service}/${W}`,ne=this.errors[W],Oe=ne?function Le(j,W){return j.replace(vt,(K,Ie)=>{const q=W[Ie];return null!=q?String(q):`<${Ie}?>`})}(ne,Ie):"Error";return new ve(q,`${this.serviceName}: ${Oe} (${q}).`,Ie)}}const vt=/\{\$([^}]+)}/g;function Gi(j,W){return Object.prototype.hasOwnProperty.call(j,W)}function Ht(j){for(const W in j)if(Object.prototype.hasOwnProperty.call(j,W))return!1;return!0}function Cr(j,W){if(j===W)return!0;const K=Object.keys(j),Ie=Object.keys(W);for(const q of K){if(!Ie.includes(q))return!1;const ne=j[q],Oe=W[q];if(Ai(ne)&&Ai(Oe)){if(!Cr(ne,Oe))return!1}else if(ne!==Oe)return!1}for(const q of Ie)if(!K.includes(q))return!1;return!0}function Ai(j){return null!==j&&"object"==typeof j}function $i(j){const W=[];for(const[K,Ie]of Object.entries(j))Array.isArray(Ie)?Ie.forEach(q=>{W.push(encodeURIComponent(K)+"="+encodeURIComponent(q))}):W.push(encodeURIComponent(K)+"="+encodeURIComponent(Ie));return W.length?"&"+W.join("&"):""}function ss(j){const W={};return j.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[q,ne]=Ie.split("=");W[decodeURIComponent(q)]=decodeURIComponent(ne)}}),W}function Ks(j){const W=j.indexOf("?");if(!W)return"";const K=j.indexOf("#",W);return j.substring(W,K>0?K:void 0)}function os(j,W){const K=new Et(j,W);return K.subscribe.bind(K)}class Et{constructor(W,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{W(this)}).catch(Ie=>{this.error(Ie)})}next(W){this.forEachObserver(K=>{K.next(W)})}error(W){this.forEachObserver(K=>{K.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,K,Ie){let q;if(void 0===W&&void 0===K&&void 0===Ie)throw new Error("Missing Observer.");q=function Mn(j,W){if("object"!=typeof j||null===j)return!1;for(const K of W)if(K in j&&"function"==typeof j[K])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:K,complete:Ie},void 0===q.next&&(q.next=Ln),void 0===q.error&&(q.error=Ln),void 0===q.complete&&(q.complete=Ln);const ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(Oe){}}),this.observers.push(q),ne}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,W)}sendOne(W,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{K(this.observers[W])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}function zt(j,W=1e3,K=2){const Ie=W*Math.pow(K,j),q=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+q)}function ki(j){return j&&j._delegate?j._delegate:j}},9750:(ot,we,P)=>{var l=P(5e3);let te=null;function L(){return te}const se=new l.OlP("DocumentToken");let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function pe(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const z=new l.OlP("Location Initialized");let G=(()=>{class n extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){re()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){re()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ke(){return new G((0,l.LFG)(se))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function ke(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Fe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Se(n){const t=(0,l.LFG)(se).location;return new it((0,l.LFG)(ue),t&&t.origin||"")}()},providedIn:"root"}),n})();const Qe=new l.OlP("appBaseHref");let it=(()=>{class n extends _e{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ke(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+$e(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const u=this.prepareExternalUrl(r+$e(s));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){const u=this.prepareExternalUrl(r+$e(s));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ue),l.LFG(Qe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends _e{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ke(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let u=this.prepareExternalUrl(r+$e(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){let u=this.prepareExternalUrl(r+$e(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ue),l.LFG(Qe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n{constructor(e,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Fe(ze(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+$e(i))}normalize(e){return n.stripTrailingSlash(function qe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$e(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$e(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=$e,n.joinWithSlash=ke,n.stripTrailingSlash=Fe,n.\u0275fac=function(e){return new(e||n)(l.LFG(_e),l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Te(){return new De((0,l.LFG)(_e),(0,l.LFG)(ue))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}class Xs{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Xs(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),Co(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Co(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Co(n,t){n.context.$implicit=t.item}let Bn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new hn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){$l("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){$l("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class hn{constructor(){this.$implicit=null,this.ngIf=null}}function $l(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class el{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ri=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Ar=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new el(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ri,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),pi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const To="browser";function ua(n){return"server"===n}let cu=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new da((0,l.LFG)(se),window)}),n})();class da{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function hs(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=uu(this.window.history)||uu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function uu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class So extends class nl extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){te||(te=n)}(new So)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function il(){return sn=sn||document.querySelector("base"),sn?sn.getAttribute("href"):null}();return null==e?null:function io(n){Yl=Yl||document.createElement("a"),Yl.setAttribute("href",n);const t=Yl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){sn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Xa(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Yl,sn=null;const wi=new l.OlP("TRANSITION_ID"),wn=[{provide:l.ip1,useFactory:function du(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[wi,se,l.zs3],multi:!0}];class fs{static init(){(0,l.VLi)(new fs)}addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(g){u=u||g,s--,0==s&&i(u)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Di=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Io=new l.OlP("EventManagerPlugins");let Is=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Io),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class rl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let $r=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ps=(()=>{class n extends $r{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ha),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ha))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ha(n){L().remove(n)}const Tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ro=/%COMP%/g;function fa(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?fa(n,r,e):(r=r.replace(ro,n),e.push(r))}return e}function xe(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ao=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new yn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new xr(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case l.ifc.ShadowDom:return new gu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=fa(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Is),l.LFG(ps),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class yn{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Tt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Tt[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Tt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,xe(i)):this.eventManager.addEventListener(t,e,xe(i))}}class xr extends yn{constructor(t,e,i,r){super(t),this.component=i;const s=fa(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Kl(n){return"_ngcontent-%COMP%".replace(ro,n)}(r+"-"+i.id),this.hostAttr=function pu(n){return"_nghost-%COMP%".replace(ro,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class gu extends yn{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=fa(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let mu=(()=>{class n extends rl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _u=["alt","control","meta","shift"],am={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},As={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let kr=(()=>{class n extends rl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,s.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="";if(_u.forEach(g=>{const v=i.indexOf(g);v>-1&&(i.splice(v,1),u+=g+".")}),u+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function Jl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&As.hasOwnProperty(t)&&(t=As[t]))}return am[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),_u.forEach(s=>{s!=r&&Pi[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ec=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:To},{provide:l.g9A,useValue:function so(){So.makeCurrent(),fs.init()},multi:!0},{provide:se,useFactory:function yu(){return(0,l.RDi)(document),document},deps:[]}]),vu=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function zr(){return new l.qLn},deps:[]},{provide:Io,useClass:mu,multi:!0,deps:[se,l.R0b,l.Lbi]},{provide:Io,useClass:kr,multi:!0,deps:[se]},{provide:Ao,useClass:Ao,deps:[Is,ps,l.AFp]},{provide:l.FYo,useExisting:Ao},{provide:$r,useExisting:ps},{provide:ps,useClass:ps,deps:[se]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Is,useClass:Is,deps:[Io,l.R0b]},{provide:class fn{},useClass:Di,deps:[]}];let pa=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:wi,useExisting:l.AFp},wn]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:vu,imports:[pi,l.hGG]}),n})();"undefined"!=typeof window&&window;let wu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):l.LFG(al),i},providedIn:"root"}),n})(),al=(()=>{class n extends wu{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(i),(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function gs(n){return new al(n.get(se))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var qr=P(2011),Dn=P(8996),ii=P(3269);function ct(...n){const t=(0,ii.yG)(n);return(0,Dn.D)(n,t)}var Lt=P(7579);class ln extends Lt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Cn=P(8306);const{isArray:Yd}=Array,{getPrototypeOf:_a,prototype:oo,keys:zn}=Object;function xs(n){if(1===n.length){const t=n[0];if(Yd(t))return{args:t,keys:null};if(function ya(n){return n&&"object"==typeof n&&_a(n)===oo}(t)){const e=zn(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Wr=P(4671),mt=P(4004);const{isArray:Zd}=Array;function oc(n){return(0,mt.U)(t=>function Kd(n,t){return Zd(t)?n(...t):n(t)}(n,t))}function ac(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var en=P(5403),va=P(9672);function ba(n,t,e){n?(0,va.f)(e,n,t):t()}var Li=P(576);function ms(n,t){const e=(0,Li.m)(n)?n:()=>n,i=r=>r.error(e());return new Cn.y(t?r=>t.schedule(i,0,r):i)}const wa=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Yr=P(8189);function cc(...n){return function lc(){return(0,Yr.J)(1)}()((0,Dn.D)(n,(0,ii.yG)(n)))}var Yi=P(8421);function cl(n){return new Cn.y(t=>{(0,Yi.Xf)(n()).subscribe(t)})}var Zi=P(515),pr=P(727),qn=P(4482);function Rs(){return(0,qn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,en.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class uc extends Cn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,qn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new pr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,en.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=pr.w0.EMPTY)}return t}refCount(){return Rs()(this)}}function kn(n,t){return(0,qn.e)((e,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,en.x)(i,g=>{null==r||r.unsubscribe();let v=0;const C=s++;(0,Yi.Xf)(n(g,C)).subscribe(r=(0,en.x)(i,I=>i.next(t?t(g,I,C,v++):I),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var vn=P(5698);function ri(...n){const t=(0,ii.yG)(n);return(0,qn.e)((e,i)=>{(t?cc(n,e,t):cc(n,e)).subscribe(i)})}function Da(n,t,e,i,r){return(s,u)=>{let h=e,g=t,v=0;s.subscribe((0,en.x)(u,C=>{const I=v++;g=h?n(g,C,I):(h=!0,C),i&&u.next(g)},r&&(()=>{h&&u.next(g),u.complete()})))}}function Rr(n,t){return(0,qn.e)(Da(n,t,arguments.length>=2,!0))}function Rn(n,t){return(0,qn.e)((e,i)=>{let r=0;e.subscribe((0,en.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Zr(n){return(0,qn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,en.x)(e,void 0,void 0,u=>{s=(0,Yi.Xf)(n(u,Zr(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}var bn=P(5577);function Oo(n,t){return(0,Li.m)(t)?(0,bn.z)(n,t,1):(0,bn.z)(n,1)}function dc(n){return n<=0?()=>Zi.E:(0,qn.e)((t,e)=>{let i=[];t.subscribe((0,en.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function En(n=dm){return(0,qn.e)((t,e)=>{let i=!1;t.subscribe((0,en.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function dm(){return new wa}function hm(n){return(0,qn.e)((t,e)=>{let i=!1;t.subscribe((0,en.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Po(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Rn((r,s)=>n(r,s,i)):Wr.y,(0,vn.q)(1),e?hm(t):En(()=>new wa))}var Wn=P(8505);function Ff(n){return(0,qn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ao{constructor(t,e){this.id=t,this.url=e}}class Fo extends ao{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ca extends ao{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Un extends ao{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ul extends ao{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hc extends ao{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qd extends ao{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lf extends ao{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ki extends ao{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends ao{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dl{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lo{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ns{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lo{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hl{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Du{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Bt="primary";class Vf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Yn(n){return new Vf(n)}const fc="ngNavigationCancelingError";function co(n){const t=Error("NavigationCancelingError: "+n);return t[fc]=!0,t}function Ps(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Nr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Xd(n[r],t[r]))return!1;return!0}function Xd(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function _s(n){return Array.prototype.concat.apply([],n)}function pc(n){return n.length>0?n[n.length-1]:null}function Tn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Or(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Dn.D)(Promise.resolve(n)):ct(n)}const Bo={exact:function S(n,t,e){if(!Ut(n.segments,t.segments)||!oe(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!S(n.children[i],t.children[i],e))return!1;return!0},subset:B},Ea={exact:function T(n,t){return Nr(n,t)},subset:function R(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Xd(n[e],t[e]))},ignored:()=>!0};function Ta(n,t,e){return Bo[e.paths](n.root,t.root,e.matrixParams)&&Ea[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function B(n,t,e){return ee(n,t,t.segments,e)}function ee(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ut(r,e)||t.hasChildren()||!oe(r,e,i))}if(n.segments.length===e.length){if(!Ut(n.segments,e)||!oe(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!B(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Ut(n.segments,r)&&oe(n.segments,r,i)&&n.children[Bt])&&ee(n.children[Bt],t,s,i)}}function oe(n,t,e){return t.every((i,r)=>Ea[e](n[r].parameters,i.parameters))}class Ne{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return Sa.serialize(this)}}class Pe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Tn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fs(this)}}class ut{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Yn(this.parameters)),this._parameterMap}toString(){return Eu(this)}}function Ut(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Zn{}class si{parse(t){const e=new mm(t);return new Ne(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Qi(t.root,!0)}`,i=function jf(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Pr(e)}=${Pr(r)}`).join("&"):`${Pr(e)}=${Pr(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Ia(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Sa=new si;function Fs(n){return n.segments.map(t=>Eu(t)).join("/")}function Qi(n,t){if(!n.hasChildren())return Fs(n);if(t){const e=n.children[Bt]?Qi(n.children[Bt],!1):"",i=[];return Tn(n.children,(r,s)=>{s!==Bt&&i.push(`${s}:${Qi(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Rt(n,t){let e=[];return Tn(n.children,(i,r)=>{r===Bt&&(e=e.concat(t(i,r)))}),Tn(n.children,(i,r)=>{r!==Bt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Bt?[Qi(n.children[Bt],!1)]:[`${r}:${Qi(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${Fs(n)}/${e[0]}`:`${Fs(n)}/(${e.join("//")})`}}function mr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pr(n){return mr(n).replace(/%3B/gi,";")}function eh(n){return mr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gc(n){return decodeURIComponent(n)}function Cu(n){return gc(n.replace(/\+/g,"%20"))}function Eu(n){return`${eh(n.path)}${function Uf(n){return Object.keys(n).map(t=>`;${eh(t)}=${eh(n[t])}`).join("")}(n.parameters)}`}const By=/^[^\/()?;=#]+/;function Uo(n){const t=n.match(By);return t?t[0]:""}const Tu=/^[^=?&#]+/,Gw=/^[^&#]+/;class mm{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Bt]=new Pe(t,e)),i}parseSegment(){const t=Uo(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ut(gc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Uo(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Uo(this.remaining);r&&(i=r,this.capture(i))}t[gc(e)]=gc(i)}parseQueryParam(t){const e=function Hf(n){const t=n.match(Tu);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function gm(n){const t=n.match(Gw);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Cu(e),s=Cu(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Uo(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Bt);const u=this.parseChildren();e[s]=1===Object.keys(u).length?u[Bt]:new Pe([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Uy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=mc(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=mc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Gf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Gf(t,this._root).map(e=>e.value)}}function mc(n,t){if(n===t.value)return t;for(const e of t.children){const i=mc(n,e);if(i)return i}return null}function Gf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Gf(n,e);if(i.length)return i.unshift(t),i}return[]}class jo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ho(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class th extends Uy{constructor(t,e){super(t),this.snapshot=e,nh(this,t)}toString(){return this.snapshot.toString()}}function fl(n,t){const e=function jy(n,t){const u=new vc([],{},{},"",{},Bt,t,null,n.root,-1,{});return new $f("",new jo(u,[]))}(n,t),i=new ln([new ut("",{})]),r=new ln({}),s=new ln({}),u=new ln({}),h=new ln(""),g=new _c(i,r,u,h,s,Bt,t,e.root);return g.snapshot=e.root,new th(new jo(g,[]),e)}class _c{constructor(t,e,i,r,s,u,h,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(t=>Yn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(t=>Yn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hy(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function yc(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class vc{constructor(t,e,i,r,s,u,h,g,v,C,I){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=C,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $f extends Uy{constructor(t,e){super(e),this.url=t,nh(this,e)}toString(){return zf(this._root)}}function nh(n,t){t.value._routerState=n,t.children.forEach(e=>nh(n,e))}function zf(n){const t=n.children.length>0?` { ${n.children.map(zf).join(", ")} } `:"";return`${n.value}${t}`}function Go(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Nr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Nr(t.params,e.params)||n.params.next(e.params),function Jd(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Nr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Nr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ih(n,t){const e=Nr(n.params,t.params)&&function It(n,t){return Ut(n,t)&&n.every((e,i)=>Nr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ih(n.parent,t.parent))}function Su(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function $y(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Su(n,i,r);return Su(n,i)})}(n,t,e);return new jo(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Su(n,h)),u}}const i=function zy(n){return new _c(new ln(n.url),new ln(n.params),new ln(n.queryParams),new ln(n.fragment),new ln(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Su(n,s));return new jo(i,r)}}function $o(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Aa(n){return"object"==typeof n&&null!=n&&n.outlets}function qf(n,t,e,i,r){let s={};if(i&&Tn(i,(h,g)=>{s[g]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),n===t)return new Ne(e,s,r);const u=Wf(n,t,e);return new Ne(u,s,r)}function Wf(n,t,e){const i={};return Tn(n.children,(r,s)=>{i[s]=r===t?e:Wf(r,t,e)}),new Pe(n.segments,i)}class _m{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&$o(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Aa);if(r&&r!==pc(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function vm(n,t,e){if(n||(n=new Pe([],{})),0===n.segments.length&&n.hasChildren())return rh(n,t,e);const i=function n1(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const u=n.segments[r],h=e[i];if(Aa(h))break;const g=`${h}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!Kr(g,v,u))return s;i+=2}else{if(!Kr(g,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Pe(n.segments.slice(0,i.pathIndex),{});return s.children[Bt]=new Pe(n.segments.slice(i.pathIndex),n.children),rh(s,0,r)}return i.match&&0===r.length?new Pe(n.segments,{}):i.match&&!n.hasChildren()?zo(n,t,e):i.match?rh(n,0,r):zo(n,t,e)}function rh(n,t,e){if(0===e.length)return new Pe(n.segments,{});{const i=function qy(n){return Aa(n[0])?n[0].outlets:{[Bt]:n}}(e),r={};return Tn(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=vm(n.children[u],t,s))}),Tn(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new Pe(n.segments,r)}}function zo(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Aa(s)){const g=Iu(s.outlets);return new Pe(i,g)}if(0===r&&$o(e[0])){i.push(new ut(n.segments[t].path,Qf(e[0]))),r++;continue}const u=Aa(s)?s.outlets[Bt]:`${s}`,h=r<e.length-1?e[r+1]:null;u&&h&&$o(h)?(i.push(new ut(u,Qf(h))),r+=2):(i.push(new ut(u,{})),r++)}return new Pe(i,{})}function Iu(n){const t={};return Tn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=zo(new Pe([],{}),0,e))}),t}function Qf(n){const t={};return Tn(n,(e,i)=>t[i]=`${e}`),t}function Kr(n,t,e){return n==e.path&&Nr(t,e.parameters)}class sh{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Go(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ho(e);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),Tn(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ho(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ho(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ho(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new hl(s.value.snapshot))}),t.children.length&&this.forwardEvent(new lo(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Go(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Go(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function bm(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),g=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=g,u.outlet&&u.outlet.activateWith(r,g),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class oh{constructor(t,e){this.routes=t,this.module=e}}function qo(n){return"function"==typeof n}function bc(n){return n instanceof Ne}const ah=Symbol("INITIAL_VALUE");function wc(){return kn(n=>function ks(...n){const t=(0,ii.yG)(n),e=(0,ii.jO)(n),{args:i,keys:r}=xs(n);if(0===i.length)return(0,Dn.D)([],t);const s=new Cn.y(function Fi(n,t,e=Wr.y){return i=>{ba(t,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let g=0;g<r;g++)ba(t,()=>{const v=(0,Dn.D)(n[g],t);let C=!1;v.subscribe((0,en.x)(i,I=>{s[g]=I,C||(C=!0,h--),h||i.next(e(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>ac(r,u):Wr.y));return e?s.pipe(oc(e)):s}(n.map(t=>t.pipe((0,vn.q)(1),ri(ah)))).pipe(Rr((t,e)=>{let i=!1;return e.reduce((r,s,u)=>r!==ah?r:(s===ah&&(i=!0),i||!1!==s&&u!==e.length-1&&!bc(s)?r:s),t)},ah),Rn(t=>t!==ah),(0,mt.U)(t=>bc(t)?t:!0===t),(0,vn.q)(1)))}class wm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new pl,this.attachRef=null}}class pl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new wm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let xu=(()=>{class n{constructor(e,i,r,s,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=s||Bt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,g=new Wy(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(pl),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Wy{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===_c?this.route:t===pl?this.childContexts:this.parent.get(t,e)}}let ku=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:[xu],encapsulation:2}),n})();function gl(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Dm(i,ep(t,i))}}function Dm(n,t){n.children&&gl(n.children,t)}function ep(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Dc(n){const t=n.children&&n.children.map(Dc),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Bt&&(e.component=ku),e}function tn(n){return n.outlet||Bt}function Cm(n,t){const e=n.filter(i=>tn(i)===t);return e.push(...n.filter(i=>tn(i)!==t)),e}const Em={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ml(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Em):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||Ps)(e,n,t);if(!s)return Object.assign({},Em);const u={};Tn(s.posParams,(g,v)=>{u[v]=g.path});const h=s.consumed.length>0?Object.assign(Object.assign({},u),s.consumed[s.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Ru(n,t,e,i,r="corrected"){if(e.length>0&&function Ky(n,t,e){return e.some(i=>ch(n,t,i)&&tn(i)!==Bt)}(n,e,i)){const u=new Pe(t,function Zy(n,t,e,i){const r={};r[Bt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&tn(s)!==Bt){const u=new Pe([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[tn(s)]=u}return r}(n,t,i,new Pe(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function lh(n,t,e){return e.some(i=>ch(n,t,i))}(n,e,i)){const u=new Pe(n.segments,function Yy(n,t,e,i,r,s){const u={};for(const h of i)if(ch(n,e,h)&&!r[tn(h)]){const g=new Pe([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===s?n.segments.length:t.length,u[tn(h)]=g}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const s=new Pe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function ch(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Tm(n,t,e,i){return!!(tn(n)===i||i!==Bt&&ch(t,e,n))&&("**"===n.path||ml(t,n,e).matched)}function Qy(n,t,e){return 0===t.length&&!n.children[e]}class Ma{constructor(t){this.segmentGroup=t||null}}class Ji{constructor(t){this.urlTree=t}}function _l(n){return ms(new Ma(n))}function uh(n){return ms(new Ji(n))}class tp{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=Ru(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pe(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Bt).pipe((0,mt.U)(s=>this.createUrlTree(ip(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zr(s=>{if(s instanceof Ji)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ma?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Bt).pipe((0,mt.U)(r=>this.createUrlTree(ip(r),t.queryParams,t.fragment))).pipe(Zr(r=>{throw r instanceof Ma?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Pe([],{[Bt]:t}):t;return new Ne(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,mt.U)(s=>new Pe([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Dn.D)(r).pipe(Oo(s=>{const u=i.children[s],h=Cm(e,s);return this.expandSegmentGroup(t,h,u,s).pipe((0,mt.U)(g=>({segment:g,outlet:s})))}),Rr((s,u)=>(s[u.outlet]=u.segment,s),{}),function fm(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Rn((r,s)=>n(r,s,i)):Wr.y,dc(1),e?hm(t):En(()=>new wa))}())}expandSegment(t,e,i,r,s,u){return(0,Dn.D)(i).pipe(Oo(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,s,u).pipe(Zr(v=>{if(v instanceof Ma)return ct(null);throw v}))),Po(h=>!!h),Zr((h,g)=>{if(h instanceof wa||"EmptyError"===h.name)return Qy(e,r,s)?ct(new Pe([],{})):_l(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,s,u,h){return Tm(r,e,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u):_l(e):_l(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?uh(s):this.lineralizeSegments(i,s).pipe((0,bn.z)(u=>{const h=new Pe(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){const{matched:h,consumedSegments:g,remainingSegments:v,positionalParamSegments:C}=ml(e,r,s);if(!h)return _l(e);const I=this.applyRedirectCommands(g,r.redirectTo,C);return r.redirectTo.startsWith("/")?uh(I):this.lineralizeSegments(r,I).pipe((0,bn.z)(N=>this.expandSegment(t,e,i,N.concat(v),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ct(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,mt.U)(I=>(i._loadedConfig=I,new Pe(r,{})))):ct(new Pe(r,{}));const{matched:u,consumedSegments:h,remainingSegments:g}=ml(e,i,r);return u?this.getChildConfig(t,i,r).pipe((0,bn.z)(C=>{const I=C.module,N=C.routes,{segmentGroup:F,slicedSegments:U}=Ru(e,h,g,N),Y=new Pe(F.segments,F.children);if(0===U.length&&Y.hasChildren())return this.expandChildren(I,N,Y).pipe((0,mt.U)(Ye=>new Pe(h,Ye)));if(0===N.length&&0===U.length)return ct(new Pe(h,{}));const ce=tn(i)===s;return this.expandSegment(I,Y,N,U,ce?Bt:s,!0).pipe((0,mt.U)(Ve=>new Pe(h.concat(Ve.segments),Ve.children)))})):_l(e)}getChildConfig(t,e,i){return e.children?ct(new oh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ct(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,bn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,mt.U)(s=>(e._loadedConfig=s,s))):function Ci(n){return ms(co(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):ct(new oh([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?ct(r.map(u=>{const h=t.get(u);let g;if(function Mu(n){return n&&qo(n.canLoad)}(h))g=h.canLoad(e,i);else{if(!qo(h))throw new Error("Invalid CanLoad guard");g=h(e,i)}return Or(g)})).pipe(wc(),(0,Wn.b)(u=>{if(!bc(u))return;const h=co(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,mt.U)(u=>!0===u)):ct(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ct(i);if(r.numberOfChildren>1||!r.children[Bt])return ms(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Bt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Ne(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Tn(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=e[h]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let u={};return Tn(e.children,(h,g)=>{u[g]=this.createSegmentGroup(t,h,i,r)}),new Pe(s,u)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function ip(n){const t={};for(const i of Object.keys(n.children)){const s=ip(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function np(n){if(1===n.numberOfChildren&&n.children[Bt]){const t=n.children[Bt];return new Pe(n.segments.concat(t.segments),t.children)}return n}(new Pe(n.segments,t))}class Ec{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Tc{constructor(t,e){this.component=t,this.route=e}}function Jy(n,t,e){const i=n._root;return xa(i,t?t._root:null,e,[i.value])}function Sc(n,t,e){const i=function Xy(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function xa(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ho(t);return n.children.forEach(u=>{(function ev(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const g=function ka(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ut(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ut(n.url,t.url)||!Nr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ih(n,t)||!Nr(n.queryParams,t.queryParams);default:return!ih(n,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new Ec(i)):(s.data=u.data,s._resolvedData=u._resolvedData),xa(n,t,s.component?h?h.children:null:e,i,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Tc(h.outlet.component,u))}else u&&Ra(t,h,r),r.canActivateChecks.push(new Ec(i)),xa(n,null,s.component?h?h.children:null:e,i,r)})(u,s[u.value.outlet],e,i.concat([u.value]),r),delete s[u.value.outlet]}),Tn(s,(u,h)=>Ra(u,e.getContext(h),r)),r}function Ra(n,t,e){const i=Ho(n),r=n.value;Tn(i,(s,u)=>{Ra(s,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Tc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class uo{}function Ic(n){return new Cn.y(t=>t.error(n))}class Am{constructor(t,e,i,r,s,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=u}recognize(){const t=Ru(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Bt);if(null===e)return null;const i=new vc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new jo(i,e),s=new $f(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=Hy(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const u=e.children[s],h=Cm(t,s),g=this.processSegmentGroup(h,u,s);if(null===g)return null;i.push(...g)}const r=Mm(i);return function rv(n){n.sort((t,e)=>t.value.outlet===Bt?-1:e.value.outlet===Bt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const u=this.processSegmentAgainstRoute(s,e,i,r);if(null!==u)return u}return Qy(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Tm(t,e,i,r))return null;let s,u=[],h=[];if("**"===t.path){const F=i.length>0?pc(i).parameters:{};s=new vc(i,F,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,p(t),tn(t),t.component,t,yl(e),y(e)+i.length,_(t))}else{const F=ml(e,t,i);if(!F.matched)return null;u=F.consumedSegments,h=F.remainingSegments,s=new vc(u,F.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,p(t),tn(t),t.component,t,yl(e),y(e)+u.length,_(t))}const g=function op(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:v,slicedSegments:C}=Ru(e,u,h,g.filter(F=>void 0===F.redirectTo),this.relativeLinkResolution);if(0===C.length&&v.hasChildren()){const F=this.processChildren(g,v);return null===F?null:[new jo(s,F)]}if(0===g.length&&0===C.length)return[new jo(s,[])];const I=tn(t)===r,N=this.processSegment(g,v,C,I?Bt:r);return null===N?null:[new jo(s,N)]}}function sv(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Mm(n){const t=[],e=new Set;for(const i of n){if(!sv(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Mm(i.children);t.push(new jo(i.value,r))}return t.filter(i=>!e.has(i))}function yl(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function y(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function p(n){return n.data||{}}function _(n){return n.resolve||{}}function ge(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rt(n){return kn(t=>{const e=n(t);return e?(0,Dn.D)(e).pipe((0,mt.U)(()=>t)):ct(t)})}class oi extends class bt{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const _r=new l.OlP("ROUTES");class vl{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,mt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=s.create(t);return new oh(_s(u.injector.get(_r,void 0,l.XFs.Self|l.XFs.Optional)).map(Dc),u)}),Zr(s=>{throw e._loader$=void 0,s}));return e._loader$=new uc(r,()=>new Lt.x).pipe(Rs()),e._loader$}loadModuleFactory(t){return Or(t()).pipe((0,bn.z)(e=>e instanceof l.YKP?ct(e):(0,Dn.D)(this.compiler.compileModuleAsync(e))))}}class xm{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function bl(n){throw n}function ph(n,t,e){return t.parse("/")}function Nu(n,t){return ct(null)}const km={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xi=(()=>{class n{constructor(e,i,r,s,u,h,g){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Lt.x,this.errorHandler=bl,this.malformedUriErrorHandler=ph,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Nu,afterPreactivation:Nu},this.urlHandlingStrategy=new xm,this.routeReuseStrategy=new oi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const I=u.get(l.R0b);this.isNgZoneEnabled=I instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function Bf(){return new Ne(new Pe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vl(u,h,N=>this.triggerEvent(new dl(N)),N=>this.triggerEvent(new Lo(N))),this.routerState=fl(this.currentUrlTree,this.rootComponentType),this.transitions=new ln({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Rn(r=>0!==r.id),(0,mt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),kn(r=>{let s=!1,u=!1;return ct(r).pipe((0,Wn.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kn(h=>{const g=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Nm(h.source)&&(this.browserUrlTree=h.extractedUrl),ct(h).pipe(kn(I=>{const N=this.transitions.getValue();return i.next(new Fo(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),N!==this.transitions.getValue()?Zi.E:Promise.resolve(I)}),function Fr(n,t,e,i){return kn(r=>function Cc(n,t,e,i,r){return new tp(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,mt.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Wn.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function w(n,t,e,i,r){return(0,bn.z)(s=>function Im(n,t,e,i,r="emptyOnly",s="legacy"){try{const u=new Am(n,t,e,i,r,s).recognize();return null===u?Ic(new uo):ct(u)}catch(u){return Ic(u)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,mt.U)(u=>Object.assign(Object.assign({},s),{targetSnapshot:u}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Wn.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(F,I)}this.browserUrlTree=I.urlAfterRedirects}const N=new hc(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(N)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:F,source:U,restoredState:Y,extras:ce}=h,Be=new Fo(N,this.serializeUrl(F),U,Y);i.next(Be);const Ve=fl(F,this.rootComponentType).snapshot;return ct(Object.assign(Object.assign({},h),{targetSnapshot:Ve,urlAfterRedirects:F,extras:Object.assign(Object.assign({},ce),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Zi.E}),rt(h=>{const{targetSnapshot:g,id:v,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:N,replaceUrl:F}}=h;return this.hooks.beforePreactivation(g,{navigationId:v,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!N,replaceUrl:!!F})}),(0,Wn.b)(h=>{const g=new Qd(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,mt.U)(h=>Object.assign(Object.assign({},h),{guards:Jy(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function tv(n,t){return(0,bn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=e;return 0===u.length&&0===s.length?ct(Object.assign(Object.assign({},e),{guardsResult:!0})):function nv(n,t,e,i){return(0,Dn.D)(n).pipe((0,bn.z)(r=>function iv(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ct(s.map(h=>{const g=Sc(h,t,r);let v;if(function zw(n){return n&&qo(n.canDeactivate)}(g))v=Or(g.canDeactivate(n,t,e,i));else{if(!qo(g))throw new Error("Invalid CanDeactivate guard");v=Or(g(n,t,e,i))}return v.pipe(Po())})).pipe(wc()):ct(!0)}(r.component,r.route,e,t,i)),Po(r=>!0!==r,!0))}(u,i,r,n).pipe((0,bn.z)(h=>h&&function $w(n){return"boolean"==typeof n}(h)?function fh(n,t,e,i){return(0,Dn.D)(t).pipe(Oo(r=>cc(function Lr(n,t){return null!==n&&t&&t(new Ns(n)),ct(!0)}(r.route.parent,i),function Sm(n,t){return null!==n&&t&&t(new Os(n)),ct(!0)}(r.route,i),function sp(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function hh(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>cl(()=>ct(u.guards.map(g=>{const v=Sc(g,u.node,e);let C;if(function Xf(n){return n&&qo(n.canActivateChild)}(v))C=Or(v.canActivateChild(i,n));else{if(!qo(v))throw new Error("Invalid CanActivateChild guard");C=Or(v(i,n))}return C.pipe(Po())})).pipe(wc())));return ct(s).pipe(wc())}(n,r.path,e),function rp(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ct(!0);const r=i.map(s=>cl(()=>{const u=Sc(s,t,e);let h;if(function Jf(n){return n&&qo(n.canActivate)}(u))h=Or(u.canActivate(t,n));else{if(!qo(u))throw new Error("Invalid CanActivate guard");h=Or(u(t,n))}return h.pipe(Po())}));return ct(r).pipe(wc())}(n,r.route,e))),Po(r=>!0!==r,!0))}(i,s,n,t):ct(h)),(0,mt.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Wn.b)(h=>{if(bc(h.guardsResult)){const v=co(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw v.url=h.guardsResult,v}const g=new Lf(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),Rn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),rt(h=>{if(h.guards.canActivateChecks.length)return ct(h).pipe((0,Wn.b)(g=>{const v=new Ki(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),kn(g=>{let v=!1;return ct(g).pipe(function M(n,t){return(0,bn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ct(e);let s=0;return(0,Dn.D)(r).pipe(Oo(u=>function O(n,t,e,i){return function Q(n,t,e,i){const r=ge(n);if(0===r.length)return ct({});const s={};return(0,Dn.D)(r).pipe((0,bn.z)(u=>function Ge(n,t,e,i){const r=Sc(n,t,i);return Or(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,Wn.b)(h=>{s[u]=h}))),dc(1),(0,bn.z)(()=>ge(s).length===r.length?ct(s):Zi.E))}(n._resolve,n,t,i).pipe((0,mt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Hy(n,e).resolve),null)))}(u.route,i,n,t)),(0,Wn.b)(()=>s++),dc(1),(0,bn.z)(u=>s===r.length?ct(e):Zi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Wn.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,Wn.b)(g=>{const v=new gr(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),rt(h=>{const{targetSnapshot:g,id:v,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:N,replaceUrl:F}}=h;return this.hooks.afterPreactivation(g,{navigationId:v,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!N,replaceUrl:!!F})}),(0,mt.U)(h=>{const g=function Gy(n,t,e){const i=Su(n,t._root,e?e._root:void 0);return new th(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:g})}),(0,Wn.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,mt.U)(i=>(new sh(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Wn.b)({next(){s=!0},complete(){s=!0}}),Ff(()=>{var h;s||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Zr(h=>{if(u=!0,function pm(n){return n&&n[fc]}(h)){const g=bc(h.url);g||(this.navigated=!0,this.restoreHistory(r,!0));const v=new Un(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(v),g?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nm(r.source)};this.scheduleNavigation(C,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new ul(r.id,this.serializeUrl(r.extractedUrl),h);i.next(g);try{r.resolve(this.errorHandler(h))}catch(v){r.reject(v)}}return Zi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const g=Object.assign({},u);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(s.state=g)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){gl(e),this.config=e.map(Dc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:g}=i,v=r||this.routerState.root,C=g?this.currentUrlTree.fragment:u;let I=null;switch(h){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),function Ls(n,t,e,i,r){if(0===e.length)return qf(t.root,t.root,t.root,i,r);const s=function Yf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _m(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Tn(s.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new _m(e,t,i)}(e);if(s.toRoot())return qf(t.root,t.root,new Pe([],{}),i,r);const u=function Kf(n,t,e){if(n.isAbsolute)return new Zf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new Zf(s,s===t.root,0)}const i=$o(n.commands[0])?0:1;return function ym(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Zf(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),h=u.processChildren?rh(u.segmentGroup,u.index,s.commands):vm(u.segmentGroup,u.index,s.commands);return qf(t.root,u.segmentGroup,h,i,r)}(v,this.currentUrlTree,e,I,null!=C?C:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=bc(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Rm(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},km):!1===i?Object.assign({},gh):i,bc(e))return Ta(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Ta(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ca(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,u){var h,g;if(this.disposed)return Promise.resolve(!1);let v,C,I;u?(v=u.resolve,C=u.reject,I=u.promise):I=new Promise((U,Y)=>{v=U,C=Y});const N=++this.navigationId;let F;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),F=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(g=this.browserPageId)&&void 0!==g?g:0)+1):F=0,this.setTransition({id:N,targetPageId:F,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:v,reject:C,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(U=>Promise.reject(U))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Un(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Nm(n){return"imperative"!==n}let Pu=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Lt.x,this.subscription=e.events.subscribe(s=>{s instanceof Ca&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,u){if(0!==e||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:mh(this.skipLocationChange),replaceUrl:mh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:mh(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Xi),l.Y36(_c),l.Y36(_e))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function mh(n){return""===n||!!n}class av{}class Yw{preload(t,e){return ct(null)}}let Zw=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new vl(r,i,g=>e.triggerEvent(new dl(g)),g=>e.triggerEvent(new Lo(g)))}setUpPreloading(){this.subscription=this.router.events.pipe(Rn(e=>e instanceof Ca),Oo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const u=s._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,Dn.D)(r).pipe((0,Yr.J)(),(0,mt.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ct(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,bn.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Xi),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(av))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Om=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Fo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ca&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Du&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Du(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Vs=new l.OlP("ROUTER_CONFIGURATION"),cv=new l.OlP("ROUTER_FORROOT_GUARD"),Kw=[De,{provide:Zn,useClass:si},{provide:Xi,useFactory:function dv(n,t,e,i,r,s,u={},h,g){const v=new Xi(null,n,t,e,i,r,_s(s));return h&&(v.urlHandlingStrategy=h),g&&(v.routeReuseStrategy=g),function Xw(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,v),u.enableTracing&&v.events.subscribe(C=>{var I,N;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(N=console.groupEnd)||void 0===N||N.call(console)}),v},deps:[Zn,pl,De,l.zs3,l.Sil,_r,Vs,[class ap{},new l.FiY],[class wt{},new l.FiY]]},pl,{provide:_c,useFactory:function Pm(n){return n.routerState.root},deps:[Xi]},Zw,Yw,class lv{preload(t,e){return e().pipe(Zr(()=>ct(null)))}},{provide:Vs,useValue:{enableTracing:!1}}];function s1(){return new l.PXZ("Router",Xi)}let lp=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Kw,uv(e),{provide:cv,useFactory:Jw,deps:[[Xi,new l.FiY,new l.tp0]]},{provide:Vs,useValue:i||{}},{provide:_e,useFactory:Qw,deps:[ue,[new l.tBr(Qe),new l.FiY],Vs]},{provide:Om,useFactory:o1,deps:[Xi,cu,Vs]},{provide:av,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Yw},{provide:l.PXZ,multi:!0,useFactory:s1},[_h,{provide:l.ip1,multi:!0,useFactory:eD,deps:[_h]},{provide:fv,useFactory:hv,deps:[_h]},{provide:l.tb,multi:!0,useExisting:fv}]]}}static forChild(e){return{ngModule:n,providers:[uv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cv,8),l.LFG(Xi,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function o1(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Om(n,t,e)}function Qw(n,t,e={}){return e.useHash?new Ae(n,t):new it(n,t)}function Jw(n){return"guarded"}function uv(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:_r,multi:!0,useValue:n}]}let _h=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Lt.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),s=this.injector.get(Xi),u=this.injector.get(Vs);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ct(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Vs),r=this.injector.get(Zw),s=this.injector.get(Om),u=this.injector.get(Xi),h=this.injector.get(l.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),s.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function eD(n){return n.appInitializer.bind(n)}function hv(n){return n.bootstrapListener.bind(n)}const fv=new l.OlP("Router Initializer");var gv=P(6451),cp=P(5363),a1=P(6063);class l1 extends Lt.x{constructor(t=1/0,e=1/0,i=a1.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;e||(i.push(t),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!t.closed;u+=i?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=e.now();let h=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)h=g;h&&i.splice(0,h+1)}}}var mv=P(3099);function Lm(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,mv.B)({connector:()=>new l1(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function _v(n,t){return(0,Li.m)(t)?kn(()=>n,t):kn(()=>n)}var tD=P(9468),er=P(5813);P(5867);var Ee=P(5861),Na=P(9681),ys=P(4859),qt=P(2090),Ac=P(1877);const Vm=new Map,wl={activated:!1,tokenObservers:[]},vv={initialized:!1,enabled:!1};function Vi(n){return Vm.get(n)||wl}function Bs(n,t){Vm.set(n,t)}function bv(){return vv}class Dv{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ee.Z)(function*(){e.stop();try{e.pending=new qt.BH,yield function Px(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new qt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Qr=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iD(n){if(!Vi(n).activated)throw Qr.create("use-before-activation",{appName:n.name})}function oD(n,t){return zm.apply(this,arguments)}function zm(){return(zm=(0,Ee.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const s={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,s)}catch(I){throw Qr.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==u.status)throw Qr.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(I){throw Qr.create("fetch-parse-error",{originalErrorMessage:I.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Qr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(g[1]),C=Date.now();return{token:h.token,expireTimeMillis:C+v,issuedAtTimeMillis:C}})).apply(this,arguments)}function Cv(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const qm="firebase-app-check-store";let Ev=null;function v1(){return Ev||(Ev=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Qr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(qm,{keyPath:"compositeKey"})}}catch(e){t(Qr.create("storage-open",{originalErrorMessage:e.message}))}}),Ev)}function dp(){return(dp=(0,Ee.Z)(function*(n,t){const i=(yield v1()).transaction(qm,"readwrite"),s=i.objectStore(qm).put({compositeKey:n,value:t});return new Promise((u,h)=>{s.onsuccess=g=>{u()},i.onerror=g=>{var v;h(Qr.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const yh=new Ac.Yd("@firebase/app-check");function Cl(n,t){return(0,qt.hl)()?function Bx(n,t){return function Dl(n,t){return dp.apply(this,arguments)}(function Ym(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{yh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Zm(){return bv().enabled}function uD(){return Km.apply(this,arguments)}function Km(){return(Km=(0,Ee.Z)(function*(){const n=bv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const w1={error:"UNKNOWN_ERROR"};function hp(n){return qt.US.encodeString(JSON.stringify(n),!1)}function El(n){return fp.apply(this,arguments)}function fp(){return(fp=(0,Ee.Z)(function*(n,t=!1){const e=n.app;iD(e);const i=Vi(e);let s,r=i.token;if(!r){const g=yield i.cachedTokenPromise;g&&pp(g)&&(r=g)}if(!t&&r&&pp(r))return{token:r.token};let h,u=!1;if(Zm()){i.exchangeTokenPromise||(i.exchangeTokenPromise=oD(Cv(e,yield uD()),n.heartbeatServiceProvider).then(v=>(i.exchangeTokenPromise=void 0,v)),u=!0);const g=yield i.exchangeTokenPromise;return yield Cl(e,g),Bs(e,Object.assign(Object.assign({},i),{token:g})),{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(g=>(i.exchangeTokenPromise=void 0,g)),u=!0),r=yield i.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?yh.warn(g.message):yh.error(g),s=g}return r?(h={token:r.token},Bs(e,Object.assign(Object.assign({},i),{token:r})),yield Cl(e,r)):h=Mv(s),u&&Av(e,h),h})).apply(this,arguments)}function Fu(n,t){const e=Vi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Bs(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Lu(n){const{app:t}=n,e=Vi(t);let i=e.tokenRefresher;i||(i=function D1(n){const{app:t}=n;return new Dv((0,Ee.Z)(function*(){let i;if(i=Vi(t).token?yield El(n,!0):yield El(n),i.error)throw i.error}),()=>!0,()=>{const e=Vi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Bs(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Av(n,t){const e=Vi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function pp(n){return n.expireTimeMillis-Date.now()>0}function Mv(n){return{token:hp(w1),error:n}}class xv{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Vi(this.app);for(const e of t)Fu(this.app,e.next);return Promise.resolve()}}const vD="app-check-internal";!function k1(){(0,Na._registerComponent)(new ys.wA("app-check",n=>function dD(n,t){return new xv(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(vD).initialize()})),(0,Na._registerComponent)(new ys.wA(vD,n=>function Qm(n){return{getToken:t=>El(n,t),addTokenListener:t=>function Mc(n,t,e,i){const{app:r}=n,s=Vi(r),u={next:e,error:i,type:t};if(Bs(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,u]})),s.token&&pp(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),Lu(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Lu(n))}(n,"INTERNAL",t),removeTokenListener:t=>Fu(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Na.registerVersion)("@firebase/app-check","0.5.8")}();class Nv{constructor(){return(0,er.vb)("app-check")}}"undefined"!=typeof window&&window;var Fv=P(127);const Vv=new l.OlP("angularfire2.auth.use-emulator"),O1=new l.OlP("angularfire2.auth.settings"),P1=new l.OlP("angularfire2.auth.tenant-id"),t_=new l.OlP("angularfire2.auth.langugage-code"),F1=new l.OlP("angularfire2.auth.use-device-language"),DD=new l.OlP("angularfire.auth.persistence"),Bv=(n,t,e,i,r,s,u,h)=>(0,qr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=r,s&&g.useDeviceLanguage(),u)for(const[v,C]of Object.entries(u))g.settings[v]=C;return h&&g.setPersistence(h),g},[e,i,r,s,u,h]);let n_=(()=>{class n{constructor(e,i,r,s,u,h,g,v,C,I,N,F){const U=new Lt.x,Y=ct(void 0).pipe((0,cp.Q)(u.outsideAngular),kn(()=>s.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,7092)))),(0,mt.U)(()=>(0,qr.on)(e,s,i)),(0,mt.U)(ce=>Bv(ce,s,h,v,C,I,g,N)),Lm({bufferSize:1,refCount:!1}));if(ua(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{Y.pipe(Po()).subscribe();const Be=Y.pipe(kn(Ue=>Ue.getRedirectResult().then(et=>et,()=>null)),er.iC,Lm({bufferSize:1,refCount:!1})),Ve=Y.pipe(kn(Ue=>new Cn.y(et=>({unsubscribe:s.runOutsideAngular(()=>Ue.onAuthStateChanged(st=>et.next(st),st=>et.error(st),()=>et.complete()))})))),Ye=Y.pipe(kn(Ue=>new Cn.y(et=>({unsubscribe:s.runOutsideAngular(()=>Ue.onIdTokenChanged(st=>et.next(st),st=>et.error(st),()=>et.complete()))}))));this.authState=Be.pipe(_v(Ve),(0,tD.R)(u.outsideAngular),(0,cp.Q)(u.insideAngular)),this.user=Be.pipe(_v(Ye),(0,tD.R)(u.outsideAngular),(0,cp.Q)(u.insideAngular)),this.idToken=this.user.pipe(kn(Ue=>Ue?(0,Dn.D)(Ue.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(kn(Ue=>Ue?(0,Dn.D)(Ue.getIdTokenResult()):ct(null))),this.credential=(0,gv.T)(Be,U,this.authState.pipe(Rn(Ue=>!Ue))).pipe((0,mt.U)(Ue=>(null==Ue?void 0:Ue.user)?Ue:null),(0,tD.R)(u.outsideAngular),(0,cp.Q)(u.insideAngular))}return(0,qr.pX)(this,Y,s,{spy:{apply:(ce,Be,Ve)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&Ve.then(Ye=>U.next(Ye))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qr.Dh),l.LFG(qr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(er.HU),l.LFG(Vv,8),l.LFG(O1,8),l.LFG(P1,8),l.LFG(t_,8),l.LFG(F1,8),l.LFG(DD,8),l.LFG(Nv,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),i_=(()=>{class n{constructor(e,i){this.fireauth=e,this.router=i}login(e,i){this.fireauth.signInWithEmailAndPassword(e,i).then(()=>{localStorage.setItem("token","ture"),this.router.navigate(["dashboard"])},r=>{alert(r.message),this.router.navigate(["/login"])})}register(e,i){this.fireauth.createUserWithEmailAndPassword(e,i).then(()=>{alert("Register Successfull"),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},e=>{alert(e.message)})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n_),l.LFG(Xi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var vh=P(4986);function Yo(){return(0,qn.e)((n,t)=>{let e,i=!1;n.subscribe((0,en.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function V1(n,t){return n===t}P(7092);var dt,ek=P(3942),Uv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Oa={},Bu=Bu||{},Pt=Uv||self;function bh(){}function r_(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function wh(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var jv="closure_uid_"+(1e9*Math.random()>>>0),Hv=0;function B1(n,t,e){return n.call.apply(n.bind,arguments)}function U1(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function tr(n,t,e){return(tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?B1:U1).apply(null,arguments)}function Sl(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function nr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function xc(){this.s=this.s,this.o=this.o}var Dh={};xc.prototype.s=!1,xc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function CD(n){return Object.prototype.hasOwnProperty.call(n,jv)&&n[jv]||(n[jv]=++Hv)}(this);delete Dh[n]}},xc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ED=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},TD=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function SD(n){return Array.prototype.concat.apply([],arguments)}function ho(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Ch(n){return/^[\s\xa0]*$/.test(n)}var Br,Gv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Vr(n,t){return-1!=n.indexOf(t)}function s_(n,t){return n<t?-1:n>t?1:0}e:{var ID=Pt.navigator;if(ID){var AD=ID.userAgent;if(AD){Br=AD;break e}}Br=""}function $v(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function MD(n){const t={};for(const e in n)t[e]=n[e];return t}var zv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G1(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<zv.length;s++)e=zv[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function o_(n){return o_[" "](n),n}o_[" "]=bh;var Wv,n,z1=Vr(Br,"Opera"),_p=Vr(Br,"Trident")||Vr(Br,"MSIE"),q1=Vr(Br,"Edge"),yp=q1||_p,xD=Vr(Br,"Gecko")&&!(Vr(Br.toLowerCase(),"webkit")&&!Vr(Br,"Edge"))&&!(Vr(Br,"Trident")||Vr(Br,"MSIE"))&&!Vr(Br,"Edge"),kD=Vr(Br.toLowerCase(),"webkit")&&!Vr(Br,"Edge");function qv(){var n=Pt.document;return n?n.documentMode:void 0}e:{var Us="",RD=(n=Br,xD?/rv:([^\);]+)(\)|;)/.exec(n):q1?/Edge\/([\d\.]+)/.exec(n):_p?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kD?/WebKit\/(\S+)/.exec(n):z1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(RD&&(Us=RD?RD[1]:""),_p){var ND=qv();if(null!=ND&&ND>parseFloat(Us)){Wv=String(ND);break e}}Wv=Us}var OD={};var tk=Pt.document&&_p&&(qv()||parseInt(Wv,10))||void 0,LD=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pt.addEventListener("test",bh,t),Pt.removeEventListener("test",bh,t)}catch(e){}return n}();function ir(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function vp(n,t){if(ir.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(xD){e:{try{o_(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Yv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vp.Z.h.call(this)}}ir.prototype.h=function(){this.defaultPrevented=!0},nr(vp,ir);var Yv={2:"touch",3:"pen",4:"mouse"};vp.prototype.h=function(){vp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bp="closure_listenable_"+(1e6*Math.random()|0),W1=0;function Y1(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++W1,this.ca=this.fa=!1}function l_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function c_(n){this.src=n,this.g={},this.h=0}function Zv(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=ED(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(l_(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Eh(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}c_.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=Eh(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new Y1(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var kc="closure_lm_"+(1e6*Math.random()|0),Kv={};function Th(n,t,e,i,r){if(i&&i.once)return u_(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Th(n,t[s],e,i,r);return null}return e=wp(e),n&&n[bp]?n.N(t,e,wh(i)?!!i.capture:!!i,r):VD(n,t,e,!1,i,r)}function VD(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var u=wh(r)?!!r.capture:!!r,h=Sh(n);if(h||(n[kc]=h=new c_(n)),(e=h.add(t,e,i,u,s)).proxy)return e;if(i=function Z1(){var t=ju;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)LD||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(yr(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function u_(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)u_(n,t[s],e,i,r);return null}return e=wp(e),n&&n[bp]?n.O(t,e,wh(i)?!!i.capture:!!i,r):VD(n,t,e,!0,i,r)}function Zo(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Zo(n,t[s],e,i,r);else i=wh(i)?!!i.capture:!!i,e=wp(e),n&&n[bp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Eh(s=n.g[t],e,i,r))&&(l_(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=Sh(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Eh(t,e,i,r)),(e=-1<n?t[n]:null)&&Uu(e))}function Uu(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[bp])Zv(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(yr(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Sh(t))?(Zv(e,n),0==e.h&&(e.src=null,t[kc]=null)):l_(n)}}}function yr(n){return n in Kv?Kv[n]:Kv[n]="on"+n}function ju(n,t){if(n.ca)n=!0;else{t=new vp(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&Uu(n),n=e.call(i,t)}return n}function Sh(n){return(n=n[kc])instanceof c_?n:null}var vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function wp(n){return"function"==typeof n?n:(n[vs]||(n[vs]=function(t){return n.handleEvent(t)}),n[vs])}function Kn(){xc.call(this),this.i=new c_(this),this.P=this,this.I=null}function ai(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ir(t,n);else if(t instanceof ir)t.target=t.target||n;else{var r=t;G1(t=new ir(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var u=t.g=e[s];r=Il(u,i,!0,t)&&r}if(r=Il(u=t.g=n,i,!0,t)&&r,r=Il(u,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Il(u=t.g=e[s],i,!1,t)&&r}function Il(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==e){var h=u.listener,g=u.ia||u.src;u.fa&&Zv(n.i,u),r=!1!==h.call(g,i)&&r}}return r&&!i.defaultPrevented}nr(Kn,xc),Kn.prototype[bp]=!0,Kn.prototype.removeEventListener=function(n,t,e,i){Zo(this,n,t,e,i)},Kn.prototype.M=function(){if(Kn.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)l_(e[i]);delete n.g[t],n.h--}}this.I=null},Kn.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Kn.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Rc=Pt.JSON.stringify;function Ih(){var n=Qv;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var h_,Hu=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Mh,n=>n.reset());class Mh{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function xh(n){Pt.setTimeout(()=>{throw n},0)}function d_(n,t){h_||function BD(){var n=Pt.Promise.resolve(void 0);h_=function(){n.then(UD)}}(),f_||(h_(),f_=!0),Qv.add(n,t)}var f_=!1,Qv=new class Ah{constructor(){this.h=this.g=null}add(t,e){const i=Hu.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function UD(){for(var n;n=Ih();){try{n.h.call(n.g)}catch(e){xh(e)}var t=Hu;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}f_=!1}function Dp(n,t){Kn.call(this),this.h=n||1,this.g=t||Pt,this.j=tr(this.kb,this),this.l=Date.now()}function p_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function g_(n,t,e){if("function"==typeof n)e&&(n=tr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=tr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Pt.setTimeout(n,t||0)}function jD(n){n.g=g_(()=>{n.g=null,n.i&&(n.i=!1,jD(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}nr(Dp,Kn),(dt=Dp.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ai(this,"tick"),this.da&&(p_(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){Dp.Z.M.call(this),p_(this),delete this.g};class HD extends xc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:jD(this)}M(){super.M(),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cp(n){xc.call(this),this.h=n,this.g={}}nr(Cp,xc);var Jv=[];function Xv(n,t,e,i){Array.isArray(e)||(e&&(Jv[0]=e.toString()),e=Jv);for(var r=0;r<e.length;r++){var s=Th(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function GD(n){$v(n.g,function(t,e){this.g.hasOwnProperty(e)&&Uu(t)},n),n.g={}}function m_(){this.g=!0}function Gu(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function J1(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return Rc(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}Cp.prototype.M=function(){Cp.Z.M.call(this),GD(this)},Cp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},m_.prototype.Aa=function(){this.g=!1},m_.prototype.info=function(){};var kh={},zD=null;function Rh(){return zD=zD||new Kn}function __(n){ir.call(this,kh.Ma,n)}function Ep(n){const t=Rh();ai(t,new __(t,n))}function X1(n,t){ir.call(this,kh.STAT_EVENT,n),this.stat=t}function bs(n){const t=Rh();ai(t,new X1(t,n))}function eS(n,t){ir.call(this,kh.Na,n),this.size=t}function Tp(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){n()},t)}kh.Ma="serverreachability",nr(__,ir),kh.STAT_EVENT="statevent",nr(X1,ir),kh.Na="timingevent",nr(eS,ir);var Sp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function eb(){}function qD(){}eb.prototype.h=null;var Oh,Nh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tb(){ir.call(this,"d")}function y_(){ir.call(this,"c")}function v_(){}function Ph(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Cp(this),this.P=nS,this.W=new Dp(n=yp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new WD}function WD(){this.i=null,this.g="",this.h=!1}nr(tb,ir),nr(y_,ir),nr(v_,eb),v_.prototype.g=function(){return new XMLHttpRequest},v_.prototype.i=function(){return{}},Oh=new v_;var nS=45e3,nb={},b_={};function ib(n,t,e){n.K=1,n.v=xp(Al(t)),n.s=e,n.U=!0,rb(n,null)}function rb(n,t){n.F=Date.now(),zu(n),n.A=Al(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),fb(e.h,"t",i),n.C=0,e=n.l.H,n.h=new WD,n.g=kb(n.l,e?t:null,!n.s),0<n.O&&(n.L=new HD(tr(n.Ia,n,n.g),n.O)),Xv(n.V,n.g,"readystatechange",n.gb),t=n.H?MD(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Ep(1),function $D(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),g=0;g<h.length;g++){var v=h[g].split("=");if(1<v.length){var C=v[0];v=v[1];var I=C.split("_");u=2<=I.length&&"type"==I[1]?u+(C+"=")+v+"&":u+(C+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function YD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function sb(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=ZD(n,e),r==b_){4==t&&(n.o=4,bs(14),i=!1),Gu(n.j,n.m,null,"[Incomplete Response]");break}if(r==nb){n.o=4,bs(15),Gu(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Gu(n.j,n.m,r,null),qu(n,r)}YD(n)&&r!=b_&&r!=nb&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,bs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Up(t),t.L=!0,bs(11))):(Gu(n.j,n.m,e,"[Invalid Chunked Response]"),Lh(n),Ip(n))}function ZD(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?b_:(e=Number(t.substring(e,i)),isNaN(e)?nb:(i+=1)+e>t.length?b_:(t=t.substr(i,e),n.C=i+e,t))}function zu(n){n.Y=Date.now()+n.P,iS(n,n.P)}function iS(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Tp(tr(n.eb,n),t)}function Fh(n){n.B&&(Pt.clearTimeout(n.B),n.B=null)}function Ip(n){0==n.l.G||n.I||Ib(n.l,n)}function Lh(n){Fh(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,p_(n.W),GD(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function qu(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||mb(e.i,n)))if(e.I=n.N,!n.J&&mb(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(v){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Tp(tr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Hp(e),Oc(e)}E_(e),bs(18)}if(1>=sS(e.i)&&e.ka){try{e.ka()}catch(v){}e.ka=void 0}}else Fc(e,11)}else if((n.J||e.g==n)&&Hp(e),!Ch(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.U=v[0],v=v[1],2==e.G)if("c"==v[0]){e.J=v[1],e.la=v[2];const C=v[3];null!=C&&(e.ma=C,e.h.info("VER="+e.ma));const I=v[4];null!=I&&(e.za=I,e.h.info("SVER="+e.za));const N=v[5];null!=N&&"number"==typeof N&&0<N&&(e.K=i=1.5*N,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const F=n.g;if(F){const U=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var s=i.i;!s.g&&(Vr(U,"spdy")||Vr(U,"quic")||Vr(U,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(_b(s,s.h),s.h=null))}if(i.D){const Y=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(i.sa=Y,Sn(i.F,i.D,Y))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=xb(i,i.H?i.la:null,i.W),u.J){yb(i.i,u);var h=u,g=i.K;g&&h.setTimeout(g),h.B&&(Fh(h),zu(h)),i.g=u}else Sb(i);0<e.l.length&&C_(e)}else"stop"!=v[0]&&"close"!=v[0]||Fc(e,7);else 3==e.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Fc(e,7):Bp(e):"noop"!=v[0]&&e.j&&e.j.wa(v),e.A=0)}Ep(4)}catch(v){}}function Ap(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(r_(n)||"string"==typeof n)TD(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(r_(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function KD(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(r_(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function Nc(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Nc)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function ob(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Pa(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Pa(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Pa(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(dt=Ph.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const t=this.L;t&&3==Va(n)?t.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const C=Va(this.g);var t=this.g.Da();const I=this.g.ba();if(!(3>C)&&(3!=C||yp||this.g&&(this.h.h||this.g.ga()||Cb(this.g)))){this.I||4!=C||7==t||Ep(8==t||0>=I?3:2),Fh(this);var e=this.g.ba();this.N=e;t:if(YD(this)){var i=Cb(this.g);n="";var r=i.length,s=4==Va(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Lh(this),Ip(this);var u="";break t}this.h.i=new Pt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function K1(n,t,e,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.X,C,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ch(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,bs(12),Lh(this),Ip(this);break e}Gu(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qu(this,e)}this.U?(sb(this,C,u),yp&&this.i&&3==C&&(Xv(this.V,this.W,"tick",this.fb),this.W.start())):(Gu(this.j,this.m,u,null),qu(this,u)),4==C&&Lh(this),this.i&&!this.I&&(4==C?Ib(this.l,this):(this.i=!1,zu(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,bs(12)):(this.o=0,bs(13)),Lh(this),Ip(this)}}}catch(C){}},dt.fb=function(){if(this.g){var n=Va(this.g),t=this.g.ga();this.C<t.length&&(Fh(this),sb(this,n,t),this.i&&4!=n&&zu(this))}},dt.cancel=function(){this.I=!0,Lh(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Q1(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Ep(3),bs(17)),Lh(this),this.o=2,Ip(this)):iS(this,this.Y-n)},(dt=Nc.prototype).R=function(){ob(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},dt.T=function(){return ob(this),this.g.concat()},dt.get=function(n,t){return Pa(this.h,n)?this.h[n]:t},dt.set=function(n,t){Pa(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},dt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var Mp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vh(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Vh){this.g=void 0!==t?t:n.g,Wu(this,n.j),this.s=n.s,Yu(this,n.i),Bh(this,n.m),this.l=n.l,t=n.h;var e=new jh;e.i=t.i,t.g&&(e.g=new Nc(t.g),e.h=t.h),lb(this,e),this.o=n.o}else n&&(e=String(n).match(Mp))?(this.g=!!t,Wu(this,e[1]||"",!0),this.s=Uh(e[2]||""),Yu(this,e[3]||"",!0),Bh(this,e[4]),this.l=Uh(e[5]||"",!0),lb(this,e[6]||"",!0),this.o=Uh(e[7]||"")):(this.g=!!t,this.h=new jh(null,this.g))}function Al(n){return new Vh(n)}function Wu(n,t,e){n.j=e?Uh(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Yu(n,t,e){n.i=e?Uh(t,!0):t}function Bh(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function lb(n,t,e){t instanceof jh?(n.h=t,function tC(n,t){t&&!n.j&&(Fa(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Rp(this,i),fb(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=kp(t,rS)),n.h=new jh(t,n.g))}function Sn(n,t,e){n.h.set(t,e)}function xp(n){return Sn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Uh(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,JD),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function JD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vh.prototype.toString=function(){var n=[],t=this.j;t&&n.push(kp(t,ub,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(kp(t,ub,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(kp(e,"/"==e.charAt(0)?XD:db,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",kp(e,eC)),n.join("")};var ub=/[#\/\?@]/g,db=/[#\?:]/g,XD=/[#\?]/g,rS=/[#\?@]/g,eC=/#/g;function jh(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Fa(n){n.g||(n.g=new Nc,n.h=0,n.i&&function ab(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Rp(n,t){Fa(n),t=Zu(n,t),Pa(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Pa((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&ob(n)))}function hb(n,t){return Fa(n),t=Zu(n,t),Pa(n.g.h,t)}function fb(n,t,e){Rp(n,t),0<e.length&&(n.i=null,n.g.set(Zu(n,t),ho(e)),n.h+=e.length)}function Zu(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function pb(n){this.l=n||iC,n=Pt.PerformanceNavigationTiming?0<(n=Pt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=jh.prototype).add=function(n,t){Fa(this),this.i=null,n=Zu(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},dt.forEach=function(n,t){Fa(this),this.g.forEach(function(e,i){TD(e,function(r){n.call(t,r,i,this)},this)},this)},dt.T=function(){Fa(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},dt.R=function(n){Fa(this);var t=[];if("string"==typeof n)hb(this,n)&&(t=SD(t,this.g.get(Zu(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=SD(t,n[e])}return t},dt.set=function(n,t){return Fa(this),this.i=null,hb(this,n=Zu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},dt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var u=r;""!==i[s]&&(u+="="+encodeURIComponent(String(i[s]))),n.push(u)}}return this.i=n.join("&")};var iC=10;function gb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sS(n){return n.h?1:n.g?n.g.size:0}function mb(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function _b(n,t){n.g?n.g.add(t):n.h=t}function yb(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function rC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return ho(n.i)}function mi(){}function sC(){this.g=new mi}function oS(n,t,e){const i=e||"";try{Ap(n,function(r,s){let u=r;wh(r)&&(u=Rc(r)),t.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Np(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function Op(n){this.l=n.$b||null,this.j=n.ib||!1}function Pp(n,t){Kn.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=w_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pb.prototype.cancel=function(){if(this.i=rC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},mi.prototype.stringify=function(n){return Pt.JSON.stringify(n,void 0)},mi.prototype.parse=function(n){return Pt.JSON.parse(n,void 0)},nr(Op,eb),Op.prototype.g=function(){return new Pp(this.l,this.j)},Op.prototype.i=function(n){return function(){return n}}({}),nr(Pp,Kn);var w_=0;function Ku(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Fp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Lp(n)}function Lp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=Pp.prototype).open=function(n,t){if(this.readyState!=w_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Lp(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Pt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fp(this)),this.readyState=w_},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Lp(this)),this.g&&(this.readyState=3,Lp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Pt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ku(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Fp(this):Lp(this),3==this.readyState&&Ku(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,Fp(this))},dt.Ta=function(n){this.g&&(this.response=n,Fp(this))},dt.ha=function(){this.g&&Fp(this)},dt.setRequestHeader=function(n,t){this.v.append(n,t)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Pp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var oC=Pt.JSON.parse;function Ei(n){Kn.call(this),this.headers=new Nc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vb,this.K=this.L=!1}nr(Ei,Kn);var vb="",nk=/^https?$/i,bb=["POST","PUT"];function La(n){return"content-type"==n.toLowerCase()}function aC(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Db(n),ws(n)}function Db(n){n.D||(n.D=!0,ai(n,"complete"),ai(n,"error"))}function Ko(n){if(n.h&&void 0!==Bu&&(!n.C[1]||4!=Va(n)||2!=n.ba()))if(n.v&&4==Va(n))g_(n.Fa,0,n);else if(ai(n,"readystatechange"),4==Va(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(Mp)[1]||null;if(!r&&Pt.self&&Pt.self.location){var s=Pt.self.location.protocol;r=s.substr(0,s.length-1)}i=!nk.test(r?r.toLowerCase():"")}e=i}if(e)ai(n,"complete"),ai(n,"success");else{n.m=6;try{var u=2<Va(n)?n.g.statusText:""}catch(g){u=""}n.j=u+" ["+n.ba()+"]",Db(n)}}finally{ws(n)}}}function ws(n,t){if(n.g){fo(n);const e=n.g,i=n.C[0]?bh:null;n.g=null,n.C=null,t||ai(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function fo(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Pt.clearTimeout(n.A),n.A=null)}function Va(n){return n.g?n.g.readyState:0}function Cb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case vb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Eb(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function lS(n){let t="";return $v(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Sn(n,t,e))}function Vp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function lC(n){this.za=0,this.l=[],this.h=new m_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vp("baseRetryDelayMs",5e3,n),this.$a=Vp("retryDelaySeedMs",1e4,n),this.Ya=Vp("forwardChannelMaxRetries",2,n),this.ra=Vp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new pb(n&&n.concurrentRequestLimit),this.Ca=new sC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Bp(n){if(cC(n),3==n.G){var t=n.V++,e=Al(n.F);Sn(e,"SID",n.J),Sn(e,"RID",t),Sn(e,"TYPE","terminate"),Pc(n,e),(t=new Ph(n,n.h,t,void 0)).K=2,t.v=xp(Al(e)),e=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(e=Pt.navigator.sendBeacon(t.v.toString(),"")),!e&&Pt.Image&&((new Image).src=t.v,e=!0),e||(t.g=kb(t.l,null),t.g.ea(t.v)),t.F=Date.now(),zu(t)}Mb(n)}function Oc(n){n.g&&(Up(n),n.g.cancel(),n.g=null)}function cC(n){Oc(n),n.u&&(Pt.clearTimeout(n.u),n.u=null),Hp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Pt.clearTimeout(n.m),n.m=null)}function D_(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&C_(n)}function C_(n){gb(n.i)||n.m||(n.m=!0,d_(n.Ha,n),n.C=0)}function Tb(n,t){var e;e=t?t.m:n.V++;const i=Al(n.F);Sn(i,"SID",n.J),Sn(i,"RID",e),Sn(i,"AID",n.U),Pc(n,i),n.o&&n.s&&Eb(i,n.o,n.s),e=new Ph(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=dC(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),_b(n.i,e),ib(e,i,t)}function Pc(n,t){n.j&&Ap({},function(e,i){Sn(t,i,e)})}function dC(n,t,e){e=Math.min(n.l.length,e);var i=n.j?tr(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const u=["count="+e];-1==s?0<e?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let g=0;g<e;g++){let v=r[g].h;const C=r[g].g;if(v-=s,0>v)s=Math.max(0,r[g].h-100),h=!1;else try{oS(C,u,"req"+v+"_")}catch(I){i&&i(C)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function Sb(n){n.g||n.u||(n.Y=1,d_(n.Ga,n),n.A=0)}function E_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Tp(tr(n.Ga,n),Ab(n,n.A)),n.A++,0))}function Up(n){null!=n.B&&(Pt.clearTimeout(n.B),n.B=null)}function jp(n){n.g=new Ph(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Al(n.oa);Sn(t,"RID","rpc"),Sn(t,"SID",n.J),Sn(t,"CI",n.N?"0":"1"),Sn(t,"AID",n.U),Pc(n,t),Sn(t,"TYPE","xmlhttp"),n.o&&n.s&&Eb(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=xp(Al(t)),e.s=null,e.U=!0,rb(e,n)}function Hp(n){null!=n.v&&(Pt.clearTimeout(n.v),n.v=null)}function Ib(n,t){var e=null;if(n.g==t){Hp(n),Up(n),n.g=null;var i=2}else{if(!mb(n.i,t))return;e=t.D,yb(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ai(i=Rh(),new eS(i,e,t,r)),C_(n)}else Sb(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function uC(n,t){return!(sS(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Tp(tr(n.Ha,n,t),Ab(n,n.C)),n.C++,0)))}(n,t)||2==i&&E_(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Fc(n,5);break;case 4:Fc(n,10);break;case 3:Fc(n,6);break;default:Fc(n,2)}}function Ab(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Fc(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=tr(n.jb,n);e||(e=new Vh("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||Wu(e,"https"),xp(e)),function aS(n,t){const e=new m_;if(Pt.Image){const i=new Image;i.onload=Sl(Np,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Sl(Np,e,i,"TestLoadImage: error",!1,t),i.onabort=Sl(Np,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Sl(Np,e,i,"TestLoadImage: timeout",!1,t),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else bs(2);n.G=0,n.j&&n.j.va(t),Mb(n),cC(n)}function Mb(n){n.G=0,n.I=-1,n.j&&((0!=rC(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ho(n.l),n.l.length=0),n.j.ua())}function xb(n,t,e){let i=function QD(n){return n instanceof Vh?Al(n):new Vh(n,void 0)}(e);if(""!=i.i)t&&Yu(i,t+"."+i.i),Bh(i,i.m);else{const r=Pt.location;i=function cb(n,t,e,i){var r=new Vh(null,void 0);return n&&Wu(r,n),t&&Yu(r,t),e&&Bh(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&$v(n.aa,function(r,s){Sn(i,s,r)}),e=n.sa,(t=n.D)&&e&&Sn(i,t,e),Sn(i,"VER",n.ma),Pc(n,i),i}function kb(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ei(e&&n.Ba&&!n.qa?new Op({ib:!0}):n.qa)).L=n.H,t}function Rb(){}function T_(){if(_p&&!(10<=Number(tk)))throw Error("Environmental error: no available transport.")}function js(n,t){Kn.call(this),this.g=new lC(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Ch(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ch(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Hh(this)}function hC(n){tb.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function fC(){y_.call(this),this.status=1}function Hh(n){this.g=n}(dt=Ei.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Oh.g(),this.C=function $u(n){return n.h||(n.h=n.i())}(this.u?this.u:Oh),this.g.onreadystatechange=tr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void aC(this,s)}n=e||"";const r=new Nc(this.headers);i&&Ap(i,function(s,u){r.set(u,s)}),i=function H1(n){e:{var t=La;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Pt.FormData&&n instanceof Pt.FormData,!(0<=ED(bb,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fo(this),0<this.B&&((this.K=function wb(n){return _p&&function PD(){return function $1(n){var t=OD;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=Gv(String(Wv)).split("."),e=Gv("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",s=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=s_(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||s_(0==r[2].length,0==s[2].length)||s_(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tr(this.pa,this)):this.A=g_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){aC(this,s)}},dt.pa=function(){void 0!==Bu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ai(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ai(this,"complete"),ai(this,"abort"),ws(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ws(this,!0)),Ei.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?Ko(this):this.cb())},dt.cb=function(){Ko(this)},dt.ba=function(){try{return 2<Va(this)?this.g.status:-1}catch(n){return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),oC(t)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=lC.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Ph(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=MD(s),G1(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=dC(this,r,t),Sn(e=Al(this.F),"RID",n),Sn(e,"CVER",22),this.D&&Sn(e,"X-HTTP-Session-Id",this.D),Pc(this,e),this.o&&s&&Eb(e,this.o,s),_b(this.i,r),this.Ra&&Sn(e,"TYPE","init"),this.ja?(Sn(e,"$req",t),Sn(e,"SID","null"),r.$=!0,ib(r,e,null)):ib(r,e,t),this.G=2}}else 3==this.G&&(n?Tb(this,n):0==this.l.length||gb(this.i)||Tb(this))},dt.Ga=function(){if(this.u=null,jp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Tp(tr(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bs(10),Oc(this),jp(this))},dt.ab=function(){null!=this.v&&(this.v=null,Oc(this),E_(this),bs(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),bs(2)):(this.h.info("Failed to ping google.com"),bs(1))},(dt=Rb.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},T_.prototype.g=function(n,t){return new js(n,t)},nr(js,Kn),js.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),d_(tr(n.hb,n,t))),bs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=xb(n,null,n.W),C_(n)},js.prototype.close=function(){Bp(this.g)},js.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,D_(this.g,t)}else this.v?((t={}).__data__=Rc(n),D_(this.g,t)):D_(this.g,n)},js.prototype.M=function(){this.g.j=null,delete this.j,Bp(this.g),delete this.g,js.Z.M.call(this)},nr(hC,tb),nr(fC,y_),nr(Hh,Rb),Hh.prototype.xa=function(){ai(this.g,"a")},Hh.prototype.wa=function(n){ai(this.g,new hC(n))},Hh.prototype.va=function(n){ai(this.g,new fC(n))},Hh.prototype.ua=function(){ai(this.g,"b")},T_.prototype.createWebChannel=T_.prototype.g,js.prototype.send=js.prototype.u,js.prototype.open=js.prototype.m,js.prototype.close=js.prototype.close,Sp.NO_ERROR=0,Sp.TIMEOUT=8,Sp.HTTP_ERROR=6,tS.COMPLETE="complete",qD.EventType=Nh,Nh.OPEN="a",Nh.CLOSE="b",Nh.ERROR="c",Nh.MESSAGE="d",Kn.prototype.listen=Kn.prototype.N,Ei.prototype.listenOnce=Ei.prototype.O,Ei.prototype.getLastError=Ei.prototype.La,Ei.prototype.getLastErrorCode=Ei.prototype.Da,Ei.prototype.getStatus=Ei.prototype.ba,Ei.prototype.getResponseJson=Ei.prototype.Qa,Ei.prototype.getResponseText=Ei.prototype.ga,Ei.prototype.send=Ei.prototype.ea;var cS=Oa.createWebChannelTransport=function(){return new T_},uS=Oa.getStatEventTarget=function(){return Rh()},Nb=Oa.ErrorCode=Sp,dS=Oa.EventType=tS,hS=Oa.Event=kh,pC=Oa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fS=Oa.FetchXmlHttpFactory=Op,S_=Oa.WebChannel=qD,pS=Oa.XhrIo=Ei;const gC="@firebase/firestore";class vr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");let Gh="9.8.0";const Lc=new Ac.Yd("@firebase/firestore");function I_(){return Lc.logLevel}function je(n,...t){if(Lc.logLevel<=Ac.in.DEBUG){const e=t.map(A_);Lc.debug(`Firestore (${Gh}): ${n}`,...e)}}function _i(n,...t){if(Lc.logLevel<=Ac.in.ERROR){const e=t.map(A_);Lc.error(`Firestore (${Gh}): ${n}`,...e)}}function $h(n,...t){if(Lc.logLevel<=Ac.in.WARN){const e=t.map(A_);Lc.warn(`Firestore (${Gh}): ${n}`,...e)}}function A_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ft(n="Unexpected state"){const t=`FIRESTORE (${Gh}) INTERNAL ASSERTION FAILED: `+n;throw _i(t),new Error(t)}function Nt(n,t){n||ft()}function Je(n,t){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends qt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class yC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(vr.UNAUTHENTICATED))}shutdown(){}}class ik{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Ob{constructor(t){this.t=t,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=u;t.enqueueRetryable((0,Ee.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},g=v=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Nt("string"==typeof i.accessToken),new yC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Nt(null===t||"string"==typeof t),new vr(t)}}class rk{constructor(t,e,i){this.type="FirstParty",this.user=vr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class vC{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new rk(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sk{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=s=>{null!=s.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.p;return this.p=s.token,je("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Nt("string"==typeof e.token),this.p=e.token,new Pb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Hs{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function gS(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Hs.A=-1;class bC{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=gS(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Ft(n,t){return n<t?-1:n>t?1:0}function qh(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Gp(n){return n+"\0"}class jn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return jn.fromMillis(Date.now())}static fromDate(t){return jn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new jn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new lt(t)}static min(){return new lt(new jn(0,0))}static max(){return new lt(new jn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function mS(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Vc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function wC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class $p{constructor(t,e,i){void 0===e?e=0:e>t.length&&ft(),void 0===i?i=t.length-e:i>t.length-e&&ft(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===$p.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof $p?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),u=e.get(r);if(s<u)return-1;if(s>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Jt extends $p{construct(t,e,i){return new Jt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Jt(e)}static emptyPath(){return new Jt([])}}const DC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends $p{construct(t,e,i){return new Ti(t,e,i)}static isValidIdentifier(t){return DC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ti(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Re(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Re(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new Re(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ti(e)}static emptyPath(){return new Ti([])}}class Qu{constructor(t){this.fields=t,t.sort(Ti.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return qh(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Bi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Bi(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Bi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Bi.EMPTY_BYTE_STRING=new Bi("");const yS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(n){if(Nt(!!n),"string"==typeof n){let t=0;const e=yS.exec(n);if(Nt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:li(n.seconds),nanos:li(n.nanos)}}function li(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ju(n){return"string"==typeof n?Bi.fromBase64String(n):Bi.fromUint8Array(n)}function Fb(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function zp(n){const t=n.mapValue.fields.__previous_value__;return Fb(t)?zp(t):t}function Wh(n){const t=po(n.mapValue.fields.__local_write_time__.timestampValue);return new jn(t.seconds,t.nanos)}class CC{constructor(t,e,i,r,s,u,h,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class Ba{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ba&&t.projectId===this.projectId&&t.database===this.database}}function qp(n){return null==n}function Ml(n){return 0===n&&1/n==-1/0}function Yh(n){return"number"==typeof n&&Number.isInteger(n)&&!Ml(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ze{constructor(t){this.path=t}static fromPath(t){return new Ze(Jt.fromString(t))}static fromName(t){return new Ze(Jt.fromString(t).popFirst(5))}static empty(){return new Ze(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Jt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Jt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ze(new Jt(t.slice()))}}const Bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},M_={nullValue:"NULL_VALUE"};function Uc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fb(n)?4:TC(n)?9007199254740991:10:ft()}function Qo(n,t){if(n===t)return!0;const e=Uc(n);if(e!==Uc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Wh(n).isEqual(Wh(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=po(i.timestampValue),u=po(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Ju(n.bytesValue).isEqual(Ju(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return li(i.geoPointValue.latitude)===li(r.geoPointValue.latitude)&&li(i.geoPointValue.longitude)===li(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return li(i.integerValue)===li(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=li(i.doubleValue),u=li(r.doubleValue);return s===u?Ml(s)===Ml(u):isNaN(s)&&isNaN(u)}return!1}(n,t);case 9:return qh(n.arrayValue.values||[],t.arrayValue.values||[],Qo);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(mS(s)!==mS(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!Qo(s[h],u[h])))return!1;return!0}(n,t);default:return ft()}var r}function Zh(n,t){return void 0!==(n.values||[]).find(e=>Qo(e,t))}function jc(n,t){if(n===t)return 0;const e=Uc(n),i=Uc(t);if(e!==i)return Ft(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,t.booleanValue);case 2:return function(r,s){const u=li(r.integerValue||r.doubleValue),h=li(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return Lb(n.timestampValue,t.timestampValue);case 4:return Lb(Wh(n),Wh(t));case 5:return Ft(n.stringValue,t.stringValue);case 6:return function(r,s){const u=Ju(r),h=Ju(s);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let g=0;g<u.length&&g<h.length;g++){const v=Ft(u[g],h[g]);if(0!==v)return v}return Ft(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const u=Ft(li(r.latitude),li(s.latitude));return 0!==u?u:Ft(li(r.longitude),li(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let g=0;g<u.length&&g<h.length;++g){const v=jc(u[g],h[g]);if(v)return v}return Ft(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Bc.mapValue&&s===Bc.mapValue)return 0;if(r===Bc.mapValue)return 1;if(s===Bc.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),g=s.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let C=0;C<h.length&&C<v.length;++C){const I=Ft(h[C],v[C]);if(0!==I)return I;const N=jc(u[h[C]],g[v[C]]);if(0!==N)return N}return Ft(h.length,v.length)}(n.mapValue,t.mapValue);default:throw ft()}}function Lb(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ft(n,t);const e=po(n),i=po(t),r=Ft(e.seconds,i.seconds);return 0!==r?r:Ft(e.nanos,i.nanos)}function Kh(n){return Vb(n)}function Vb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=po(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ju(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=Vb(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${Vb(i.fields[h])}`;return s+"}"}(n.mapValue):ft();var t}function Qh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function EC(n){return!!n&&"integerValue"in n}function x_(n){return!!n&&"arrayValue"in n}function vS(n){return!!n&&"nullValue"in n}function Bb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xu(n){return!!n&&"mapValue"in n}function Wp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Vc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Wp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Wp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function TC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function SC(n){return"nullValue"in n?M_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qh(Ba.empty(),Ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function Yp(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qh(Ba.empty(),Ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bc:ft()}function IC(n,t){const e=jc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function AC(n,t){const e=jc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ur{constructor(t){this.value=t}static empty(){return new Ur({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Xu(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wp(e)}setAll(t){let e=Ti.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const g=this.getFieldsMap(e);this.applyChanges(g,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Wp(u):r.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Xu(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Xu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Vc(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ur(Wp(this.value))}}function MC(n){const t=[];return Vc(n.fields,(e,i)=>{const r=new Ti([e]);if(Xu(i)){const s=MC(i.mapValue).fields;if(0===s.length)t.push(r);else for(const u of s)t.push(r.child(u))}else t.push(r)}),new Qu(t)}class Nn{constructor(t,e,i,r,s,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=u}static newInvalidDocument(t){return new Nn(t,0,lt.min(),lt.min(),Ur.empty(),0)}static newFoundDocument(t,e,i){return new Nn(t,1,e,lt.min(),i,0)}static newNoDocument(t,e){return new Nn(t,2,e,lt.min(),Ur.empty(),0)}static newUnknownDocument(t,e){return new Nn(t,3,e,lt.min(),Ur.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zp{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Ub(n){return n.fields.find(t=>2===t.kind)}function ed(n){return n.fields.filter(t=>2!==t.kind)}Zp.UNKNOWN_ID=-1;class xl{constructor(t,e){this.fieldPath=t,this.kind=e}}class Kp{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Kp(0,go.min())}}function jb(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=lt.fromTimestamp(1e9===i?new jn(e+1,0):new jn(e,i));return new go(r,Ze.empty(),t)}function bS(n){return new go(n.readTime,n.key,-1)}class go{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new go(lt.min(),Ze.empty(),-1)}static max(){return new go(lt.max(),Ze.empty(),-1)}}function xC(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ze.comparator(n.documentKey,t.documentKey),0!==e?e:Ft(n.largestBatchId,t.largestBatchId))}class ci{constructor(t,e){this.comparator=t,this.root=e||Ui.EMPTY}insert(t,e){return new ci(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(t){return new ci(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new k_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new k_(this.root,t,this.comparator,!1)}getReverseIterator(){return new k_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new k_(this.root,t,this.comparator,!0)}}class k_{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ui{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:Ui.RED,this.left=null!=r?r:Ui.EMPTY,this.right=null!=s?s:Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Ui(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ui.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const t=this.left.check();if(t!==this.right.check())throw ft();return t+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Ui(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(t){this.comparator=t,this.data=new ci(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Hb(this.data.getIterator())}getIteratorFrom(t){return new Hb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof In)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new In(this.comparator);return e.data=t,e}}class Hb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function td(n){return n.hasNext()?n.getNext():void 0}class wS{constructor(t,e=null,i=[],r=[],s=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.P=null}}function kC(n,t=null,e=[],i=[],r=null,s=null,u=null){return new wS(n,t,e,i,r,s,u)}function nd(n){const t=Je(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Kh(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),qp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Kh(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Kh(i)).join(",")),t.P=e}return t.P}function Qp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!SS(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Qo(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!N_(n.startAt,t.startAt)&&N_(n.endAt,t.endAt)}function Jp(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function R_(n,t){return n.filters.filter(e=>e instanceof br&&e.field.isEqual(t))}function RC(n,t,e){let i=M_,r=!0;for(const s of R_(n,t)){let u=M_,h=!0;switch(s.op){case"<":case"<=":u=SC(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=M_}IC({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];IC({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function NC(n,t,e){let i=Bc,r=!0;for(const s of R_(n,t)){let u=Bc,h=!0;switch(s.op){case">=":case">":u=Yp(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=Bc}AC({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];AC({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class br extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new DS(t,e,i):"array-contains"===e?new PC(t,i):"in"===e?new FC(t,i):"not-in"===e?new LC(t,i):"array-contains-any"===e?new TS(t,i):new br(t,e,i)}static V(t,e,i){return"in"===e?new CS(t,i):new ES(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(jc(e,this.value)):null!==e&&Uc(this.value)===Uc(e)&&this.v(jc(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ft()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class DS extends br{constructor(t,e,i){super(t,e,i),this.key=Ze.fromName(i.referenceValue)}matches(t){const e=Ze.comparator(t.key,this.key);return this.v(e)}}class CS extends br{constructor(t,e){super(t,"in",e),this.keys=OC(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class ES extends br{constructor(t,e){super(t,"not-in",e),this.keys=OC(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function OC(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ze.fromName(i.referenceValue))}class PC extends br{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return x_(e)&&Zh(e.arrayValue,this.value)}}class FC extends br{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Zh(this.value.arrayValue,e)}}class LC extends br{constructor(t,e){super(t,"not-in",e)}matches(t){if(Zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Zh(this.value.arrayValue,e)}}class TS extends br{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!x_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Zh(this.value.arrayValue,i))}}class Ua{constructor(t,e){this.position=t,this.inclusive=e}}class id{constructor(t,e="asc"){this.field=t,this.dir=e}}function SS(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function VC(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],u=n.position[r];if(i=s.field.isKeyField()?Ze.comparator(Ze.fromName(u.referenceValue),e.key):jc(u,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function N_(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Qo(n.position[e],t.position[e]))return!1;return!0}class Jo{constructor(t,e=null,i=[],r=[],s=null,u="F",h=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=g,this.D=null,this.C=null}}function $b(n,t,e,i,r,s,u,h){return new Jo(n,t,e,i,r,s,u,h)}function Hc(n){return new Jo(n)}function zb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Xp(n){for(const t of n.filters)if(t.S())return t.field;return null}function qb(n){return null!==n.collectionGroup}function rd(n){const t=Je(n);if(null===t.D){t.D=[];const e=Xp(t),i=zb(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new id(e)),t.D.push(new id(Ti.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new id(Ti.keyField(),s))}}}return t.D}function mo(n){const t=Je(n);if(!t.C)if("F"===t.limitType)t.C=kC(t.path,t.collectionGroup,rd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of rd(t))e.push(new id(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Ua(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ua(t.startAt.position,t.startAt.inclusive):null;t.C=kC(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function Wb(n,t,e){return new Jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function eg(n,t){return Qp(mo(n),mo(t))&&n.limitType===t.limitType}function Yb(n){return`${nd(mo(n))}|lt:${n.limitType}`}function BC(n){return`Query(target=${function Gb(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Kh(i.value)}`;var i}).join(", ")}]`),qp(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Kh(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Kh(e)).join(",")),`Target(${t})`}(mo(n))}; limitType=${n.limitType})`}function Zb(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ze.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,u){const h=VC(r,s,u);return r.inclusive?h<=0:h<0}(e.startAt,rd(e),i)||e.endAt&&!function(r,s,u){const h=VC(r,s,u);return r.inclusive?h>=0:h>0}(e.endAt,rd(e),i)));var e,i}function tg(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UC(n){return(t,e)=>{let i=!1;for(const r of rd(n)){const s=Jh(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Jh(n,t,e){const i=n.field.isKeyField()?Ze.comparator(t.key,e.key):function(r,s,u){const h=s.data.field(r),g=u.data.field(r);return null!==h&&null!==g?jc(h,g):ft()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ft()}}function Xh(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ml(t)?"-0":t}}function jC(n){return{integerValue:""+n}}function AS(n,t){return Yh(t)?jC(t):Xh(n,t)}class ng{constructor(){this._=void 0}}function MS(n,t,e){return n instanceof ef?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Gc?Kb(n,t):n instanceof kl?ig(n,t):function(i,r){const s=HC(i,r),u=GC(s)+GC(i.k);return EC(s)&&EC(i.k)?jC(u):Xh(i.M,u)}(n,t)}function xS(n,t,e){return n instanceof Gc?Kb(n,t):n instanceof kl?ig(n,t):e}function HC(n,t){return n instanceof ja?EC(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class ef extends ng{}class Gc extends ng{constructor(t){super(),this.elements=t}}function Kb(n,t){const e=Qb(t);for(const i of n.elements)e.some(r=>Qo(r,i))||e.push(i);return{arrayValue:{values:e}}}class kl extends ng{constructor(t){super(),this.elements=t}}function ig(n,t){let e=Qb(t);for(const i of n.elements)e=e.filter(r=>!Qo(r,i));return{arrayValue:{values:e}}}class ja extends ng{constructor(t,e){super(),this.M=t,this.k=e}}function GC(n){return li(n.integerValue||n.doubleValue)}function Qb(n){return x_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class tf{constructor(t,e){this.field=t,this.transform=e}}class RS{constructor(t,e){this.version=t,this.transformResults=e}}class ui{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function O_(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Jb{}function NS(n,t,e){n instanceof P_?function(i,r,s){const u=i.value.clone(),h=OS(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):n instanceof $c?function(i,r,s){if(!O_(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=OS(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll($C(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Xb(n,t,e){var r;n instanceof P_?function(i,r,s){if(!O_(i.precondition,r))return;const u=i.value.clone(),h=t0(i.fieldTransforms,s,r);u.setAll(h),r.convertToFoundDocument(sd(r),u).setHasLocalMutations()}(n,t,e):n instanceof $c?function(i,r,s){if(!O_(i.precondition,r))return;const u=t0(i.fieldTransforms,s,r),h=r.data;h.setAll($C(i)),h.setAll(u),r.convertToFoundDocument(sd(r),h).setHasLocalMutations()}(n,t,e):O_(n.precondition,r=t)&&r.convertToNoDocument(lt.min())}function nf(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=HC(i.transform,r||null);null!=s&&(null==e&&(e=Ur.empty()),e.set(i.field,s))}return e||null}function e0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&qh(e,i,(r,s)=>function kS(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Gc&&i instanceof Gc||e instanceof kl&&i instanceof kl?qh(e.elements,i.elements,Qo):e instanceof ja&&i instanceof ja?Qo(e.k,i.k):e instanceof ef&&i instanceof ef);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function sd(n){return n.isFoundDocument()?n.version:lt.min()}class P_ extends Jb{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class $c extends Jb{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function $C(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function OS(n,t,e){const i=new Map;Nt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],u=s.transform,h=t.data.field(s.field);i.set(s.field,xS(u,h,e[r]))}return i}function t0(n,t,e){const i=new Map;for(const r of n){const s=r.transform,u=e.data.field(r.field);i.set(r.field,MS(s,u,t))}return i}class F_ extends Jb{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class L_ extends Jb{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class n0{constructor(t){this.count=t}}var Si,Xt;function r0(n){switch(n){default:return ft();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function s0(n){if(void 0===n)return _i("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Si.OK:return fe.OK;case Si.CANCELLED:return fe.CANCELLED;case Si.UNKNOWN:return fe.UNKNOWN;case Si.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Si.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Si.INTERNAL:return fe.INTERNAL;case Si.UNAVAILABLE:return fe.UNAVAILABLE;case Si.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Si.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Si.NOT_FOUND:return fe.NOT_FOUND;case Si.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Si.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Si.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Si.ABORTED:return fe.ABORTED;case Si.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Si.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Si.DATA_LOSS:return fe.DATA_LOSS;default:return ft()}}(Xt=Si||(Si={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";class zc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Vc(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return wC(this.inner)}size(){return this.innerSize}}const PS=new ci(Ze.comparator);function _o(){return PS}const FS=new ci(Ze.comparator);function o0(...n){let t=FS;for(const e of n)t=t.insert(e.key,e);return t}function rg(){return new zc(n=>n.toString(),(n,t)=>n.isEqual(t))}const sg=new ci(Ze.comparator),zC=new In(Ze.comparator);function un(...n){let t=zC;for(const e of n)t=t.add(e);return t}const qC=new In(Ft);function og(){return qC}class rf{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,ag.createSynthesizedTargetChangeForCurrentChange(t,e)),new rf(lt.min(),i,og(),_o(),un())}}class ag{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new ag(Bi.EMPTY_BYTE_STRING,e,un(),un(),un())}}class V_{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class WC{constructor(t,e){this.targetId=t,this.$=e}}class YC{constructor(t,e,i=Bi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class ZC{constructor(){this.B=0,this.L=sf(),this.U=Bi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=un(),e=un(),i=un();return this.L.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ft()}}),new ag(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=sf()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class LS{constructor(t){this.nt=t,this.st=new Map,this.it=_o(),this.rt=KC(),this.ot=new In(Ft)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ft()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const s=r.target;if(Jp(s))if(0===i){const u=new Ze(s.path);this.ct(e,u,Nn.newNoDocument(u,lt.min()))}else Nt(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((s,u)=>{const h=this.wt(u);if(h){if(s.current&&Jp(h.target)){const g=new Ze(h.target.path);null!==this.it.get(g)||this.It(u,g)||this.ct(u,g,Nn.newNoDocument(g,t))}s.j&&(e.set(u,s.H()),s.J())}});let i=un();this.rt.forEach((s,u)=>{let h=!0;u.forEachWhile(g=>{const v=this.wt(g);return!v||2===v.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.it.forEach((s,u)=>u.setReadTime(t));const r=new rf(t,e,this.ot,this.it,i);return this.it=_o(),this.rt=KC(),this.ot=new In(Ft),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new ZC,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new In(Ft),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||je("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new ZC),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function KC(){return new ci(Ze.comparator)}function sf(){return new ci(Ze.comparator)}const VS={asc:"ASCENDING",desc:"DESCENDING"},a0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ha{constructor(t,e){this.databaseId=t,this.N=e}}function lg(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function B_(n,t){return n.N?t.toBase64():t.toUint8Array()}function cg(n,t){return lg(n,t.toTimestamp())}function sr(n){return Nt(!!n),lt.fromTimestamp(function(t){const e=po(t);return new jn(e.seconds,e.nanos)}(n))}function l0(n,t){return(e=n,new Jt(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function QC(n){const t=Jt.fromString(n);return Nt(p0(t)),t}function qc(n,t){return l0(n.databaseId,t.path)}function Gs(n,t){const e=QC(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ze(u0(e))}function c0(n,t){return l0(n.databaseId,t)}function JC(n){const t=QC(n);return 4===t.length?Jt.emptyPath():u0(t)}function af(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function u0(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function U_(n,t,e){return{name:qc(n,t),fields:e.value.mapValue.fields}}function d0(n,t,e){const i=Gs(n,t.name),r=sr(t.updateTime),s=new Ur({mapValue:{fields:t.fields}}),u=Nn.newFoundDocument(i,r,s);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function j_(n,t){let e;if(t instanceof P_)e={update:U_(n,t.key,t.value)};else if(t instanceof F_)e={delete:qc(n,t.key)};else if(t instanceof $c)e={update:U_(n,t.key,t.data),updateMask:nE(t.fieldMask)};else{if(!(t instanceof L_))return ft();e={verify:qc(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof ef)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Gc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof kl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ja)return{fieldPath:s.field.canonicalString(),increment:u.k};throw ft()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:cg(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ft()),e;var r}function ug(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?ui.updateTime(sr(r.updateTime)):void 0!==r.exists?ui.exists(r.exists):ui.none():ui.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(Nt("REQUEST_TIME"===u.setToServerValue),h=new ef):"appendMissingElements"in u?h=new Gc(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new kl(u.removeAllFromArray.values||[]):"increment"in u?h=new ja(s,u.increment):ft();const g=Ti.fromServerFormat(u.fieldPath);return new tf(g,h)}(n,r)):[];var r;if(t.update){const r=Gs(n,t.update.name),s=new Ur({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Qu((t.updateMask.fieldPaths||[]).map(v=>Ti.fromServerFormat(v)));return new $c(r,s,u,e,i)}return new P_(r,s,e,i)}if(t.delete){const r=Gs(n,t.delete);return new F_(r,e)}if(t.verify){const r=Gs(n,t.verify);return new L_(r,e)}return ft()}function f0(n,t){return{documents:[c0(n,t.path)]}}function H_(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=c0(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=c0(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0===g.length)return;const v=g.map(C=>function(I){if("=="===I.op){if(Bb(I.value))return{unaryFilter:{field:od(I.field),op:"IS_NAN"}};if(vS(I.value))return{unaryFilter:{field:od(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(Bb(I.value))return{unaryFilter:{field:od(I.field),op:"IS_NOT_NAN"}};if(vS(I.value))return{unaryFilter:{field:od(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:od(I.field),op:GS(I.op),value:I.value}}}(C));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(g){if(0!==g.length)return g.map(v=>{return{field:od((C=v).field),direction:HS(C.dir)};var C})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const u=(v=t.limit,n.N||qp(v)?v:{value:v});var v,h,g;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function G_(n){let t=JC(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Nt(1===i);const C=e.from[0];C.allDescendants?r=C.collectionId:t=t.child(C.collectionId)}let s=[];e.where&&(s=XC(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(C=>{return new id(Wc((I=C).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;e.limit&&(h=function(C){let I;return I="object"==typeof C?C.value:C,qp(I)?null:I}(e.limit));let g=null;var C;e.startAt&&(g=new Ua((C=e.startAt).values||[],!!C.before));let v=null;return e.endAt&&(v=function(C){return new Ua(C.values||[],!C.before)}(e.endAt)),$b(t,r,u,s,h,"F",g,v)}function XC(n){return n?void 0!==n.unaryFilter?[tE(n)]:void 0!==n.fieldFilter?[eE(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>XC(t)).reduce((t,e)=>t.concat(e)):ft():[]}function HS(n){return VS[n]}function GS(n){return a0[n]}function od(n){return{fieldPath:n.canonicalString()}}function Wc(n){return Ti.fromServerFormat(n.fieldPath)}function eE(n){return br.create(Wc(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function tE(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Wc(n.unaryFilter.field);return br.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Wc(n.unaryFilter.field);return br.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wc(n.unaryFilter.field);return br.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Wc(n.unaryFilter.field);return br.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function nE(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function p0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Xr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=g0(t)),t=iE(n.get(e),t);return g0(t)}function iE(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function g0(n){return n+"\x01\x01"}function Ga(n){const t=n.length;if(Nt(t>=2),2===t)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Jt.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const u=n.indexOf("\x01",s);switch((u<0||u>e)&&ft(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let g;0===r.length?g=h:(r+=h,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:ft()}s=u+2}return new Jt(i)}const m0=["userId","batchId"];function dg(n,t){return[n,Xr(t)]}function jr(n,t,e){return[n,Xr(t),e]}const lf={},$S=["prefixPath","collectionGroup","readTime","documentId"],zS=["prefixPath","collectionGroup","documentId"],ok=["collectionGroup","readTime","prefixPath","documentId"],hg=["canonicalId","targetId"],qS=["targetId","path"],_0=["path","targetId"],WS=["collectionId","parent"],rE=["indexId","uid"],YS=["uid","sequenceNumber"],ZS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],y0=["indexId","uid","orderedDocumentKey"],sE=["userId","collectionPath","documentId"],oE=["userId","collectionPath","largestBatchId"],$_=["userId","collectionGroup","largestBatchId"],z_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ak=[...z_,"documentOverlays"],v0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KS=[...v0,"indexConfiguration","indexState","indexEntries"],b0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class me{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new me((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof me?e:me.resolve(e)}catch(e){return me.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):me.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):me.reject(e)}static resolve(t){return new me((e,i)=>{e(t)})}static reject(t){return new me((e,i)=>{i(t)})}static waitFor(t){return new me((e,i)=>{let r=0,s=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&e()},g=>i(g))}),u=!0,s===r&&e()})}static or(t){let e=me.resolve(!1);for(const i of t)e=e.next(r=>r?me.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}}class q_{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new rr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new W_(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=C0(i.target.error);this.At.reject(new W_(t,r))}}static open(t,e,i,r){try{return new q_(e,t.transaction(r,i))}catch(s){throw new W_(e,s)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(je("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new QS(e)}}class $s{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===$s.Vt((0,qt.z$)())&&_i("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return je("SimpleDb","Removing database:",t),Yc(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,qt.hl)())return!1;if($s.St())return!0;const t=(0,qt.z$)(),e=$s.Vt(t),i=0<e&&e<10,r=$s.Dt(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,Ee.Z)(function*(){return e.db||(je("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new W_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Re(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Re(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new W_(t,h))},s.onupgradeneeded=u=>{je("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Pt.kt(u.target.result,s.transaction,u.oldVersion,e.version).next(()=>{je("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Ee.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{s.db=yield s.Nt(t);const g=q_.open(s.db,t,u?"readonly":"readwrite",i),v=r(g).next(C=>(g.bt(),C)).catch(C=>(g.abort(C),me.reject(C))).toPromise();return v.catch(()=>{}),yield g.Rt,v}catch(g){const v="FirebaseError"!==g.name&&h<3;if(je("SimpleDb","Transaction failed with error:",g.message,"Retrying:",v),s.close(),!v)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class w0{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return Yc(this.Ft.delete())}}class W_ extends Re{constructor(t,e){super(fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ad(n){return"IndexedDbTransactionError"===n.name}class QS{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(je("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Yc(i)}add(t){return je("SimpleDb","ADD",this.store.name,t,t),Yc(this.store.add(t))}get(t){return Yc(this.store.get(t)).next(e=>(void 0===e&&(e=null),je("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return je("SimpleDb","DELETE",this.store.name,t),Yc(this.store.delete(t))}count(){return je("SimpleDb","COUNT",this.store.name),Yc(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.Kt(r,(u,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new me((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}Gt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new me((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(t,e){je("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(s,u,h)=>h.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Kt(r,e)}zt(t){const e=this.cursor({});return new me((i,r)=>{e.onerror=s=>{const u=C0(s.target.error);r(u)},e.onsuccess=s=>{const u=s.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}Kt(t,e){const i=[];return new me((r,s)=>{t.onerror=u=>{s(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const g=new w0(h),v=e(h.primaryKey,h.value,g);if(v instanceof me){const C=v.catch(I=>(g.done(),me.reject(I)));i.push(C)}g.isDone?r():null===g.Lt?h.continue():h.continue(g.Lt)}}).next(()=>me.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Yc(n){return new me((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=C0(i.target.error);e(r)}})}let D0=!1;function C0(n){const t=$s.Vt((0,qt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return D0||(D0=!0,setTimeout(()=>{throw i},0)),i}}return n}class E0 extends fg{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function ji(n,t){const e=Je(n);return $s.xt(e.Ht,t)}class T0{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&NS(s,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Xb(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Xb(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(lt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),un())}isEqual(t){return this.batchId===t.batchId&&qh(this.mutations,t.mutations,(e,i)=>e0(e,i))&&qh(this.baseMutations,t.baseMutations,(e,i)=>e0(e,i))}}class S0{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Nt(t.mutations.length===i.length);let r=sg;const s=t.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new S0(t,e,i,r)}}class Y_{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zc{constructor(t,e,i,r,s=lt.min(),u=lt.min(),h=Bi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new Zc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class I0{constructor(t){this.Jt=t}}function A0(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:pg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:qc(r=n.Jt,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:lg(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:ld(t.version)};else{if(!t.isUnknownDocument())return ft();i.unknownDocument={path:e.path.toArray(),version:ld(t.version)}}var r,s;return i}function pg(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function ld(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function cd(n){const t=new jn(n.seconds,n.nanoseconds);return lt.fromTimestamp(t)}function gg(n,t){const e=(t.baseMutations||[]).map(s=>ug(n.Jt,s));for(let s=0;s<t.mutations.length-1;++s){const u=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(u.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>ug(n.Jt,s)),r=jn.fromMillis(t.localWriteTimeMs);return new T0(t.batchId,r,e,i)}function cf(n){const t=cd(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?cd(n.lastLimboFreeSnapshotVersion):lt.min();let i;var r;return void 0!==n.query.documents?(Nt(1===(r=n.query).documents.length),i=mo(Hc(JC(r.documents[0])))):i=mo(G_(n.query)),new Zc(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Bi.fromBase64String(n.resumeToken))}function JS(n,t){const e=ld(t.snapshotVersion),i=ld(t.lastLimboFreeSnapshotVersion);let r;r=Jp(t.target)?f0(n.Jt,t.target):H_(n.Jt,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nd(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function lE(n){const t=G_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Wb(t,t.limit,"L"):t}function cE(n,t){return new Y_(t.largestBatchId,ug(n.Jt,t.overlayMutation))}function XS(n,t){const e=t.path.lastSegment();return[n,Xr(t.path.popLast()),e]}class lk{getBundleMetadata(t,e){return eI(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:cd(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return eI(t).put({bundleId:(i=e).id,createTime:ld(sr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return tI(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:lE(r.bundledQuery),readTime:cd(r.readTime)};var r})}saveNamedQuery(t,e){return tI(t).put({name:(i=e).name,readTime:ld(sr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function eI(n){return ji(n,"bundles")}function tI(n){return ji(n,"namedQueries")}class uE{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new uE(t,e.uid||"")}getOverlay(t,e){return Kc(t).get(XS(this.userId,e)).next(i=>i?cE(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((s,u)=>{const h=new Y_(e,u);r.push(this.Xt(t,h))}),me.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Xr(u.getCollectionPath())));const s=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(Kc(t).Qt("collectionPathOverlayIndex",h))}),me.waitFor(s)}getOverlaysForCollection(t,e,i){const r=rg(),s=Xr(e),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Kc(t).qt("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const v=cE(this.M,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=rg();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Kc(t).Wt({index:"collectionGroupOverlayIndex",range:h},(g,v,C)=>{const I=cE(this.M,v);s.size()<r||I.largestBatchId===u?(s.set(I.getKey(),I),u=I.largestBatchId):C.done()}).next(()=>s)}Xt(t,e){return Kc(t).put(function(i,r,s){const[u,h,g]=XS(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:g,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:j_(i.Jt,s.mutation)}}(this.M,this.userId,e))}}function Kc(n){return ji(n,"documentOverlays")}class uf{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(li(t.integerValue));else if("doubleValue"in t){const i=li(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),Ml(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Ju(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?TC(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ft()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),Ze.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function dE(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function Z_(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=dE(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}uf.fe=new uf;class hE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=Z_(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=Z_(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class fE{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class ck{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class ud{constructor(){this.De=new hE,this.Ce=new fE(this.De),this.xe=new ck(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Qc{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Qc(this.indexId,this.documentKey,this.arrayValue,i)}}function dd(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=M0(n.arrayValue,t.arrayValue),0!==e?e:(e=M0(n.directionalValue,t.directionalValue),0!==e?e:Ze.comparator(n.documentKey,t.documentKey)))}function M0(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class uk{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=Ub(t);if(void 0!==e&&!this.Be(e))return!1;const i=ed(t);let r=0,s=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[s++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(s>=this.Me.length||!this.Ue(this.Me[s++],u))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class nI{constructor(){this.qe=new x0}addToCollectionParentIndex(t,e){return this.qe.add(e),me.resolve()}getCollectionParents(t,e){return me.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return me.resolve()}deleteFieldIndex(t,e){return me.resolve()}getDocumentsMatchingTarget(t,e){return me.resolve(null)}getIndexType(t,e){return me.resolve(0)}getFieldIndexes(t,e){return me.resolve([])}getNextCollectionGroupToUpdate(t){return me.resolve(null)}getMinOffset(t,e){return me.resolve(go.min())}updateCollectionGroup(t,e,i){return me.resolve()}updateIndexEntries(t,e){return me.resolve()}}class x0{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new In(Jt.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new In(Jt.comparator)).toArray()}}const df=new Uint8Array(0);class iI{constructor(t,e){this.user=t,this.databaseId=e,this.Ke=new x0,this.Ge=new zc(i=>nd(i),(i,r)=>Qp(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const s={collectionId:i,parent:Xr(r)};return rI(t).put(s)}return me.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Gp(e),""],!1,!0);return rI(t).qt(r).next(s=>{for(const u of s){if(u.collectionId!==e)break;i.push(Ga(u.parent))}return i})}addFieldIndex(t,e){const i=k0(t),r={indexId:(s=e).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var s;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=k0(t),r=Q_(t),s=K_(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=K_(t);let r=!0;const s=new Map;return me.forEach(this.Qe(e),u=>this.je(t,u).next(h=>{r&&(r=!!h),s.set(u,h)})).next(()=>{if(r){let u=un();const h=[];return me.forEach(s,(g,v)=>{var C;je("IndexedDbIndexManager",`Using index ${C=g,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(Ye=>`${Ye.fieldPath}:${Ye.kind}`).join(",")}`} to execute ${nd(e)}`);const I=function(Ye,Ue){const et=Ub(Ue);if(void 0===et)return null;for(const st of R_(Ye,et.fieldPath))switch(st.op){case"array-contains-any":return st.value.arrayValue.values||[];case"array-contains":return[st.value]}return null}(v,g),N=function(Ye,Ue){const et=new Map;for(const st of ed(Ue))for(const _t of R_(Ye,st.fieldPath))switch(_t.op){case"==":case"in":et.set(st.fieldPath.canonicalString(),_t.value);break;case"not-in":case"!=":return et.set(st.fieldPath.canonicalString(),_t.value),Array.from(et.values())}return null}(v,g),F=function(Ye,Ue){const et=[];let st=!0;for(const _t of ed(Ue)){const Vt=0===_t.kind?RC(Ye,_t.fieldPath,Ye.startAt):NC(Ye,_t.fieldPath,Ye.startAt);et.push(Vt.value),st&&(st=Vt.inclusive)}return new Ua(et,st)}(v,g),U=function(Ye,Ue){const et=[];let st=!0;for(const _t of ed(Ue)){const Vt=0===_t.kind?NC(Ye,_t.fieldPath,Ye.endAt):RC(Ye,_t.fieldPath,Ye.endAt);et.push(Vt.value),st&&(st=Vt.inclusive)}return new Ua(et,st)}(v,g),Y=this.We(g,v,F),ce=this.We(g,v,U),Be=this.ze(g,v,N),Ve=this.He(g.indexId,I,Y,F.inclusive,ce,U.inclusive,Be);return me.forEach(Ve,Ye=>i.Gt(Ye,e.limit).next(Ue=>{Ue.forEach(et=>{const st=Ze.fromSegments(et.documentKey);u.has(st)||(u=u.add(st),h.push(st))})}))}).next(()=>h)}return me.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}He(t,e,i,r,s,u,h){const g=(null!=e?e.length:1)*Math.max(i.length,s.length),v=g/(null!=e?e.length:1),C=[];for(let I=0;I<g;++I){const N=e?this.Je(e[I/v]):df,F=this.Ye(t,N,i[I%v],r),U=this.Xe(t,N,s[I%v],u),Y=h.map(ce=>this.Ye(t,N,ce,!0));C.push(...this.createRange(F,U,Y))}return C}Ye(t,e,i,r){const s=new Qc(t,Ze.empty(),e,i);return r?s:s.ke()}Xe(t,e,i,r){const s=new Qc(t,Ze.empty(),e,i);return r?s.ke():s}je(t,e){const i=new uk(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let u=null;for(const h of s)i.$e(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return me.forEach(this.Qe(e),r=>this.je(t,r).next(s=>{s?0!==i&&s.fields.length<function(u){let h=new In(Ti.comparator),g=!1;for(const v of u.filters){const C=v;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?g=!0:h=h.add(C.field))}for(const v of u.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(g?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(t,e){const i=new ud;for(const r of ed(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const u=i.Ne(r.kind);uf.fe.Zt(s,u)}return i.Se()}Je(t){const e=new ud;return uf.fe.Zt(t,e.Ne(0)),e.Se()}tn(t,e){const i=new ud;return uf.fe.Zt(Qh(this.databaseId,e),i.Ne(function(r){const s=ed(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Se()}ze(t,e,i){if(null===i)return[];let r=[];r.push(new ud);let s=0;for(const u of ed(t)){const h=i[s++];for(const g of r)if(this.en(e,u.fieldPath)&&x_(h))r=this.nn(r,u,h);else{const v=g.Ne(u.kind);uf.fe.Zt(h,v)}}return this.sn(r)}We(t,e,i){return this.ze(t,e,i.position)}sn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}nn(t,e,i){const r=[...t],s=[];for(const u of i.arrayValue.values||[])for(const h of r){const g=new ud;g.seed(h.Se()),uf.fe.Zt(u,g.Ne(e.kind)),s.push(g)}return s}en(t,e){return!!t.filters.find(i=>i instanceof br&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=k0(t),r=Q_(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(s=>{const u=[];return me.forEach(s,h=>r.get([h.indexId,this.uid]).next(g=>{u.push(function(v,C){const I=C?new Kp(C.sequenceNumber,new go(cd(C.readTime),new Ze(Ga(C.documentKey)),C.largestBatchId)):Kp.empty(),N=v.fields.map(([F,U])=>new xl(Ti.fromServerFormat(F),U));return new Zp(v.indexId,v.collectionGroup,N,I)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Ft(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=k0(t),s=Q_(t);return this.rn(t).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>me.forEach(h,g=>{return s.put({indexId:g.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:ld((N=i).readTime),documentKey:Xr(N.documentKey.path),largestBatchId:N.largestBatchId});var N})))}updateIndexEntries(t,e){const i=new Map;return me.forEach(e,(r,s)=>{const u=i.get(r.collectionGroup);return(u?me.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),me.forEach(h,g=>this.on(t,r,g).next(v=>{const C=this.un(s,g);return v.isEqual(C)?me.resolve():this.an(t,s,g,v,C)}))))})}cn(t,e,i,r){return K_(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,e.key),documentKey:e.key.path.toArray()})}hn(t,e,i,r){return K_(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,e.key),e.key.path.toArray()])}on(t,e,i){const r=K_(t);let s=new In(dd);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,e)])},(u,h)=>{s=s.add(new Qc(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>s)}un(t,e){let i=new In(dd);const r=this.Ze(e,t);if(null==r)return i;const s=Ub(e);if(null!=s){const u=t.data.field(s.fieldPath);if(x_(u))for(const h of u.arrayValue.values||[])i=i.add(new Qc(e.indexId,t.key,this.Je(h),r))}else i=i.add(new Qc(e.indexId,t.key,df,r));return i}an(t,e,i,r,s){je("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,g,v,C,I){const N=h.getIterator(),F=g.getIterator();let U=td(N),Y=td(F);for(;U||Y;){let ce=!1,Be=!1;if(U&&Y){const Ve=v(U,Y);Ve<0?Be=!0:Ve>0&&(ce=!0)}else null!=U?Be=!0:ce=!0;ce?(C(Y),Y=td(F)):Be?(I(U),U=td(N)):(U=td(N),Y=td(F))}}(r,s,dd,h=>{u.push(this.cn(t,e,i,h))},h=>{u.push(this.hn(t,e,i,h))}),me.waitFor(u)}rn(t){let e=1;return Q_(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>dd(u,h)).filter((u,h,g)=>!h||0!==dd(u,g[h-1]));const r=[];r.push(t);for(const u of i){const h=dd(u,t),g=dd(u,e);if(0===h)r[0]=t.ke();else if(h>0&&g<0)r.push(u),r.push(u.ke());else if(g>0)break}r.push(e);const s=[];for(let u=0;u<r.length;u+=2)s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,df,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,df,[]]));return s}getMinOffset(t,e){let i;return me.forEach(this.Qe(e),r=>this.je(t,r).next(s=>{s?(!i||xC(s.indexState.offset,i)<0)&&(i=s.indexState.offset):i=go.min()})).next(()=>i)}}function rI(n){return ji(n,"collectionParents")}function K_(n){return ji(n,"indexEntries")}function k0(n){return ji(n,"indexConfiguration")}function Q_(n){return ji(n,"indexState")}const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ds{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ds(t,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sI(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(e.batchId);let h=0;const g=i.Wt({range:u},(C,I,N)=>(h++,N.delete()));s.push(g.next(()=>{Nt(1===h)}));const v=[];for(const C of e.mutations){const I=jr(t,C.key.path,e.batchId);s.push(r.delete(I)),v.push(C.key)}return me.waitFor(s).next(()=>v)}function J_(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ft();t=n.noDocument}return JSON.stringify(t).length}Ds.DEFAULT_COLLECTION_PERCENTILE=10,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ds.DEFAULT=new Ds(41943040,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ds.DISABLED=new Ds(-1,0,0);class mg{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(t,e,i,r){Nt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new mg(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return or(t).Wt({index:"userMutationsIndex",range:i},(r,s,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=hf(t),u=or(t);return u.add({}).next(h=>{Nt("number"==typeof h);const g=new T0(h,e,i,r),v=function(N,F,U){const Y=U.baseMutations.map(Be=>j_(N.Jt,Be)),ce=U.mutations.map(Be=>j_(N.Jt,Be));return{userId:F,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:Y,mutations:ce}}(this.M,this.userId,g),C=[];let I=new In((N,F)=>Ft(N.canonicalString(),F.canonicalString()));for(const N of r){const F=jr(this.userId,N.key.path,h);I=I.add(N.key.path.popLast()),C.push(u.put(v)),C.push(s.put(F,lf))}return I.forEach(N=>{C.push(this.indexManager.addToCollectionParentIndex(t,N))}),t.addOnCommittedListener(()=>{this.ln[h]=g.keys()}),me.waitFor(C).next(()=>g)})}lookupMutationBatch(t,e){return or(t).get(e).next(i=>i?(Nt(i.userId===this.userId),gg(this.M,i)):null)}fn(t,e){return this.ln[e]?me.resolve(this.ln[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.ln[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return or(t).Wt({index:"userMutationsIndex",range:r},(u,h,g)=>{h.userId===this.userId&&(Nt(h.batchId>=i),s=gg(this.M,h)),g.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return or(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return or(t).qt("userMutationsIndex",e).next(i=>i.map(r=>gg(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=dg(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return hf(t).Wt({range:r},(u,h,g)=>{const[v,C,I]=u,N=Ga(C);if(v===this.userId&&e.path.isEqual(N))return or(t).get(I).next(F=>{if(!F)throw ft();Nt(F.userId===this.userId),s.push(gg(this.M,F))});g.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new In(Ft);const r=[];return e.forEach(s=>{const u=dg(this.userId,s.path),h=IDBKeyRange.lowerBound(u),g=hf(t).Wt({range:h},(v,C,I)=>{const[N,F,U]=v,Y=Ga(F);N===this.userId&&s.path.isEqual(Y)?i=i.add(U):I.done()});r.push(g)}),me.waitFor(r).next(()=>this.dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=dg(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new In(Ft);return hf(t).Wt({range:u},(g,v,C)=>{const[I,N,F]=g,U=Ga(N);I===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(F)):C.done()}).next(()=>this.dn(t,h))}dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(or(t).get(s).next(u=>{if(null===u)throw ft();Nt(u.userId===this.userId),i.push(gg(this.M,u))}))}),me.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return sI(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this._n(e.batchId)}),me.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}_n(t){delete this.ln[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return me.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return hf(t).Wt({range:i},(s,u,h)=>{if(s[0]===this.userId){const g=Ga(s[1]);r.push(g)}else h.done()}).next(()=>{Nt(0===r.length)})})}containsKey(t,e){return gE(t,this.userId,e)}wn(t){return X_(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gE(n,t,e){const i=dg(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return hf(n).Wt({range:s,jt:!0},(h,g,v)=>{const[C,I,N]=h;C===t&&I===r&&(u=!0),v.done()}).next(()=>u)}function or(n){return ji(n,"mutations")}function hf(n){return ji(n,"documentMutations")}function X_(n){return ji(n,"mutationQueues")}class hd{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new hd(0)}static yn(){return new hd(-1)}}class oI{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.pn(t).next(e=>{const i=new hd(e.highestTargetId);return e.highestTargetId=i.next(),this.In(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.pn(t).next(e=>lt.fromTimestamp(new jn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.pn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.In(t,r)))}addTargetData(t,e){return this.Tn(t,e).next(()=>this.pn(t).next(i=>(i.targetCount+=1,this.En(e,i),this.In(t,i))))}updateTargetData(t,e){return this.Tn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Jc(t).delete(e.targetId)).next(()=>this.pn(t)).next(i=>(Nt(i.targetCount>0),i.targetCount-=1,this.In(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return Jc(t).Wt((u,h)=>{const g=cf(h);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(r++,s.push(this.removeTargetData(t,g)))}).next(()=>me.waitFor(s)).next(()=>r)}forEachTarget(t,e){return Jc(t).Wt((i,r)=>{const s=cf(r);e(s)})}pn(t){return R0(t).get("targetGlobalKey").next(e=>(Nt(null!==e),e))}In(t,e){return R0(t).put("targetGlobalKey",e)}Tn(t,e){return Jc(t).put(JS(this.M,e))}En(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.pn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=nd(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Jc(t).Wt({range:r,index:"queryTargetsIndex"},(u,h,g)=>{const v=cf(h);Qp(e,v.target)&&(s=v,g.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Rl(t);return e.forEach(u=>{const h=Xr(u.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),me.waitFor(r)}removeMatchingKeys(t,e,i){const r=Rl(t);return me.forEach(e,s=>{const u=Xr(s.path);return me.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Rl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Rl(t);let s=un();return r.Wt({range:i,jt:!0},(u,h,g)=>{const v=Ga(u[1]),C=new Ze(v);s=s.add(C)}).next(()=>s)}containsKey(t,e){const i=Xr(e.path),r=IDBKeyRange.bound([i],[Gp(i)],!1,!0);let s=0;return Rl(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,h],g,v)=>{0!==u&&(s++,v.done())}).next(()=>s>0)}Et(t,e){return Jc(t).get(e).next(i=>i?cf(i):null)}}function Jc(n){return ji(n,"targets")}function R0(n){return ji(n,"targetGlobal")}function Rl(n){return ji(n,"targetDocuments")}function fd(n){return ey.apply(this,arguments)}function ey(){return ey=(0,Ee.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==b0)throw n;je("LocalStore","Unexpectedly lost primary lease")}),ey.apply(this,arguments)}function mE([n,t],[e,i]){const r=Ft(n,e);return 0===r?Ft(t,i):r}class aI{constructor(t){this.An=t,this.buffer=new In(mE),this.Rn=0}bn(){return++this.Rn}Pn(t){const e=[t,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();mE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class lI{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Vn=!1,this.vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(t)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(t){var e=this;const i=this.Vn?3e5:6e4;je("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Ee.Z)(function*(){e.vn=null,e.Vn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){ad(r)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield fd(r)}yield e.Sn(t)}))}}class N0{constructor(t,e){this.Dn=t,this.params=e}calculateTargetCount(t,e){return this.Dn.Cn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return me.resolve(Hs.A);const i=new aI(e);return this.Dn.forEachTarget(t,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(t,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Dn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Dn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(pE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.Nn(t,e))}getCacheSize(t){return this.Dn.getCacheSize(t)}Nn(t,e){let i,r,s,u,h,g,v;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(t,i,e))).next(I=>(s=I,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(v=Date.now(),I_()<=Ac.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(g-h)+`ms\n\tRemoved ${I} documents in `+(v-g)+`ms\nTotal Duration: ${v-C}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:I})))}}class pd{constructor(t,e){this.db=t,this.garbageCollector=new N0(this,e)}Cn(t){const e=this.kn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}kn(t){let e=0;return this.xn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}xn(t,e){return this.Mn(t,(i,r)=>e(r))}addReference(t,e,i){return _g(t,i)}removeReference(t,e,i){return _g(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return _g(t,e)}On(t,e){return function(i,r){let s=!1;return X_(i).zt(u=>gE(i,u,r).next(h=>(h&&(s=!0),me.resolve(!h)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Mn(t,(u,h)=>{if(h<=e){const g=this.On(t,u).next(v=>{if(!v)return s++,i.getEntry(t,u).next(()=>(i.removeEntry(u,lt.min()),Rl(t).delete([0,Xr(u.path)])))});r.push(g)}}).next(()=>me.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return _g(t,e)}Mn(t,e){const i=Rl(t);let r,s=Hs.A;return i.Wt({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:v})=>{0===u?(s!==Hs.A&&e(new Ze(Ga(r)),s),s=v,r=g):s=Hs.A}).next(()=>{s!==Hs.A&&e(new Ze(Ga(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function _g(n,t){return Rl(n).put((i=n.currentSequenceNumber,{targetId:0,path:Xr(t.path),sequenceNumber:i}));var i}class O0{constructor(){this.changes=new zc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?me.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class cI{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return gd(t).put(i)}removeEntry(t,e,i){return gd(t).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],pg(s),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Fn(t,i)))}getEntry(t,e){let i=Nn.newInvalidDocument(e);return gd(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(yg(e))},(r,s)=>{i=this.$n(e,s)}).next(()=>i)}Bn(t,e){let i={size:0,document:Nn.newInvalidDocument(e)};return gd(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(yg(e))},(r,s)=>{i={document:this.$n(e,s),size:J_(s)}}).next(()=>i)}getEntries(t,e){let i=_o();return this.Ln(t,e,(r,s)=>{const u=this.$n(r,s);i=i.insert(r,u)}).next(()=>i)}Un(t,e){let i=_o(),r=new ci(Ze.comparator);return this.Ln(t,e,(s,u)=>{const h=this.$n(s,u);i=i.insert(s,h),r=r.insert(s,J_(u))}).next(()=>({documents:i,qn:r}))}Ln(t,e,i){if(e.isEmpty())return me.resolve();let r=new In(yE);e.forEach(g=>r=r.add(g));const s=IDBKeyRange.bound(yg(r.first()),yg(r.last())),u=r.getIterator();let h=u.getNext();return gd(t).Wt({index:"documentKeyIndex",range:s},(g,v,C)=>{const I=Ze.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&yE(h,I)<0;)i(h,null),h=u.getNext();h&&h.isEqual(I)&&(i(h,v),h=u.hasNext()?u.getNext():null),h?C.Ut(yg(h)):C.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),pg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gd(t).qt(IDBKeyRange.bound(r,s,!0)).next(u=>{let h=_o();for(const g of u){const v=this.$n(Ze.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(t,e,i,r){let s=_o();const u=P0(e,i),h=P0(e,go.max());return gd(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,v,C)=>{const I=this.$n(Ze.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(I.key,I),s.size===r&&C.done()}).next(()=>s)}newChangeBuffer(t){return new dk(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return _E(t).get("remoteDocumentGlobalKey").next(e=>(Nt(!!e),e))}Fn(t,e){return _E(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const i=function aE(n,t){let e;if(t.document)e=d0(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ze.fromSegments(t.noDocument.path),r=cd(t.noDocument.readTime);e=Nn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ft();{const i=Ze.fromSegments(t.unknownDocument.path),r=cd(t.unknownDocument.version);e=Nn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new jn(i[0],i[1]);return lt.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(lt.min()))return i}return Nn.newInvalidDocument(t)}}class dk extends O0{constructor(t,e){super(),this.Kn=t,this.trackRemovals=e,this.Gn=new zc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new In((s,u)=>Ft(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Gn.get(s);if(e.push(this.Kn.removeEntry(t,s,h.readTime)),u.isValidDocument()){const g=A0(this.Kn.M,u);r=r.add(s.path.popLast()),i+=J_(g)-h.size,e.push(this.Kn.addEntry(t,s,g))}else if(i-=h.size,this.trackRemovals){const g=A0(this.Kn.M,u.convertToNoDocument(lt.min()));e.push(this.Kn.addEntry(t,s,g))}}),r.forEach(s=>{e.push(this.Kn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Kn.updateMetadata(t,i)),me.waitFor(e)}getFromCache(t,e){return this.Kn.Bn(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Kn.Un(t,e).next(({documents:i,qn:r})=>(r.forEach((s,u)=>{this.Gn.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function _E(n){return ji(n,"remoteDocumentGlobal")}function gd(n){return ji(n,"remoteDocumentsV14")}function yg(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function P0(n,t){const e=t.documentKey.path.toArray();return[n,pg(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function yE(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Ft(e[s],i[s]),r)return r;return r=Ft(e.length,i.length),r||(r=Ft(e[e.length-2],i[i.length-2]),r||Ft(e[e.length-1],i[i.length-1]))}class uI{constructor(t){this.M=t}kt(t,e,i,r){const s=new q_("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",m0,{unique:!0}),h.createObjectStore("documentMutations"),dI(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=me.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),dI(t)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:lt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,g){return g.store("mutations").qt().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",m0,{unique:!0});const C=g.store("mutations"),I=v.map(N=>C.put(N));return me.waitFor(I)})}(t,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Qn(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.jn(s)))),i<7&&r>=7&&(u=u.next(()=>this.Wn(s))),i<8&&r>=8&&(u=u.next(()=>this.zn(t,s))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Hn(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:sE});g.createIndex("collectionPathOverlayIndex",oE,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",$_,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:$S});g.createIndex("documentKeyIndex",zS),g.createIndex("collectionGroupIndex",ok)}(t)).next(()=>this.Jn(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:rE}).createIndex("sequenceNumberIndex",YS,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:ZS}).createIndex("documentKeyIndex",y0,{unique:!1})}(t)})),u}jn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=J_(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>me.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(h=>me.forEach(h,g=>{Nt(g.userId===s.userId);const v=gg(this.M,g);return sI(t,s.userId,v).next(()=>{})}))}))}Wn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Wt((u,h)=>{const g=new Jt(u),v=[0,Xr(g)];s.push(e.get(v).next(C=>C?me.resolve():e.put({targetId:0,path:Xr(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>me.waitFor(s))})}zn(t,e){t.createObjectStore("collectionParents",{keyPath:WS});const i=e.store("collectionParents"),r=new x0,s=u=>{if(r.add(u)){const h=u.lastSegment(),g=u.popLast();return i.put({collectionId:h,parent:Xr(g)})}};return e.store("remoteDocuments").Wt({jt:!0},(u,h)=>{const g=new Jt(u);return s(g.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([u,h,g],v)=>{const C=Ga(h);return s(C.popLast())}))}Hn(t){const e=t.store("targets");return e.Wt((i,r)=>{const s=cf(r),u=JS(this.M,s);return e.put(u)})}Jn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((s,u)=>{const h=e.store("remoteDocumentsV14"),g=(v=u,v.document?new Ze(Jt.fromString(v.document.name).popFirst(5)):v.noDocument?Ze.fromSegments(v.noDocument.path):v.unknownDocument?Ze.fromSegments(v.unknownDocument.path):ft()).path.toArray();var v;const C={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(C))}).next(()=>me.waitFor(r))}}function dI(n){n.createObjectStore("targetDocuments",{keyPath:qS}).createIndex("documentTargetsIndex",_0,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hg,{unique:!0}),n.createObjectStore("targetGlobal")}const vg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ty{constructor(t,e,i,r,s,u,h,g,v,C,I=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Yn=s,this.window=u,this.document=h,this.Xn=v,this.Zn=C,this.ts=I,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=N=>Promise.resolve(),!ty.vt())throw new Re(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pd(this,r),this.hs=e+"main",this.M=new I0(g),this.ls=new $s(this.hs,this.ts,new uI(this.M)),this.fs=new oI(this.referenceDelegate,this.M),this.ds=new cI(this.M),this._s=new lk,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===C&&_i("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,vg);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.fs.getHighestSequenceNumber(t))}).then(t=>{this.es=new Hs(t,this.Xn)}).then(()=>{this.ns=!0}).catch(t=>(this.ls&&this.ls.close(),Promise.reject(t)))}Ts(t){var e=this;return this.cs=function(){var i=(0,Ee.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ls.Ot(function(){var e=(0,Ee.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Yn.enqueueAndForget((0,Ee.Z)(function*(){e.started&&(yield e.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ny(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(t).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(t)).next(e=>this.isPrimary&&!e?this.Rs(t).next(()=>!1):!!e&&this.bs(t).next(()=>!0))).catch(t=>{if(ad(t))return je("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Yn.enqueueRetryable(()=>this.cs(t)),this.isPrimary=t})}Es(t){return bg(t).get("owner").next(e=>me.resolve(this.Ps(e)))}Vs(t){return ny(t).delete(this.clientId)}vs(){var t=this;return(0,Ee.Z)(function*(){if(t.isPrimary&&!t.Ss(t.us,18e5)){t.us=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ji(i,"clientMetadata");return r.qt().next(s=>{const u=t.Ds(s,18e5),h=s.filter(g=>-1===u.indexOf(g));return me.forEach(h,g=>r.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(t.ws)for(const i of e)t.ws.removeItem(t.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(t){return!!t&&t.ownerId===this.clientId}As(t){return this.Zn?me.resolve(!0):bg(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)){if(this.Ps(e)&&this.networkEnabled)return!0;if(!this.Ps(e)){if(!e.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,vg);return!1}}return!(!this.networkEnabled||!this.inForeground)||ny(t).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&je("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ee.Z)(function*(){t.ns=!1,t.Ns(),t.os&&(t.os.cancel(),t.os=null),t.ks(),t.Ms(),yield t.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new E0(e,Hs.A);return t.Rs(i).next(()=>t.Vs(i))}),t.ls.close(),t.Os()})()}Ds(t,e){return t.filter(i=>this.Ss(i.updateTimeMs,e)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",t=>ny(t).qt().next(e=>this.Ds(e,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(t,e){return mg.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(t){return new iI(t,this.M.Jt.databaseId)}getDocumentOverlayCache(t){return uE.Yt(this.M,t)}getBundleCache(){return this._s}runTransaction(t,e,i){je("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=14===(u=this.ts)?KS:13===u?v0:12===u?ak:11===u?z_:void ft();var u;let h;return this.ls.runTransaction(t,r,s,g=>(h=new E0(g,this.es?this.es.next():Hs.A),"readwrite-primary"===e?this.Es(h).next(v=>!!v||this.As(h)).next(v=>{if(!v)throw _i(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Re(fe.FAILED_PRECONDITION,b0);return i(h)}).next(v=>this.bs(h).next(()=>v)):this.$s(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}$s(t){return bg(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.Ps(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Re(fe.FAILED_PRECONDITION,vg)})}bs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bg(t).put("owner",e)}static vt(){return $s.vt()}Rs(t){const e=bg(t);return e.get("owner").next(i=>this.Ps(i)?(je("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):me.resolve())}Ss(t,e){const i=Date.now();return!(t<i-e||t>i&&(_i(`Detected an update time that is in the future: ${t} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=()=>{this.Ns(),(0,qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(t){var e;try{const i=null!==(null===(e=this.ws)||void 0===e?void 0:e.getItem(this.Cs(t)));return je("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return _i("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(t){_i("Failed to set zombie client id.",t)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(t){}}Cs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function bg(n){return ji(n,"owner")}function ny(n){return ji(n,"clientMetadata")}function iy(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class F0{constructor(t,e,i){this.ds=t,this.Bs=e,this.indexManager=i}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Us(t,e,i))}Us(t,e,i){return this.ds.getEntry(t,e).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const s of e)s.applyToLocalView(r)})}Ks(t,e){return this.ds.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Qs(t,e,i){return Ze.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(t,e.path):qb(e)?this.Ws(t,e,i):this.zs(t,e,i);var r}js(t,e){return this.Ls(t,new Ze(e)).next(i=>{let r=o0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(t,e,i){const r=e.collectionGroup;let s=o0();return this.indexManager.getCollectionParents(t,r).next(u=>me.forEach(u,h=>{const g=(v=e,C=h.child(r),new Jo(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.zs(t,g,i).next(v=>{v.forEach((C,I)=>{s=s.insert(C,I)})})}).next(()=>s))}zs(t,e,i){let r;return this.ds.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(s=>{for(const u of s)for(const h of u.mutations){const g=h.key;let v=r.get(g);null==v&&(v=Nn.newInvalidDocument(g),r=r.insert(g,v)),Xb(h,v,u.localWriteTime),v.isFoundDocument()||(r=r.remove(g))}}).next(()=>(r.forEach((s,u)=>{Zb(e,u)||(r=r.remove(s))}),r))}}class wg{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hs=i,this.Js=r}static Ys(t,e){let i=un(),r=un();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new wg(t,e.fromCache,i,r)}}class L0{constructor(){this.Xs=!1}initialize(t,e){this.Zs=t,this.indexManager=e,this.Xs=!0}Qs(t,e,i,r){return this.ti(t,e).next(s=>s||this.ei(t,e,r,i)).next(s=>s||this.ni(t,e))}ti(t,e){return me.resolve(null)}ei(t,e,i,r){return function IS(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(lt.min())?this.ni(t,e):this.Zs.Ks(t,i).next(s=>{const u=this.si(e,s);return this.ii(e,u,i,r)?this.ni(t,e):(I_()<=Ac.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),BC(e)),this.ri(t,u,e,jb(r,-1)))})}si(t,e){let i=new In(UC(t));return e.forEach((r,s)=>{Zb(t,s)&&(i=i.add(s))}),i}ii(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ni(t,e){return I_()<=Ac.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",BC(e)),this.Zs.Qs(t,e,go.min())}ri(t,e,i,r){return this.Zs.Qs(t,i,r).next(s=>(e.forEach(u=>{s=s.insert(u.key,u)}),s))}}class hI{constructor(t,e,i,r){this.persistence=t,this.oi=e,this.M=r,this.ui=new ci(Ft),this.ai=new zc(s=>nd(s),Qp),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(i)}li(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.fi=new F0(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ui))}}function V0(n,t,e,i){return new hI(n,t,e,i)}function B0(n,t){return U0.apply(this,arguments)}function U0(){return U0=(0,Ee.Z)(function*(n,t){const e=Je(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Bs.getAllMutationBatches(i).next(s=>(r=s,e.li(t),e.Bs.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let g=un();for(const v of r){u.push(v.batchId);for(const C of v.mutations)g=g.add(C.key)}for(const v of s){h.push(v.batchId);for(const C of v.mutations)g=g.add(C.key)}return e.fi.Ks(i,g).next(v=>({di:v,removedBatchIds:u,addedBatchIds:h}))})})}),U0.apply(this,arguments)}function fI(n,t){const e=Je(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.hi.newChangeBuffer({trackRemovals:!0});return function(u,h,g,v){const C=g.batch,I=C.keys();let N=me.resolve();return I.forEach(F=>{N=N.next(()=>v.getEntry(h,F)).next(U=>{const Y=g.docVersions.get(F);Nt(null!==Y),U.version.compareTo(Y)<0&&(C.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))})}),N.next(()=>u.Bs.removeMutationBatch(h,C))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.Bs.performConsistencyCheck(i)).next(()=>e.fi.Ks(i,r))})}function pI(n){const t=Je(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function hk(n,t){const e=Je(n),i=t.snapshotVersion;let r=e.ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=e.hi.newChangeBuffer({trackRemovals:!0});r=e.ui;const h=[];t.targetChanges.forEach((v,C)=>{const I=r.get(C);if(!I)return;h.push(e.fs.removeMatchingKeys(s,v.removedDocuments,C).next(()=>e.fs.addMatchingKeys(s,v.addedDocuments,C)));let N=I.withSequenceNumber(s.currentSequenceNumber);var F,U,Y;t.targetMismatches.has(C)?N=N.withResumeToken(Bi.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,i)),r=r.insert(C,N),U=N,Y=v,(0===(F=I).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&h.push(e.fs.updateTargetData(s,N))});let g=_o();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,v))}),h.push(j0(s,u,t.documentUpdates).next(v=>{g=v})),!i.isEqual(lt.min())){const v=e.fs.getLastRemoteSnapshotVersion(s).next(C=>e.fs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(v)}return me.waitFor(h).next(()=>u.apply(s)).next(()=>e.fi.Gs(s,g)).next(()=>g)}).then(s=>(e.ui=r,s))}function j0(n,t,e){let i=un();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let s=_o();return e.forEach((u,h)=>{const g=r.get(u);h.isNoDocument()&&h.version.isEqual(lt.min())?(t.removeEntry(u,h.readTime),s=s.insert(u,h)):!g.isValidDocument()||h.version.compareTo(g.version)>0||0===h.version.compareTo(g.version)&&g.hasPendingWrites?(t.addEntry(h),s=s.insert(u,h)):je("LocalStore","Ignoring outdated watch update for ",u,". Current version:",g.version," Watch version:",h.version)}),s})}function gI(n,t){const e=Je(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(i,t)))}function ff(n,t){const e=Je(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.fs.getTargetData(i,t).next(s=>s?(r=s,me.resolve(r)):e.fs.allocateTargetId(i).next(u=>(r=new Zc(t,u,0,i.currentSequenceNumber),e.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ui=e.ui.insert(i.targetId,i),e.ai.set(t,i.targetId)),i})}function pf(n,t,e){return vE.apply(this,arguments)}function vE(){return vE=(0,Ee.Z)(function*(n,t,e){const i=Je(n),r=i.ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!ad(u))throw u;je("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.ui=i.ui.remove(t),i.ai.delete(r.target)}),vE.apply(this,arguments)}function H0(n,t,e){const i=Je(n);let r=lt.min(),s=un();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,g,v){const C=Je(h),I=C.ai.get(v);return void 0!==I?me.resolve(C.ui.get(I)):C.fs.getTargetData(g,v)}(i,u,mo(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{s=g})}).next(()=>i.oi.Qs(u,t,e?r:lt.min(),e?s:un())).next(h=>(yI(i,tg(t),h),{documents:h,_i:s})))}function mI(n,t){const e=Je(n),i=Je(e.fs),r=e.ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,t).next(u=>u?u.target:null))}function _I(n,t){const e=Je(n),i=e.ci.get(t)||lt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.hi.getAllFromCollectionGroup(r,t,jb(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(yI(e,t,r),r))}function yI(n,t,e){let i=lt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ci.set(t,i)}function gf(){return gf=(0,Ee.Z)(function*(n,t,e,i){const r=Je(n);let s=un(),u=_o();for(const v of e){const C=t.wi(v.metadata.name);v.document&&(s=s.add(C));const I=t.mi(v);I.setReadTime(t.gi(v.metadata.readTime)),u=u.insert(C,I)}const h=r.hi.newChangeBuffer({trackRemovals:!0}),g=yield ff(r,(v=i,mo(Hc(Jt.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>j0(v,h,u).next(C=>(h.apply(v),C)).next(C=>r.fs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.fs.addMatchingKeys(v,s,g.targetId)).next(()=>r.fi.Gs(v,C)).next(()=>C)))}),gf.apply(this,arguments)}function bI(n,t){return G0.apply(this,arguments)}function G0(){return G0=(0,Ee.Z)(function*(n,t,e=un()){const i=yield ff(n,mo(lE(t.bundledQuery))),r=Je(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=sr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r._s.saveNamedQuery(s,t);const h=i.withResumeToken(Bi.EMPTY_BYTE_STRING,u);return r.ui=r.ui.insert(h.targetId,h),r.fs.updateTargetData(s,h).next(()=>r.fs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.fs.addMatchingKeys(s,e,i.targetId)).next(()=>r._s.saveNamedQuery(s,t))})}),G0.apply(this,arguments)}class bE{constructor(t){this.M=t,this.yi=new Map,this.pi=new Map}getBundleMetadata(t,e){return me.resolve(this.yi.get(e))}saveBundleMetadata(t,e){var i;return this.yi.set(e.id,{id:(i=e).id,version:i.version,createTime:sr(i.createTime)}),me.resolve()}getNamedQuery(t,e){return me.resolve(this.pi.get(e))}saveNamedQuery(t,e){return this.pi.set(e.name,{name:(i=e).name,query:lE(i.bundledQuery),readTime:sr(i.readTime)}),me.resolve();var i}}class md{constructor(){this.overlays=new ci(Ze.comparator),this.Ii=new Map}getOverlay(t,e){return me.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.Xt(t,e,s)}),me.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(i)),me.resolve()}getOverlaysForCollection(t,e,i){const r=rg(),s=e.length+1,u=new Ze(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,v=g.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===s&&g.largestBatchId>i&&r.set(g.getKey(),g)}return me.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ci((v,C)=>v-C);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let C=s.get(v.largestBatchId);null===C&&(C=rg(),s=s.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const h=rg(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,C)=>h.set(v,C)),!(h.size()>=r)););return me.resolve(h)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Y_(e,i));let s=this.Ii.get(e);void 0===s&&(s=un(),this.Ii.set(e,s)),this.Ii.set(e,s.add(i.key))}}class ry{constructor(){this.Ti=new In(Ii.Ei),this.Ai=new In(Ii.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(t,e){const i=new Ii(t,e);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Pi(new Ii(t,e))}Vi(t,e){t.forEach(i=>this.removeReference(i,e))}vi(t){const e=new Ze(new Jt([])),i=new Ii(e,t),r=new Ii(e,t+1),s=[];return this.Ai.forEachInRange([i,r],u=>{this.Pi(u),s.push(u.key)}),s}Si(){this.Ti.forEach(t=>this.Pi(t))}Pi(t){this.Ti=this.Ti.delete(t),this.Ai=this.Ai.delete(t)}Di(t){const e=new Ze(new Jt([])),i=new Ii(e,t),r=new Ii(e,t+1);let s=un();return this.Ai.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(t){const e=new Ii(t,0),i=this.Ti.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ii{constructor(t,e){this.key=t,this.Ci=e}static Ei(t,e){return Ze.comparator(t.key,e.key)||Ft(t.Ci,e.Ci)}static Ri(t,e){return Ft(t.Ci,e.Ci)||Ze.comparator(t.key,e.key)}}class $0{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.xi=1,this.Ni=new In(Ii.Ei)}checkEmpty(t){return me.resolve(0===this.Bs.length)}addMutationBatch(t,e,i,r){const s=this.xi;this.xi++;const u=new T0(s,e,i,r);this.Bs.push(u);for(const h of r)this.Ni=this.Ni.add(new Ii(h.key,s)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return me.resolve(u)}lookupMutationBatch(t,e){return me.resolve(this.ki(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Mi(e+1),s=r<0?0:r;return me.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(t){return me.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ii(e,0),r=new Ii(e,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([i,r],u=>{const h=this.ki(u.Ci);s.push(h)}),me.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new In(Ft);return e.forEach(r=>{const s=new Ii(r,0),u=new Ii(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,u],h=>{i=i.add(h.Ci)})}),me.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Ze.isDocumentKey(s)||(s=s.child(""));const u=new Ii(new Ze(s),0);let h=new In(Ft);return this.Ni.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(g.Ci)),!0)},u),me.resolve(this.Oi(h))}Oi(t){const e=[];return t.forEach(i=>{const r=this.ki(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Nt(0===this.Fi(e.batchId,"removed")),this.Bs.shift();let i=this.Ni;return me.forEach(e.mutations,r=>{const s=new Ii(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Ni=i})}_n(t){}containsKey(t,e){const i=new Ii(e,0),r=this.Ni.firstAfterOrEqual(i);return me.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return me.resolve()}Fi(t,e){return this.Mi(t)}Mi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}ki(t){const e=this.Mi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class wI{constructor(t){this.$i=t,this.docs=new ci(Ze.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,u=this.$i(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return me.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(e))}getEntries(t,e){let i=_o();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Nn.newInvalidDocument(r))}),me.resolve(i)}getAllFromCollection(t,e,i){let r=_o();const s=new Ze(e.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:h,value:{document:g}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||xC(bS(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return me.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ft()}Bi(t,e){return me.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new z0(this)}getSize(t){return me.resolve(this.size)}}class z0 extends O0{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(i)}),me.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class q0{constructor(t){this.persistence=t,this.Li=new zc(e=>nd(e),Qp),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new ry,this.targetCount=0,this.Ki=hd.gn()}forEachTarget(t,e){return this.Li.forEach((i,r)=>e(r)),me.resolve()}getLastRemoteSnapshotVersion(t){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return me.resolve(this.Ui)}allocateTargetId(t){return this.highestTargetId=this.Ki.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ui&&(this.Ui=e),me.resolve()}Tn(t){this.Li.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ki=new hd(e),this.highestTargetId=e),t.sequenceNumber>this.Ui&&(this.Ui=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,me.resolve()}updateTargetData(t,e){return this.Tn(e),me.resolve()}removeTargetData(t,e){return this.Li.delete(e.target),this.qi.vi(e.targetId),this.targetCount-=1,me.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Li.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Li.delete(u),s.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),me.waitFor(s).next(()=>r)}getTargetCount(t){return me.resolve(this.targetCount)}getTargetData(t,e){const i=this.Li.get(e)||null;return me.resolve(i)}addMatchingKeys(t,e,i){return this.qi.bi(e,i),me.resolve()}removeMatchingKeys(t,e,i){this.qi.Vi(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(u=>{s.push(r.markPotentiallyOrphaned(t,u))}),me.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.qi.vi(e),me.resolve()}getMatchingKeysForTargetId(t,e){const i=this.qi.Di(e);return me.resolve(i)}containsKey(t,e){return me.resolve(this.qi.containsKey(e))}}class sy{constructor(t,e){this.Gi={},this.overlays={},this.es=new Hs(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new q0(this),this.indexManager=new nI,this.ds=new wI(i=>this.referenceDelegate.Qi(i)),this.M=new I0(e),this._s=new bE(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new md,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Gi[t.toKey()];return i||(i=new $0(e,this.referenceDelegate),this.Gi[t.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,i){je("MemoryPersistence","Starting transaction:",t);const r=new fk(this.es.next());return this.referenceDelegate.ji(),i(r).next(s=>this.referenceDelegate.Wi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}zi(t,e){return me.or(Object.values(this.Gi).map(i=>()=>i.containsKey(t,e)))}}class fk extends fg{constructor(t){super(),this.currentSequenceNumber=t}}class wE{constructor(t){this.persistence=t,this.Hi=new ry,this.Ji=null}static Yi(t){return new wE(t)}get Xi(){if(this.Ji)return this.Ji;throw ft()}addReference(t,e,i){return this.Hi.addReference(i,e),this.Xi.delete(i.toString()),me.resolve()}removeReference(t,e,i){return this.Hi.removeReference(i,e),this.Xi.add(i.toString()),me.resolve()}markPotentiallyOrphaned(t,e){return this.Xi.add(e.toString()),me.resolve()}removeTarget(t,e){this.Hi.vi(e.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Xi.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ji(){this.Ji=new Set}Wi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xi,i=>{const r=Ze.fromPath(i);return this.Zi(t,r).next(s=>{s||e.removeEntry(r,lt.min())})}).next(()=>(this.Ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Zi(t,e).next(i=>{i?this.Xi.delete(e.toString()):this.Xi.add(e.toString())})}Qi(t){return 0}Zi(t,e){return me.or([()=>me.resolve(this.Hi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.zi(t,e)])}}function DI(n,t){return`firestore_clients_${n}_${t}`}function CI(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function oy(n,t){return`firestore_targets_${n}_${t}`}class ay{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static tr(t,e,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Re(r.error.code,r.error.message))),u?new ay(t,e,r.state,s):(_i("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Dg{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static tr(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Re(i.error.code,i.error.message))),s?new Dg(t,i.state,r):(_i("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ly{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static tr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=og();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Yh(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new ly(t,s):(_i("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class W0{constructor(t,e){this.clientId=t,this.onlineState=e}static tr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new W0(e.clientId,e.onlineState):(_i("SharedClientState",`Failed to parse online state: ${t}`),null)}}class cy{constructor(){this.activeTargetIds=og()}nr(t){this.activeTargetIds=this.activeTargetIds.add(t)}sr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}er(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uy{constructor(t,e,i,r,s){this.window=t,this.Yn=e,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ci(Ft),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.hr=DI(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new cy),this.dr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.syncEngine.Fs();for(const r of e){if(r===t.ir)continue;const s=t.getItem(DI(t.persistenceKey,r));if(s){const u=ly.tr(r,s);u&&(t.ar=t.ar.insert(u.clientId,u))}}t.yr();const i=t.storage.getItem(t.mr);if(i){const r=t.pr(i);r&&t.Ir(r)}for(const r of t.cr)t.ur(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.lr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(t){let e=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Er(t,"pending")}updateMutationState(t,e,i){this.Er(t,e,i),this.Ar(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(oy(this.persistenceKey,t));if(i){const r=Dg.tr(t,i);r&&(e=r.state)}}return this.Rr.nr(t),this.yr(),e}removeLocalQueryTarget(t){this.Rr.sr(t),this.yr()}isLocalQueryTarget(t){return this.Rr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(oy(this.persistenceKey,t))}updateQueryState(t,e,i){this.br(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Ar(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Pr(t)}notifyBundleLoaded(t){this.Vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return je("SharedClientState","READ",t,e),e}setItem(t,e){je("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){je("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ur(t){var e=this;const i=t;if(i.storageArea===this.storage){if(je("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void _i("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ee.Z)(function*(){if(e.started){if(null!==i.key)if(e.dr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Sr(r,null)}{const r=e.Dr(i.key,i.newValue);if(r)return e.Sr(r.clientId,r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Cr(i.key,i.newValue);if(r)return e.Nr(r)}}else if(e.wr.test(i.key)){if(null!==i.newValue){const r=e.kr(i.key,i.newValue);if(r)return e.Mr(r)}}else if(i.key===e.mr){if(null!==i.newValue){const r=e.pr(i.newValue);if(r)return e.Ir(r)}}else if(i.key===e.lr){const r=function(s){let u=Hs.A;if(null!=s)try{const h=JSON.parse(s);Nt("number"==typeof h),u=h}catch(h){_i("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Hs.A&&e.sequenceNumberHandler(r)}else if(i.key===e.gr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Fr(s)))}}else e.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(t,e,i){const r=new ay(this.currentUser,t,e,i),s=CI(this.persistenceKey,this.currentUser,t);this.setItem(s,r.er())}Ar(t){const e=CI(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Pr(t){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:t}))}br(t,e,i){const r=oy(this.persistenceKey,t),s=new Dg(t,e,i);this.setItem(r,s.er())}Vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.gr,e)}vr(t){const e=this.dr.exec(t);return e?e[1]:null}Dr(t,e){const i=this.vr(t);return ly.tr(i,e)}Cr(t,e){const i=this._r.exec(t),r=Number(i[1]);return ay.tr(new vr(void 0!==i[2]?i[2]:null),r,e)}kr(t,e){const i=this.wr.exec(t),r=Number(i[1]);return Dg.tr(r,e)}pr(t){return W0.tr(t)}Or(t){return JSON.parse(t)}Nr(t){var e=this;return(0,Ee.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.$r(t.batchId,t.state,t.error);je("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Mr(t){return this.syncEngine.Br(t.targetId,t.state,t.error)}Sr(t,e){const i=e?this.ar.insert(t,e):this.ar.remove(t),r=this.Tr(this.ar),s=this.Tr(i),u=[],h=[];return s.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{s.has(g)||h.push(g)}),this.syncEngine.Lr(u,h).then(()=>{this.ar=i})}Ir(t){this.ar.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Tr(t){let e=og();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class Y0{constructor(){this.Ur=new cy,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Ur.nr(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Ur.sr(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new cy,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class EI{Kr(t){}shutdown(){}}class DE{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Wr(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const CE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Z0{constructor(t){this.Jr=t.Jr,this.Yr=t.Yr}Xr(t){this.Zr=t}eo(t){this.no=t}onMessage(t){this.so=t}close(){this.Yr()}send(t){this.Jr(t)}io(){this.Zr()}ro(t){this.no(t)}oo(t){this.so(t)}}class pk extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.uo=(t.ssl?"https":"http")+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,s){const u=this.ho(t,e);je("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,s),this.fo(t,u,h,i).then(g=>(je("RestConnection","Received: ",g),g),g=>{throw $h("RestConnection",`${t} failed with error: `,g,"url: ",u,"request:",i),g})}_o(t,e,i,r,s){return this.co(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Gh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.uo}/v1/${e}:${CE[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,u)=>{const h=new pS;h.listenOnce(dS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Nb.NO_ERROR:const v=h.getResponseJson();je("Connection","XHR received:",JSON.stringify(v)),s(v);break;case Nb.TIMEOUT:je("Connection",'RPC "'+t+'" timed out'),u(new Re(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Nb.HTTP_ERROR:const C=h.getStatus();if(je("Connection",'RPC "'+t+'" failed with status:',C,"response text:",h.getResponseText()),C>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const N=function(F){const U=F.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(U)>=0?U:fe.UNKNOWN}(I.status);u(new Re(N,I.message))}else u(new Re(fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Re(fe.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{je("Connection",'RPC "'+t+'" completed.')}});const g=JSON.stringify(r);h.send(e,"POST",g,i,15)})}wo(t,e,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=cS(),u=uS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new fS({})),this.lo(h.initMessageHeaders,e,i),(0,qt.uI)()||(0,qt.b$)()||(0,qt.d)()||(0,qt.w1)()||(0,qt.Mn)()||(0,qt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const g=r.join("");je("Connection","Creating WebChannel: "+g,h);const v=s.createWebChannel(g,h);let C=!1,I=!1;const N=new Z0({Jr:U=>{I?je("Connection","Not sending because WebChannel is closed:",U):(C||(je("Connection","Opening WebChannel transport."),v.open(),C=!0),je("Connection","WebChannel sending:",U),v.send(U))},Yr:()=>v.close()}),F=(U,Y,ce)=>{U.listen(Y,Be=>{try{ce(Be)}catch(Ve){setTimeout(()=>{throw Ve},0)}})};return F(v,S_.EventType.OPEN,()=>{I||je("Connection","WebChannel transport opened.")}),F(v,S_.EventType.CLOSE,()=>{I||(I=!0,je("Connection","WebChannel transport closed"),N.ro())}),F(v,S_.EventType.ERROR,U=>{I||(I=!0,$h("Connection","WebChannel transport errored:",U),N.ro(new Re(fe.UNAVAILABLE,"The operation could not be completed")))}),F(v,S_.EventType.MESSAGE,U=>{var Y;if(!I){const ce=U.data[0];Nt(!!ce);const Be=ce,Ve=Be.error||(null===(Y=Be[0])||void 0===Y?void 0:Y.error);if(Ve){je("Connection","WebChannel received error:",Ve);const Ye=Ve.status;let Ue=function(st){const _t=Si[st];if(void 0!==_t)return s0(_t)}(Ye),et=Ve.message;void 0===Ue&&(Ue=fe.INTERNAL,et="Unknown error status: "+Ye+" with message "+Ve.message),I=!0,N.ro(new Re(Ue,et)),v.close()}else je("Connection","WebChannel received:",ce),N.oo(ce)}}),F(u,hS.STAT_EVENT,U=>{U.stat===pC.PROXY?je("Connection","Detected buffering proxy"):U.stat===pC.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.io()},0),N}}function K0(){return"undefined"!=typeof window?window:null}function mf(){return"undefined"!=typeof document?document:null}function Cg(n){return new Ha(n,!0)}class Q0{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Yn=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class TI{constructor(t,e,i,r,s,u,h,g){this.Yn=t,this.Vo=i,this.vo=r,this.So=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Q0(t,e)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,Ee.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,Ee.Z)(function*(){if(t.Mo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var i=this;return(0,Ee.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==t?i.No.reset():e&&e.code===fe.RESOURCE_EXHAUSTED?(_i(e.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):e&&e.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.eo(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===e&&this.Qo(i,r)},i=>{t(()=>{const r=new Re(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(t,e){const i=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.No.Ro((0,Ee.Z)(function*(){t.state=0,t.start()}))}jo(t){return je("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Yn.enqueueAndForget(()=>this.Do===t?e():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gk extends TI{constructor(t,e,i,r,s,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.M=s}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function US(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:ft(),r=t.targetChange.targetIds||[],s=function(g,v){return g.N?(Nt(void 0===v||"string"==typeof v),Bi.fromBase64String(v||"")):(Nt(void 0===v||v instanceof Uint8Array),Bi.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const v=void 0===g.code?fe.UNKNOWN:s0(g.code);return new Re(v,g.message||"")}(u);e=new YC(i,r,s,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Gs(n,i.document.name),s=sr(i.document.updateTime),u=new Ur({mapValue:{fields:i.document.fields}}),h=Nn.newFoundDocument(r,s,u);e=new V_(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Gs(n,i.document),s=i.readTime?sr(i.readTime):lt.min(),u=Nn.newNoDocument(r,s);e=new V_([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Gs(n,i.document);e=new V_([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ft();{const i=t.filter,s=new n0(i.count||0);e=new WC(i.targetId,s)}}var g;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return lt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?lt.min():s.readTime?sr(s.readTime):lt.min()}(t);return this.listener.zo(e,i)}Ho(t){const e={};e.database=af(this.M),e.addTarget=function(r,s){let u;const h=s.target;return u=Jp(h)?{documents:f0(r,h)}:{query:H_(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=B_(r,s.resumeToken):s.snapshotVersion.compareTo(lt.min())>0&&(u.readTime=lg(r,s.snapshotVersion.toTimestamp())),u}(this.M,t);const i=function jS(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Lo(e)}Jo(t){const e={};e.database=af(this.M),e.removeTarget=t,this.Lo(e)}}class SI extends TI{constructor(t,e,i,r,s,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(Nt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function h0(n,t){return n&&n.length>0?(Nt(void 0!==t),n.map(e=>function(i,r){let s=sr(i.updateTime?i.updateTime:r);return s.isEqual(lt.min())&&(s=sr(r)),new RS(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=sr(t.commitTime);return this.listener.tu(i,e)}return Nt(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=af(this.M),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>j_(this.M,i))};this.Lo(e)}}class II extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So.co(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(fe.UNKNOWN,r.toString())})}_o(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So._o(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(fe.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class mk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(_i(e),this.uu=!1):je("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class _k{constructor(t,e,i,r,s){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(h=>{i.enqueueAndForget((0,Ee.Z)(function*(){var g;c(u)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Ee.Z)(function*(v){const C=Je(v);C.wu.add(4),yield Eg(C),C.yu.set("Unknown"),C.wu.delete(4),yield dy(C)}),function(v){return g.apply(this,arguments)})(u))}))}),this.yu=new mk(i,r)}}function dy(n){return EE.apply(this,arguments)}function EE(){return EE=(0,Ee.Z)(function*(n){if(c(n))for(const t of n.mu)yield t(!0)}),EE.apply(this,arguments)}function Eg(n){return J0.apply(this,arguments)}function J0(){return J0=(0,Ee.Z)(function*(n){for(const t of n.mu)yield t(!1)}),J0.apply(this,arguments)}function X0(n,t){const e=Je(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),a(e)?o(e):Xc(e).Mo()&&TE(e,t))}function hy(n,t){const e=Je(n),i=Xc(e);e._u.delete(t),i.Mo()&&AI(e,t),0===e._u.size&&(i.Mo()?i.$o():c(e)&&e.yu.set("Unknown"))}function TE(n,t){n.pu.Z(t.targetId),Xc(n).Ho(t)}function AI(n,t){n.pu.Z(t),Xc(n).Jo(t)}function o(n){n.pu=new LS({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n._u.get(t)||null}),Xc(n).start(),n.yu.au()}function a(n){return c(n)&&!Xc(n).ko()&&n._u.size>0}function c(n){return 0===Je(n).wu.size}function d(n){n.pu=void 0}function f(n){return m.apply(this,arguments)}function m(){return m=(0,Ee.Z)(function*(n){n._u.forEach((t,e)=>{TE(n,t)})}),m.apply(this,arguments)}function b(n,t){return D.apply(this,arguments)}function D(){return D=(0,Ee.Z)(function*(n,t){d(n),a(n)?(n.yu.lu(t),o(n)):n.yu.set("Unknown")}),D.apply(this,arguments)}function E(n,t,e){return x.apply(this,arguments)}function x(){return x=(0,Ee.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof YC&&2===t.state&&t.cause)try{yield(i=(0,Ee.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r._u.delete(h),r.pu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){je("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield k(n,i)}else if(t instanceof V_?n.pu.ut(t):t instanceof WC?n.pu._t(t):n.pu.ht(t),!e.isEqual(lt.min()))try{const i=yield pI(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const u=r.pu.yt(s);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=r._u.get(g);v&&r._u.set(g,v.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const g=r._u.get(h);if(!g)return;r._u.set(h,g.withResumeToken(Bi.EMPTY_BYTE_STRING,g.snapshotVersion)),AI(r,h);const v=new Zc(g.target,h,1,g.sequenceNumber);TE(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){je("RemoteStore","Failed to raise snapshot:",i),yield k(n,i)}var i}),x.apply(this,arguments)}function k(n,t,e){return V.apply(this,arguments)}function V(){return V=(0,Ee.Z)(function*(n,t,e){if(!ad(t))throw t;n.wu.add(1),yield Eg(n),n.yu.set("Offline"),e||(e=()=>pI(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield dy(n)}))}),V.apply(this,arguments)}function H(n,t){return t().catch(e=>k(n,e,t))}function X(n){return be.apply(this,arguments)}function be(){return be=(0,Ee.Z)(function*(n){const t=Je(n),e=$a(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;He(t);)try{const r=yield gI(t.localStore,i);if(null===r){0===t.du.length&&e.$o();break}i=r.batchId,We(t,r)}catch(r){yield k(t,r)}ht(t)&&Me(t)}),be.apply(this,arguments)}function He(n){return c(n)&&n.du.length<10}function We(n,t){n.du.push(t);const e=$a(n);e.Mo()&&e.Xo&&e.Zo(t.mutations)}function ht(n){return c(n)&&!$a(n).ko()&&n.du.length>0}function Me(n){$a(n).start()}function Ct(n){return Wt.apply(this,arguments)}function Wt(){return Wt=(0,Ee.Z)(function*(n){$a(n).nu()}),Wt.apply(this,arguments)}function pn(n){return es.apply(this,arguments)}function es(){return es=(0,Ee.Z)(function*(n){const t=$a(n);for(const e of n.du)t.Zo(e.mutations)}),es.apply(this,arguments)}function _d(n,t,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,Ee.Z)(function*(n,t,e){const i=n.du.shift(),r=S0.from(i,t,e);yield H(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield X(n)}),Tg.apply(this,arguments)}function ew(n,t){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,Ee.Z)(function*(n,t){var e;t&&$a(n).Xo&&(yield(e=(0,Ee.Z)(function*(i,r){if(r0(s=r.code)&&s!==fe.ABORTED){const u=i.du.shift();$a(i).Fo(),yield H(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield X(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),ht(n)&&Me(n)}),Sg.apply(this,arguments)}function fy(n,t){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,Ee.Z)(function*(n,t){const e=Je(n);e.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const i=c(e);e.wu.add(3),yield Eg(e),i&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield dy(e)}),Ig.apply(this,arguments)}function Ag(n,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,Ee.Z)(function*(n,t){const e=Je(n);t?(e.wu.delete(2),yield dy(e)):t||(e.wu.add(2),yield Eg(e),e.yu.set("Unknown"))}),Mg.apply(this,arguments)}function Xc(n){return n.Iu||(n.Iu=function(t,e,i){const r=Je(t);return r.iu(),new gk(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:f.bind(null,n),eo:b.bind(null,n),zo:E.bind(null,n)}),n.mu.push(function(){var t=(0,Ee.Z)(function*(e){e?(n.Iu.Fo(),a(n)?o(n):n.yu.set("Unknown")):(yield n.Iu.stop(),d(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function $a(n){return n.Tu||(n.Tu=function(t,e,i){const r=Je(t);return r.iu(),new SI(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:Ct.bind(null,n),eo:ew.bind(null,n),eu:pn.bind(null,n),tu:_d.bind(null,n)}),n.mu.push(function(){var t=(0,Ee.Z)(function*(e){e?(n.Tu.Fo(),yield X(n)):(yield n.Tu.stop(),n.du.length>0&&(je("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class MI{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,s){const u=Date.now()+i,h=new MI(t,e,u,r,s);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(n,t){if(_i("AsyncQueue",`${t}: ${n}`),ad(n))return new Re(fe.UNAVAILABLE,`${t}: ${n}`);throw n}class gy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ze.comparator(e.key,i.key):(e,i)=>Ze.comparator(e.key,i.key),this.keyedMap=o0(),this.sortedSet=new ci(this.comparator)}static emptySet(t){return new gy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof gy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new gy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class yk{constructor(){this.Eu=new ci(Ze.comparator)}track(t){const e=t.doc.key,i=this.Eu.get(e);i?0!==t.type&&3===i.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==i.type?this.Eu=this.Eu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Eu=this.Eu.remove(e):1===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):ft():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,i)=>{t.push(i)}),t}}class my{constructor(t,e,i,r,s,u,h,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(u=>{s.push({type:0,doc:u})}),new my(t,e,gy.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&eg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class wL{constructor(){this.Ru=void 0,this.listeners=[]}}class DL{constructor(){this.queries=new zc(t=>Yb(t),eg),this.onlineState="Unknown",this.bu=new Set}}function xI(n,t){return kI.apply(this,arguments)}function kI(){return kI=(0,Ee.Z)(function*(n,t){const e=Je(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new wL),r)try{s.Ru=yield e.onListen(i)}catch(u){const h=py(u,`Initialization of query '${BC(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,s),s.listeners.push(t),t.Pu(e.onlineState),s.Ru&&t.Vu(s.Ru)&&OI(e)}),kI.apply(this,arguments)}function RI(n,t){return NI.apply(this,arguments)}function NI(){return NI=(0,Ee.Z)(function*(n,t){const e=Je(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const u=s.listeners.indexOf(t);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),NI.apply(this,arguments)}function CL(n,t){const e=Je(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Vu(r)&&(i=!0);u.Ru=r}}i&&OI(e)}function EL(n,t,e){const i=Je(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function OI(n){n.bu.forEach(t=>{t.next()})}class PI{constructor(t,e,i){this.query=t,this.vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new my(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Su?this.Cu(t)&&(this.vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||!(this.options.ku&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=my.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Su=!0,this.vu.next(t)}}class TL{constructor(t,e){this.payload=t,this.byteLength=e}Mu(){return"metadata"in this.payload}}class vk{constructor(t){this.M=t}wi(t){return Gs(this.M,t)}mi(t){return t.metadata.exists?d0(this.M,t.document,!1):Nn.newNoDocument(this.wi(t.metadata.name),this.gi(t.metadata.readTime))}gi(t){return sr(t)}}class SL{constructor(t,e,i){this.Ou=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bk(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Jt.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new vk(this.M);for(const r of t)if(r.metadata.queries){const s=i.wi(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||un()).add(s);e.set(u,h)}}return e}complete(){var t=this;return(0,Ee.Z)(function*(){const e=yield function vI(n,t,e,i){return gf.apply(this,arguments)}(t.localStore,new vk(t.M),t.documents,t.Ou.id),i=t.$u(t.documents);for(const r of t.queries)yield bI(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function bk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class wk{constructor(t){this.key=t}}class Dk{constructor(t){this.key=t}}class Ck{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.current=!1,this.Ku=un(),this.mutatedKeys=un(),this.Gu=UC(t),this.Qu=new gy(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new yk,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((C,I)=>{const N=r.get(C),F=Zb(this.query,I)?I:null,U=!!N&&this.mutatedKeys.has(N.key),Y=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ce=!1;N&&F?N.data.isEqual(F.data)?U!==Y&&(i.track({type:3,doc:F}),ce=!0):this.Hu(N,F)||(i.track({type:2,doc:F}),ce=!0,(g&&this.Gu(F,g)>0||v&&this.Gu(F,v)<0)&&(h=!0)):!N&&F?(i.track({type:0,doc:F}),ce=!0):N&&!F&&(i.track({type:1,doc:N}),ce=!0,(g||v)&&(h=!0)),ce&&(F?(u=u.add(F),s=Y?s.add(C):s.delete(C)):(u=u.delete(C),s=s.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{Qu:u,zu:i,ii:h,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Au();s.sort((v,C)=>function(I,N){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return F(I)-F(N)}(v.type,C.type)||this.Gu(v.doc,C.doc)),this.Ju(i);const u=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,g=h!==this.qu;return this.qu=h,0!==s.length||g?{snapshot:new my(this.query,t.Qu,r,s,t.mutatedKeys,0===h,g,!1),Xu:u}:{Xu:u}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new yk,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=un(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new Dk(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new wk(i))}),e}ta(t){this.Uu=t._i,this.Ku=un();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ea(){return my.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class IL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class AL{constructor(t){this.key=t,this.na=!1}}class ML{constructor(t,e,i,r,s,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sa={},this.ia=new zc(h=>Yb(h),eg),this.ra=new Map,this.oa=new Set,this.ua=new ci(Ze.comparator),this.aa=new Map,this.ca=new ry,this.ha={},this.la=new Map,this.fa=hd.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function xL(n,t){return FI.apply(this,arguments)}function FI(){return FI=(0,Ee.Z)(function*(n,t){const e=sA(n);let i,r;const s=e.ia.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ea();else{const u=yield ff(e.localStore,mo(t));e.isPrimaryClient&&X0(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield LI(e,t,i,"current"===h)}return r}),FI.apply(this,arguments)}function LI(n,t,e,i){return VI.apply(this,arguments)}function VI(){return VI=(0,Ee.Z)(function*(n,t,e,i){n._a=(C,I,N)=>{return(F=(0,Ee.Z)(function*(U,Y,ce,Be){let Ve=Y.view.Wu(ce);Ve.ii&&(Ve=yield H0(U.localStore,Y.query,!1).then(({documents:et})=>Y.view.Wu(et,Ve)));const Ye=Be&&Be.targetChanges.get(Y.targetId),Ue=Y.view.applyChanges(Ve,U.isPrimaryClient,Ye);return YI(U,Y.targetId,Ue.Xu),Ue.snapshot}),function(U,Y,ce,Be){return F.apply(this,arguments)})(n,C,I,N);var F};const r=yield H0(n.localStore,t,!0),s=new Ck(t,r._i),u=s.Wu(r.documents),h=ag.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),g=s.applyChanges(u,n.isPrimaryClient,h);YI(n,e,g.Xu);const v=new IL(t,e,s);return n.ia.set(t,v),n.ra.has(e)?n.ra.get(e).push(t):n.ra.set(e,[t]),g.snapshot}),VI.apply(this,arguments)}function kL(n,t){return BI.apply(this,arguments)}function BI(){return BI=(0,Ee.Z)(function*(n,t){const e=Je(n),i=e.ia.get(t),r=e.ra.get(i.targetId);if(r.length>1)return e.ra.set(i.targetId,r.filter(s=>!eg(s,t))),void e.ia.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield pf(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),hy(e.remoteStore,i.targetId),_y(e,i.targetId)}).catch(fd))):(_y(e,i.targetId),yield pf(e.localStore,i.targetId,!0))}),BI.apply(this,arguments)}function UI(){return UI=(0,Ee.Z)(function*(n,t,e){const i=oA(n);try{const r=yield function(s,u){const h=Je(s),g=jn.now(),v=u.reduce((I,N)=>I.add(N.key),un());let C;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>h.fi.Ks(I,v).next(N=>{C=N;const F=[];for(const U of u){const Y=nf(U,C.get(U.key));null!=Y&&F.push(new $c(U.key,Y,MC(Y.value.mapValue),ui.exists(!0)))}return h.Bs.addMutationBatch(I,g,F,u)})).then(I=>(I.applyToLocalDocumentSet(C),{batchId:I.batchId,changes:C}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let g=s.ha[s.currentUser.toKey()];g||(g=new ci(Ft)),g=g.insert(u,h),s.ha[s.currentUser.toKey()]=g}(i,r.batchId,e),yield yd(i,r.changes),yield X(i.remoteStore)}catch(r){const s=py(r,"Failed to persist write");e.reject(s)}}),UI.apply(this,arguments)}function Ek(n,t){return jI.apply(this,arguments)}function jI(){return jI=(0,Ee.Z)(function*(n,t){const e=Je(n);try{const i=yield hk(e.localStore,t);t.targetChanges.forEach((r,s)=>{const u=e.aa.get(s);u&&(Nt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.na=!0:r.modifiedDocuments.size>0?Nt(u.na):r.removedDocuments.size>0&&(Nt(u.na),u.na=!1))}),yield yd(e,i,t)}catch(i){yield fd(i)}}),jI.apply(this,arguments)}function Tk(n,t,e){const i=Je(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ia.forEach((s,u)=>{const h=u.view.Pu(t);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=Je(s);h.onlineState=u;let g=!1;h.queries.forEach((v,C)=>{for(const I of C.listeners)I.Pu(u)&&(g=!0)}),g&&OI(h)}(i.eventManager,t),r.length&&i.sa.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function NL(n,t,e){return HI.apply(this,arguments)}function HI(){return HI=(0,Ee.Z)(function*(n,t,e){const i=Je(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.aa.get(t),s=r&&r.key;if(s){let u=new ci(Ze.comparator);u=u.insert(s,Nn.newNoDocument(s,lt.min()));const h=un().add(s),g=new rf(lt.min(),new Map,new In(Ft),u,h);yield Ek(i,g),i.ua=i.ua.remove(s),i.aa.delete(t),ZI(i)}else yield pf(i.localStore,t,!1).then(()=>_y(i,t,e)).catch(fd)}),HI.apply(this,arguments)}function OL(n,t){return GI.apply(this,arguments)}function GI(){return GI=(0,Ee.Z)(function*(n,t){const e=Je(n),i=t.batch.batchId;try{const r=yield fI(e.localStore,t);WI(e,i,null),qI(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield yd(e,r)}catch(r){yield fd(r)}}),GI.apply(this,arguments)}function PL(n,t,e){return $I.apply(this,arguments)}function $I(){return $I=(0,Ee.Z)(function*(n,t,e){const i=Je(n);try{const r=yield function(s,u){const h=Je(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return h.Bs.lookupMutationBatch(g,u).next(C=>(Nt(null!==C),v=C.keys(),h.Bs.removeMutationBatch(g,C))).next(()=>h.Bs.performConsistencyCheck(g)).next(()=>h.fi.Ks(g,v))})}(i.localStore,t);WI(i,t,e),qI(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield yd(i,r)}catch(r){yield fd(r)}}),$I.apply(this,arguments)}function zI(){return zI=(0,Ee.Z)(function*(n,t){const e=Je(n);c(e.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=Je(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.Bs.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.la.get(i)||[];r.push(t),e.la.set(i,r)}catch(i){const r=py(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),zI.apply(this,arguments)}function qI(n,t){(n.la.get(t)||[]).forEach(e=>{e.resolve()}),n.la.delete(t)}function WI(n,t,e){const i=Je(n);let r=i.ha[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.ha[i.currentUser.toKey()]=r}}function _y(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ra.get(t))n.ia.delete(i),e&&n.sa.wa(i,e);n.ra.delete(t),n.isPrimaryClient&&n.ca.vi(t).forEach(i=>{n.ca.containsKey(i)||Sk(n,i)})}function Sk(n,t){n.oa.delete(t.path.canonicalString());const e=n.ua.get(t);null!==e&&(hy(n.remoteStore,e),n.ua=n.ua.remove(t),n.aa.delete(e),ZI(n))}function YI(n,t,e){for(const i of e)i instanceof wk?(n.ca.addReference(i.key,t),LL(n,i)):i instanceof Dk?(je("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,t),n.ca.containsKey(i.key)||Sk(n,i.key)):ft()}function LL(n,t){const e=t.key,i=e.path.canonicalString();n.ua.get(e)||n.oa.has(i)||(je("SyncEngine","New document in limbo: "+e),n.oa.add(i),ZI(n))}function ZI(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const t=n.oa.values().next().value;n.oa.delete(t);const e=new Ze(Jt.fromString(t)),i=n.fa.next();n.aa.set(i,new AL(e)),n.ua=n.ua.insert(e,i),X0(n.remoteStore,new Zc(mo(Hc(e.path)),i,2,Hs.A))}}function yd(n,t,e){return KI.apply(this,arguments)}function KI(){return KI=(0,Ee.Z)(function*(n,t,e){const i=Je(n),r=[],s=[],u=[];var h;i.ia.isEmpty()||(i.ia.forEach((h,g)=>{u.push(i._a(g,t,e).then(v=>{if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v.fromCache?"not-current":"current"),r.push(v);const C=wg.Ys(g.targetId,v);s.push(C)}}))}),yield Promise.all(u),i.sa.zo(r),yield(h=(0,Ee.Z)(function*(g,v){const C=Je(g);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>me.forEach(v,N=>me.forEach(N.Hs,F=>C.persistence.referenceDelegate.addReference(I,N.targetId,F)).next(()=>me.forEach(N.Js,F=>C.persistence.referenceDelegate.removeReference(I,N.targetId,F)))))}catch(I){if(!ad(I))throw I;je("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const N=I.targetId;if(!I.fromCache){const F=C.ui.get(N),Y=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);C.ui=C.ui.insert(N,Y)}}}),function(g,v){return h.apply(this,arguments)})(i.localStore,s))}),KI.apply(this,arguments)}function VL(n,t){return QI.apply(this,arguments)}function QI(){return QI=(0,Ee.Z)(function*(n,t){const e=Je(n);if(!e.currentUser.isEqual(t)){je("SyncEngine","User change. New user:",t.toKey());const i=yield B0(e.localStore,t);e.currentUser=t,(r=e).la.forEach(u=>{u.forEach(h=>{h.reject(new Re(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield yd(e,i.di)}var r}),QI.apply(this,arguments)}function BL(n,t){const e=Je(n),i=e.aa.get(t);if(i&&i.na)return un().add(i.key);{let r=un();const s=e.ra.get(t);if(!s)return r;for(const u of s){const h=e.ia.get(u);r=r.unionWith(h.view.ju)}return r}}function UL(n,t){return JI.apply(this,arguments)}function JI(){return JI=(0,Ee.Z)(function*(n,t){const e=Je(n),i=yield H0(e.localStore,t.query,!0),r=t.view.ta(i);return e.isPrimaryClient&&YI(e,t.targetId,r.Xu),r}),JI.apply(this,arguments)}function jL(n,t){return XI.apply(this,arguments)}function XI(){return XI=(0,Ee.Z)(function*(n,t){const e=Je(n);return _I(e.localStore,t).then(i=>yd(e,i))}),XI.apply(this,arguments)}function HL(n,t,e,i){return eA.apply(this,arguments)}function eA(){return eA=(0,Ee.Z)(function*(n,t,e,i){const r=Je(n),s=yield function(u,h){const g=Je(u),v=Je(g.Bs);return g.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.fn(C,h).next(I=>I?g.fi.Ks(C,I):me.resolve(null)))}(r.localStore,t);var h;null!==s?("pending"===e?yield X(r.remoteStore):"acknowledged"===e||"rejected"===e?(WI(r,t,i||null),qI(r,t),h=t,Je(Je(r.localStore).Bs)._n(h)):ft(),yield yd(r,s)):je("SyncEngine","Cannot apply mutation batch with id: "+t)}),eA.apply(this,arguments)}function tA(){return tA=(0,Ee.Z)(function*(n,t){const e=Je(n);if(sA(e),oA(e),!0===t&&!0!==e.da){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield Ik(e,i.toArray());e.da=!0,yield Ag(e.remoteStore,!0);for(const s of r)X0(e.remoteStore,s)}else if(!1===t&&!1!==e.da){const i=[];let r=Promise.resolve();e.ra.forEach((s,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(_y(e,u),pf(e.localStore,u,!0))),hy(e.remoteStore,u)}),yield r,yield Ik(e,i),function(s){const u=Je(s);u.aa.forEach((h,g)=>{hy(u.remoteStore,g)}),u.ca.Si(),u.aa=new Map,u.ua=new ci(Ze.comparator)}(e),e.da=!1,yield Ag(e.remoteStore,!1)}}),tA.apply(this,arguments)}function Ik(n,t,e){return nA.apply(this,arguments)}function nA(){return nA=(0,Ee.Z)(function*(n,t,e){const i=Je(n),r=[],s=[];for(const u of t){let h;const g=i.ra.get(u);if(g&&0!==g.length){h=yield ff(i.localStore,mo(g[0]));for(const v of g){const C=i.ia.get(v),I=yield UL(i,C);I.snapshot&&s.push(I.snapshot)}}else{const v=yield mI(i.localStore,u);h=yield ff(i.localStore,v),yield LI(i,Ak(v),u,!1)}r.push(h)}return i.sa.zo(s),r}),nA.apply(this,arguments)}function Ak(n){return $b(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $L(n){const t=Je(n);return Je(Je(t.localStore).persistence).Fs()}function zL(n,t,e,i){return iA.apply(this,arguments)}function iA(){return iA=(0,Ee.Z)(function*(n,t,e,i){const r=Je(n);if(r.da)return void je("SyncEngine","Ignoring unexpected query state notification.");const s=r.ra.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const u=yield _I(r.localStore,tg(s[0])),h=rf.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield yd(r,u,h);break}case"rejected":yield pf(r.localStore,t,!0),_y(r,t,i);break;default:ft()}}),iA.apply(this,arguments)}function qL(n,t,e){return rA.apply(this,arguments)}function rA(){return rA=(0,Ee.Z)(function*(n,t,e){const i=sA(n);if(i.da){for(const r of t){if(i.ra.has(r)){je("SyncEngine","Adding an already active target "+r);continue}const s=yield mI(i.localStore,r),u=yield ff(i.localStore,s);yield LI(i,Ak(s),u.targetId,!1),X0(i.remoteStore,u)}for(const r of e)i.ra.has(r)&&(yield pf(i.localStore,r,!1).then(()=>{hy(i.remoteStore,r),_y(i,r)}).catch(fd))}}),rA.apply(this,arguments)}function sA(n){const t=Je(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ek.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NL.bind(null,t),t.sa.zo=CL.bind(null,t.eventManager),t.sa.wa=EL.bind(null,t.eventManager),t}function oA(n){const t=Je(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PL.bind(null,t),t}class Mk{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ee.Z)(function*(){e.M=Cg(t.databaseInfo.databaseId),e.sharedClientState=e.ga(t),e.persistence=e.ya(t),yield e.persistence.start(),e.gcScheduler=e.pa(t),e.localStore=e.Ia(t)})()}pa(t){return null}Ia(t){return V0(this.persistence,new L0,t.initialUser,this.M)}ya(t){return new sy(wE.Yi,this.M)}ga(t){return new Y0}terminate(){var t=this;return(0,Ee.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class xk extends Mk{constructor(t,e,i){super(),this.Ta=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield e().call(i,t),yield i.Ta.initialize(i,t),yield oA(i.Ta.syncEngine),yield X(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(t){return V0(this.persistence,new L0,t.initialUser,this.M)}pa(t){return new lI(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}ya(t){const e=iy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ds.withCacheSize(this.cacheSizeBytes):Ds.DEFAULT;return new ty(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,K0(),mf(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(t){return new Y0}}class YL extends xk{constructor(t,e){super(t,e,!1),this.Ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield e().call(i,t);const r=i.Ta.syncEngine;i.sharedClientState instanceof uy&&(i.sharedClientState.syncEngine={$r:HL.bind(null,r),Br:zL.bind(null,r),Lr:qL.bind(null,r),Fs:$L.bind(null,r),Fr:jL.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var s=(0,Ee.Z)(function*(u){yield function GL(n,t){return tA.apply(this,arguments)}(i.Ta.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}ga(t){const e=K0();if(!uy.vt(e))throw new Re(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=iy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new uy(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class aA{initialize(t,e){var i=this;return(0,Ee.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Tk(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=VL.bind(null,i.syncEngine),yield Ag(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new DL}createDatastore(t){const e=Cg(t.databaseInfo.databaseId),i=new pk(t.databaseInfo);return new II(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=h=>Tk(this.syncEngine,h,0),u=DE.vt()?new DE:new EI,new _k(e,i,r,s,u);var e,i,r,s,u}createSyncEngine(t,e){return function(i,r,s,u,h,g,v){const C=new ML(i,r,s,u,h,g);return v&&(C.da=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ee.Z)(function*(e){const i=Je(e);je("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield Eg(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function kk(n,t=10240){let e=0;return{read:()=>(0,Ee.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class SE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ea(this.observer.next,t)}error(t){this.observer.error?this.Ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Aa(){this.muted=!0}Ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class ZL{constructor(t,e){this.Ra=t,this.M=e,this.metadata=new rr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var t=this;return(0,Ee.Z)(function*(){return t.metadata.promise})()}ma(){var t=this;return(0,Ee.Z)(function*(){return yield t.getMetadata(),t.Pa()})()}Pa(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.Va();if(null===e)return null;const i=t.ba.decode(e),r=Number(i);isNaN(r)&&t.va(`length string (${i}) is not valid number`);const s=yield t.Sa(r);return new TL(JSON.parse(s),e.length+r)})()}Da(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Va(){var t=this;return(0,Ee.Z)(function*(){for(;t.Da()<0&&!(yield t.Ca()););if(0===t.buffer.length)return null;const e=t.Da();e<0&&t.va("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Sa(t){var e=this;return(0,Ee.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ca())&&e.va("Reached the end of bundle when more is expected.");const i=e.ba.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}va(t){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${t}`)}Ca(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.Ra.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class KL{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Re(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ee.Z)(function*(s,u){const h=Je(s),g=af(h.M)+"/documents",v={documents:u.map(F=>qc(h.M,F))},C=yield h._o("BatchGetDocuments",g,v),I=new Map;C.forEach(F=>{const U=function BS(n,t){return"found"in t?function(e,i){Nt(!!i.found);const r=Gs(e,i.found.name),s=sr(i.found.updateTime),u=new Ur({mapValue:{fields:i.found.fields}});return Nn.newFoundDocument(r,s,u)}(n,t):"missing"in t?function(e,i){Nt(!!i.missing),Nt(!!i.readTime);const r=Gs(e,i.missing),s=sr(i.readTime);return Nn.newNoDocument(r,s)}(n,t):ft()}(h.M,F);I.set(U.key.toString(),U)});const N=[];return u.forEach(F=>{const U=I.get(F.toString());Nt(!!U),N.push(U)}),N}),function(s,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new F_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Ze.fromPath(r);t.mutations.push(new L_(s,t.precondition(s)))}),yield(i=(0,Ee.Z)(function*(r,s){const u=Je(r),h=af(u.M)+"/documents",g={writes:s.map(v=>j_(u.M,v))};yield u.co("Commit",h,g)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ft();e=lt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Re(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ui.updateTime(e):ui.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(lt.min()))throw new Re(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ui.updateTime(e)}return ui.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class QL{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.xa=i.maxAttempts,this.No=new Q0(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var t=this;this.No.Ro((0,Ee.Z)(function*(){const e=new KL(t.datastore),i=t.ka(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Ma(s)}))}).catch(r=>{t.Ma(r)})}))}ka(t){try{const e=this.updateFunction(t);return!qp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ma(t){this.xa>0&&this.Oa(t)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(t)}Oa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!r0(e)}return!1}}class JL{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=vr.UNAUTHENTICATED,this.clientId=bC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Ee.Z)(function*(h){je("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(je("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Ee.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=py(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function Rk(n,t){return lA.apply(this,arguments)}function lA(){return lA=(0,Ee.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ee.Z)(function*(s){i.isEqual(s)||(yield B0(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),lA.apply(this,arguments)}function Nk(n,t){return cA.apply(this,arguments)}function cA(){return cA=(0,Ee.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield uA(n);je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>fy(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>fy(t.remoteStore,s)),n.onlineComponents=t}),cA.apply(this,arguments)}function uA(n){return dA.apply(this,arguments)}function dA(){return dA=(0,Ee.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield Rk(n,new Mk)),n.offlineComponents}),dA.apply(this,arguments)}function IE(n){return hA.apply(this,arguments)}function hA(){return hA=(0,Ee.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield Nk(n,new aA)),n.onlineComponents}),hA.apply(this,arguments)}function Ok(n){return uA(n).then(t=>t.persistence)}function fA(n){return uA(n).then(t=>t.localStore)}function Pk(n){return IE(n).then(t=>t.remoteStore)}function pA(n){return IE(n).then(t=>t.syncEngine)}function yy(n){return gA.apply(this,arguments)}function gA(){return gA=(0,Ee.Z)(function*(n){const t=yield IE(n),e=t.eventManager;return e.onListen=xL.bind(null,t.syncEngine),e.onUnlisten=kL.bind(null,t.syncEngine),e}),gA.apply(this,arguments)}function Fk(n,t,e={}){const i=new rr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,s,u,h,g){const v=new SE({next:I=>{s.enqueueAndForget(()=>RI(r,C));const N=I.docs.has(u);!N&&I.fromCache?g.reject(new Re(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&h&&"server"===h.source?g.reject(new Re(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),C=new PI(Hc(u.path),v,{includeMetadataChanges:!0,ku:!0});return xI(r,C)}(yield yy(n),n.asyncQueue,t,e,i)})),i.promise}function Lk(n,t,e={}){const i=new rr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,s,u,h,g){const v=new SE({next:I=>{s.enqueueAndForget(()=>RI(r,C)),I.fromCache&&"server"===h.source?g.reject(new Re(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),C=new PI(u,v,{includeMetadataChanges:!0,ku:!0});return xI(r,C)}(yield yy(n),n.asyncQueue,t,e,i)})),i.promise}const Vk=new Map;function mA(n,t,e){if(!e)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Bk(n,t,e,i){if(!0===t&&!0===i)throw new Re(fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Uk(n){if(!Ze.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jk(n){if(Ze.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ft()}function on(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=AE(n);throw new Re(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Hk(n,t){if(t<=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class Gk{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Re(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Re(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Bk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tw{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gk({}),this._settingsFrozen=!1,t instanceof Ba?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Re(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(r.options.projectId)}(t))}get app(){if(!this._app)throw new Re(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gk(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new zh;switch(e.type){case"gapi":const i=e.client;return Nt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new vC(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Re(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Vk.get(t);e&&(je("ComponentProvider","Removing Datastore"),Vk.delete(t),e.terminate())}(this),Promise.resolve()}}class Qn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qn(this.firestore,t,this._key)}}class Cs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Cs(this.firestore,t,this._query)}}class eu extends Cs{constructor(t,e,i){super(t,e,Hc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qn(this.firestore,null,new Ze(t))}withConverter(t){return new eu(this.firestore,t,this._path)}}function $k(n,t,...e){if(n=(0,qt.m9)(n),mA("collection","path",t),n instanceof tw){const i=Jt.fromString(t,...e);return jk(i),new eu(n,null,i)}{if(!(n instanceof Qn||n instanceof eu))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jt.fromString(t,...e));return jk(i),new eu(n.firestore,null,i)}}function ME(n,t,...e){if(n=(0,qt.m9)(n),1===arguments.length&&(t=bC.R()),mA("doc","path",t),n instanceof tw){const i=Jt.fromString(t,...e);return Uk(i),new Qn(n,null,new Ze(i))}{if(!(n instanceof Qn||n instanceof eu))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jt.fromString(t,...e));return Uk(i),new Qn(n.firestore,n instanceof eu?n.converter:null,new Ze(i))}}function zk(n,t){return n=(0,qt.m9)(n),t=(0,qt.m9)(t),(n instanceof Qn||n instanceof eu)&&(t instanceof Qn||t instanceof eu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function qk(n,t){return n=(0,qt.m9)(n),t=(0,qt.m9)(t),n instanceof Cs&&t instanceof Cs&&n.firestore===t.firestore&&eg(n._query,t._query)&&n.converter===t.converter}class cV{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Q0(this,"async_queue_retry"),this.Qa=()=>{const e=mf();e&&je("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=mf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ja(),this.Wa(t)}enterRestrictedMode(t){if(!this.Ba){this.Ba=!0,this.Ka=t||!1;const e=mf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Qa)}}enqueue(t){if(this.ja(),this.Ba)return new Promise(()=>{});const e=new rr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.$a.push(t),this.za()))}za(){var t=this;return(0,Ee.Z)(function*(){if(0!==t.$a.length){try{yield t.$a[0](),t.$a.shift(),t.No.reset()}catch(e){if(!ad(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}t.$a.length>0&&t.No.Ro(()=>t.za())}})()}Wa(t){const e=this.Fa.then(()=>(this.qa=!0,t().catch(i=>{throw this.Ua=i,this.qa=!1,_i("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=e,e}enqueueAfterDelay(t,e,i){this.ja(),this.Ga.indexOf(t)>-1&&(e=0);const r=MI.createAndSchedule(this,t,e,i,s=>this.Ha(s));return this.La.push(r),r}ja(){this.Ua&&ft()}verifyOperationInProgress(){}Ja(){var t=this;return(0,Ee.Z)(function*(){let e;do{e=t.Fa,yield e}while(e!==t.Fa)})()}Ya(t){for(const e of this.La)if(e.timerId===t)return!0;return!1}Xa(t){return this.Ja().then(()=>{this.La.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.La)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Ja()})}Za(t){this.Ga.push(t)}Ha(t){const e=this.La.indexOf(t);this.La.splice(e,1)}}function _A(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class uV{constructor(){this._progressObserver={},this._taskCompletionResolver=new rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class di extends tw{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new cV,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Wk(this),this._firestoreClient.terminate()}}function ar(n){return n._firestoreClient||Wk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Wk(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new CC(n._databaseId,s,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new JL(n._authCredentials,n._appCheckCredentials,n._queue,i)}function Yk(n,t,e){const i=new rr;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield Rk(n,e),yield Nk(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===fe.FAILED_PRECONDITION||s.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function Zk(n){if(n._initialized||n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Re(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class tu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tu(Bi.fromBase64String(t))}catch(e){throw new Re(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new tu(Bi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class xg{constructor(t){this._methodName=t}}class xE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}}const bV=/^__.*__$/;class wV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new $c(t,this.data,this.fieldMask,e,this.fieldTransforms):new P_(t,this.data,e,this.fieldTransforms)}}class Kk{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new $c(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Qk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class kE{constructor(t,e,i,r,s,u){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(t){return new kE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.rc(t),r}oc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(t){return this.nc({path:void 0,ic:!0})}ac(t){return OE(t,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}tc(){if(this.path)for(let t=0;t<this.path.length;t++)this.rc(this.path.get(t))}rc(t){if(0===t.length)throw this.ac("Document fields must not be empty");if(Qk(this.ec)&&bV.test(t))throw this.ac('Document fields cannot begin and end with "__"')}}class DV{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||Cg(t)}lc(t,e,i,r=!1){return new kE({ec:t,methodName:e,hc:i,path:Ti.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function kg(n){const t=n._freezeSettings(),e=Cg(n._databaseId);return new DV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function RE(n,t,e,i,r,s={}){const u=n.lc(s.merge||s.mergeFields?2:0,t,e,r);wA("Data must be an object, but it was:",u,i);const h=eR(i,u);let g,v;if(s.merge)g=new Qu(u.fieldMask),v=u.fieldTransforms;else if(s.mergeFields){const C=[];for(const I of s.mergeFields){const N=DA(t,I,e);if(!u.contains(N))throw new Re(fe.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);nR(C,N)||C.push(N)}g=new Qu(C),v=u.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,v=u.fieldTransforms;return new wV(new Ur(h),g,v)}class nw extends xg{_toFieldTransform(t){if(2!==t.ec)throw t.ac(1===t.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nw}}function Jk(n,t,e){return new kE({ec:3,hc:t.settings.hc,methodName:n._methodName,ic:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class yA extends xg{_toFieldTransform(t){return new tf(t.path,new ef)}isEqual(t){return t instanceof yA}}class CV extends xg{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=Jk(this,t,!0),i=this.fc.map(s=>Rg(s,e)),r=new Gc(i);return new tf(t.path,r)}isEqual(t){return this===t}}class EV extends xg{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=Jk(this,t,!0),i=this.fc.map(s=>Rg(s,e)),r=new kl(i);return new tf(t.path,r)}isEqual(t){return this===t}}class TV extends xg{constructor(t,e){super(t),this.dc=e}_toFieldTransform(t){const e=new ja(t.M,AS(t.M,this.dc));return new tf(t.path,e)}isEqual(t){return this===t}}function vA(n,t,e,i){const r=n.lc(1,t,e);wA("Data must be an object, but it was:",r,i);const s=[],u=Ur.empty();Vc(i,(g,v)=>{const C=NE(t,g,e);v=(0,qt.m9)(v);const I=r.oc(C);if(v instanceof nw)s.push(C);else{const N=Rg(v,I);null!=N&&(s.push(C),u.set(C,N))}});const h=new Qu(s);return new Kk(u,h,r.fieldTransforms)}function bA(n,t,e,i,r,s){const u=n.lc(1,t,e),h=[DA(t,i,e)],g=[r];if(s.length%2!=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<s.length;N+=2)h.push(DA(t,s[N])),g.push(s[N+1]);const v=[],C=Ur.empty();for(let N=h.length-1;N>=0;--N)if(!nR(v,h[N])){const F=h[N];let U=g[N];U=(0,qt.m9)(U);const Y=u.oc(F);if(U instanceof nw)v.push(F);else{const ce=Rg(U,Y);null!=ce&&(v.push(F),C.set(F,ce))}}const I=new Qu(v);return new Kk(C,I,u.fieldTransforms)}function Xk(n,t,e,i=!1){return Rg(e,n.lc(i?4:3,t))}function Rg(n,t){if(tR(n=(0,qt.m9)(n)))return wA("Unsupported field value:",t,n),eR(n,t);if(n instanceof xg)return function(e,i){if(!Qk(i.ec))throw i.ac(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const u of e){let h=Rg(u,i.uc(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,qt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return AS(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=jn.fromDate(e);return{timestampValue:lg(i.M,r)}}if(e instanceof jn){const r=new jn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lg(i.M,r)}}if(e instanceof xE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tu)return{bytesValue:B_(i.M,e._byteString)};if(e instanceof Qn){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:l0(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ac(`Unsupported field value: ${AE(e)}`)}(n,t)}function eR(n,t){const e={};return wC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vc(n,(i,r)=>{const s=Rg(r,t.sc(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function tR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof jn||n instanceof xE||n instanceof tu||n instanceof Qn||n instanceof xg)}function wA(n,t,e){if(!tR(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=AE(e);throw t.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function DA(n,t,e){if((t=(0,qt.m9)(t))instanceof vd)return t._internalPath;if("string"==typeof t)return NE(n,t);throw OE("Field path arguments must be of type string or ",n,!1,void 0,e)}const SV=new RegExp("[~\\*/\\[\\]]");function NE(n,t,e){if(t.search(SV)>=0)throw OE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new vd(...t.split("."))._internalPath}catch(i){throw OE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function OE(n,t,e,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(s||u)&&(g+=" (found",s&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new Re(fe.INVALID_ARGUMENT,h+n+g)}function nR(n,t){return n.some(e=>e.isEqual(t))}class iw{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new IV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(PE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class IV extends iw{data(){return super.data()}}function PE(n,t){return"string"==typeof t?NE(n,t):t instanceof vd?t._internalPath:t._delegate._internalPath}class Ng{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bd extends iw{constructor(t,e,i,r,s,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new rw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(PE("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class rw extends bd{data(t={}){return super.data(t)}}class _f{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ng(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new rw(this._firestore,this._userDataWriter,i.key,i,new Ng(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new rw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ng(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new rw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ng(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),v=s.indexOf(u.doc.key)),{type:AV(u.type),doc:h,oldIndex:g,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function AV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function iR(n,t){return n instanceof bd&&t instanceof bd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof _f&&t instanceof _f&&n._firestore===t._firestore&&qk(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function rR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sw{}function yf(n,...t){for(const e of t)n=e._apply(n);return n}class MV extends sw{constructor(t,e,i){super(),this._c=t,this.wc=e,this.mc=i,this.type="where"}_apply(t){const e=kg(t.firestore),i=function(r,s,u,h,g,v,C){let I;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){uR(C,v);const F=[];for(const U of C)F.push(cR(h,r,U));I={arrayValue:{values:F}}}else I=cR(h,r,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||uR(C,v),I=Xk(u,"where",C,"in"===v||"not-in"===v);const N=br.create(g,v,I);return function(F,U){if(U.S()){const ce=Xp(F);if(null!==ce&&!ce.isEqual(U.field))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ce.toString()}' and '${U.field.toString()}'`);const Be=zb(F);null!==Be&&dR(0,U.field,Be)}const Y=function(ce,Be){for(const Ve of ce.filters)if(Be.indexOf(Ve.op)>=0)return Ve.op;return null}(F,function(ce){switch(ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==Y)throw new Re(fe.INVALID_ARGUMENT,Y===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${Y.toString()}' filters.`)}(r,N),N}(t._query,0,e,t.firestore._databaseId,this._c,this.wc,this.mc);return new Cs(t.firestore,t.converter,function(r,s){const u=r.filters.concat([s]);return new Jo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class kV extends sw{constructor(t,e){super(),this._c=t,this.gc=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new id(r,s);return function(h,g){if(null===zb(h)){const v=Xp(h);null!==v&&dR(0,v,g.field)}}(i,u),u}(t._query,this._c,this.gc);return new Cs(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Jo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class sR extends sw{constructor(t,e,i){super(),this.type=t,this.yc=e,this.Ic=i}_apply(t){return new Cs(t.firestore,t.converter,Wb(t._query,this.yc,this.Ic))}}class oR extends sw{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=lR(t,this.type,this.Tc,this.Ec);return new Cs(t.firestore,t.converter,(r=e,new Jo((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class aR extends sw{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=lR(t,this.type,this.Tc,this.Ec);return new Cs(t.firestore,t.converter,(r=e,new Jo((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function lR(n,t,e,i){if(e[0]=(0,qt.m9)(e[0]),e[0]instanceof iw)return function(r,s,u,h,g){if(!h)throw new Re(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const C of rd(r))if(C.field.isKeyField())v.push(Qh(s,h.key));else{const I=h.data.field(C.field);if(Fb(I))throw new Re(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const N=C.field.canonicalString();throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}v.push(I)}return new Ua(v,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=kg(n.firestore);return function(s,u,h,g,v,C){const I=s.explicitOrderBy;if(v.length>I.length)throw new Re(fe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let F=0;F<v.length;F++){const U=v[F];if(I[F].field.isKeyField()){if("string"!=typeof U)throw new Re(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof U}`);if(!qb(s)&&-1!==U.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${U}' contains a slash.`);const Y=s.path.child(Jt.fromString(U));if(!Ze.isDocumentKey(Y))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const ce=new Ze(Y);N.push(Qh(u,ce))}else{const Y=Xk(h,g,U);N.push(Y)}}return new Ua(N,C)}(n._query,n.firestore._databaseId,r,t,e,i)}}function cR(n,t,e){if("string"==typeof(e=(0,qt.m9)(e))){if(""===e)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qb(t)&&-1!==e.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Jt.fromString(e));if(!Ze.isDocumentKey(i))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Qh(n,new Ze(i))}if(e instanceof Qn)return Qh(n,e._key);throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AE(e)}.`)}function uR(n,t){if(!Array.isArray(n)||0===n.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function dR(n,t,e){if(!e.isEqual(t))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const BV={maxAttempts:5};class CA{convertValue(t,e="none"){switch(Uc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return li(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ju(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ft()}}convertObject(t,e){const i={};return Vc(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new xE(li(t.latitude),li(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=zp(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Wh(t));default:return null}}convertTimestamp(t){const e=po(t);return new jn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Jt.fromString(t);Nt(p0(i));const r=new Ba(i.get(1),i.get(3)),s=new Ze(i.popFirst(5));return r.isEqual(e)||_i(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function FE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class UV extends CA{constructor(t){super(),this.firestore=t}convertBytes(t){return new tu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qn(this.firestore,null,e)}}class hR{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=kg(t)}set(t,e,i){this._verifyNotCommitted();const r=vf(t,this._firestore),s=FE(r.converter,e,i),u=RE(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,ui.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=vf(t,this._firestore);let u;return u="string"==typeof(e=(0,qt.m9)(e))||e instanceof vd?bA(this._dataReader,"WriteBatch.update",s._key,e,i,r):vA(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(u.toMutation(s._key,ui.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=vf(t,this._firestore);return this._mutations=this._mutations.concat(new F_(e._key,ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vf(n,t){if((n=(0,qt.m9)(n)).firestore!==t)throw new Re(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Og extends CA{constructor(t){super(),this.firestore=t}convertBytes(t){return new tu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qn(this.firestore,null,e)}}function fR(n,t,e){n=on(n,Qn);const i=on(n.firestore,di),r=FE(n.converter,t,e);return vy(i,[RE(kg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,ui.none())])}function pR(n,t,e,...i){n=on(n,Qn);const r=on(n.firestore,di),s=kg(r);let u;return u="string"==typeof(t=(0,qt.m9)(t))||t instanceof vd?bA(s,"updateDoc",n._key,t,e,i):vA(s,"updateDoc",n._key,t),vy(r,[u.toMutation(n._key,ui.exists(!0))])}function gR(n,...t){var e,i,r;n=(0,qt.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||_A(t[u])||(s=t[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(_A(t[u])){const I=t[u];t[u]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let g,v,C;if(n instanceof Qn)v=on(n.firestore,di),C=Hc(n._key.path),g={next:I=>{t[u]&&t[u](EA(v,n,I))},error:t[u+1],complete:t[u+2]};else{const I=on(n,Cs);v=on(I.firestore,di),C=I._query;const N=new Og(v);g={next:F=>{t[u]&&t[u](new _f(v,N,I,F))},error:t[u+1],complete:t[u+2]},rR(n._query)}return function(I,N,F,U){const Y=new SE(U),ce=new PI(N,Y,F);return I.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return xI(yield yy(I),ce)})),()=>{Y.Aa(),I.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return RI(yield yy(I),ce)}))}}(ar(v),C,h,g)}function vy(n,t){return function(e,i){const r=new rr;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function RL(n,t,e){return UI.apply(this,arguments)}(yield pA(e),i,r)})),r.promise}(ar(n),t)}function EA(n,t,e){const i=e.docs.get(t._key),r=new Og(n);return new bd(n,r,t._key,i,new Ng(e.hasPendingWrites,e.fromCache),t.converter)}class KV extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=kg(t)}get(t){const e=vf(t,this._firestore),i=new UV(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ft();const s=r[0];if(s.isFoundDocument())return new iw(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new iw(this._firestore,i,e._key,null,e.converter);throw ft()})}set(t,e,i){const r=vf(t,this._firestore),s=FE(r.converter,e,i),u=RE(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const s=vf(t,this._firestore);let u;return u="string"==typeof(e=(0,qt.m9)(e))||e instanceof vd?bA(this._dataReader,"Transaction.update",s._key,e,i,r):vA(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,u),this}delete(t){const e=vf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=vf(t,this._firestore),i=new Og(this._firestore);return super.get(t).then(r=>new bd(this._firestore,i,e._key,r._document,new Ng(!1,!1),e.converter))}}function TA(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function _R(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function yR(){if(!function _S(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Gh=Na.SDK_VERSION,(0,Na._registerComponent)(new ys.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),s=new di(r,new Ob(e.getProvider("auth-internal")),new sk(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),(0,Na.registerVersion)(gC,"3.4.9",n),(0,Na.registerVersion)(gC,"3.4.9","esm2017")}();class ow{constructor(t){this._delegate=t}static fromBase64String(t){return yR(),new ow(tu.fromBase64String(t))}static fromUint8Array(t){return _R(),new ow(tu.fromUint8Array(t))}toBase64(){return yR(),this._delegate.toBase64()}toUint8Array(){return _R(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SA(n){return function sB(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class oB{enableIndexedDbPersistence(t,e){return function hV(n,t){Zk(n=on(n,di));const e=ar(n),i=n._freezeSettings(),r=new aA;return Yk(e,r,new xk(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function fV(n){Zk(n=on(n,di));const t=ar(n),e=n._freezeSettings(),i=new aA;return Yk(t,i,new YL(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function pV(n){if(n._initialized&&!n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new rr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(e=(0,Ee.Z)(function*(i){if(!$s.vt())return Promise.resolve();const r=i+"main";yield $s.delete(r)}),function(i){return e.apply(this,arguments)})(iy(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class vR{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ba||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&$h("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function aV(n,t,e,i={}){var r;const s=(n=on(n,tw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&$h("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=vr.MOCK_USER;else{u=(0,qt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Re(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new vr(g)}n._authCredentials=new ik(new yC(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function mV(n){return function XL(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield Ok(n),e=yield Pk(n);return t.setNetworkEnabled(!0),function(i){const r=Je(i);return r.wu.delete(0),dy(r)}(e)}))}(ar(n=on(n,di)))}(this._delegate)}disableNetwork(){return function _V(n){return function eV(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield Ok(n),e=yield Pk(n);return t.setNetworkEnabled(!1),(i=(0,Ee.Z)(function*(r){const s=Je(r);s.wu.add(0),yield Eg(s),s.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(ar(n=on(n,di)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,Bk("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gV(n){return function(t){const e=new rr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function FL(n,t){return zI.apply(this,arguments)}(yield pA(t),e)})),e.promise}(ar(n=on(n,di)))}(this._delegate)}onSnapshotsInSync(t){return function ZV(n,t){return function iV(n,t){const e=new SE(t);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield yy(n),r=e,Je(i).bu.add(r),void r.next();var i,r})),()=>{e.Aa(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield yy(n),r=e,void Je(i).bu.delete(r);var i,r}))}}(ar(n=on(n,di)),_A(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new by(this,$k(this._delegate,t))}catch(e){throw zs(e,"collection()","Firestore.collection()")}}doc(t){try{return new za(this,ME(this._delegate,t))}catch(e){throw zs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new qs(this,function lV(n,t){if(n=on(n,tw),mA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cs(n,null,(e=t,new Jo(Jt.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw zs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function QV(n,t,e){n=on(n,di);const i=Object.assign(Object.assign({},BV),e);return function(r){if(r.maxAttempts<1)throw new Re(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function rV(n,t,e){const i=new rr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const r=yield(s=n,IE(s).then(u=>u.datastore));var s;new QL(n.asyncQueue,r,e,t,i).run()})),i.promise}(ar(n),r=>t(new KV(n,r)),i)}(this._delegate,e=>t(new bR(this,e)))}batch(){return ar(this._delegate),new wR(new hR(this._delegate,t=>vy(this._delegate,t)))}loadBundle(t){return function yV(n,t){const e=ar(n=on(n,di)),i=new uV;return function sV(n,t,e,i){const r=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,g=function(g,v){if(g instanceof Uint8Array)return kk(g,v);if(g instanceof ArrayBuffer)return kk(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new ZL(g,u);var g}(e,Cg(t));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function WL(n,t,e){const i=Je(n);var r;(r=(0,Ee.Z)(function*(s,u,h){try{const g=yield u.getMetadata();if(yield function(N,F){const U=Je(N),Y=sr(F.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",ce=>U._s.getBundleMetadata(ce,F.id)).then(ce=>!!ce&&ce.createTime.compareTo(Y)>=0)}(s.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(N=g).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);h._updateProgress(bk(g));const v=new SL(g,s.localStore,u.M);let C=yield u.ma();for(;C;){const N=yield v.Fu(C);N&&h._updateProgress(N),C=yield u.ma()}const I=yield v.complete();return yield yd(s,I.Lu,void 0),yield function(N,F){const U=Je(N);return U.persistence.runTransaction("Save bundle","readwrite",Y=>U._s.saveBundleMetadata(Y,F))}(s.localStore,g),h._completeWith(I.progress),Promise.resolve(I.Bu)}catch(g){return $h("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var N}),function(s,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield pA(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function vV(n,t){return function oV(n,t){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(e,i){const r=Je(e);return r.persistence.runTransaction("Get named query","readonly",s=>r._s.getNamedQuery(s,i))}(yield fA(n),t)}))}(ar(n=on(n,di)),t).then(e=>e?new Cs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new qs(this,e):null)}}class LE extends CA{constructor(t){super(),this.firestore=t}convertBytes(t){return new ow(new tu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return za.forKey(e,this.firestore,null)}}class bR{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new LE(t)}get(t){const e=Fg(t);return this._delegate.get(e).then(i=>new aw(this._firestore,new bd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Fg(t);return i?(TA("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Fg(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Fg(t);return this._delegate.delete(e),this}}class wR{constructor(t){this._delegate=t}set(t,e,i){const r=Fg(t);return i?(TA("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Fg(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Fg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Pg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new rw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new lw(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Pg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Pg(t,new LE(t),e),r.set(e,s)),s}}Pg.INSTANCES=new WeakMap;class za{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new LE(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new za(e,new Qn(e._delegate,i,new Ze(t)))}static forKey(t,e,i){return new za(e,new Qn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new by(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new by(this.firestore,$k(this._delegate,t))}catch(e){throw zs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,qt.m9)(t))instanceof Qn&&zk(this._delegate,t)}set(t,e){e=TA("DocumentReference.set",e);try{return e?fR(this._delegate,t,e):fR(this._delegate,t)}catch(i){throw zs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?pR(this._delegate,t):pR(this._delegate,t,e,...i)}catch(r){throw zs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function WV(n){return vy(on(n.firestore,di),[new F_(n._key,ui.none())])}(this._delegate)}onSnapshot(...t){const e=DR(t),i=CR(t,r=>new aw(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return gR(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function HV(n){n=on(n,Qn);const t=on(n.firestore,di),e=ar(t),i=new Og(t);return function tV(n,t){const e=new rr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,s,u){try{const h=yield function(g,v){const C=Je(g);return C.persistence.runTransaction("read document","readonly",I=>C.fi.Ls(I,v))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Re(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=py(h,`Failed to get document '${s} from cache`);u.reject(g)}}),function(r,s,u){return i.apply(this,arguments)})(yield fA(n),t,e);var i})),e.promise}(e,n._key).then(r=>new bd(t,i,n._key,r,new Ng(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function GV(n){n=on(n,Qn);const t=on(n.firestore,di);return Fk(ar(t),n._key,{source:"server"}).then(e=>EA(t,n,e))}(this._delegate):function jV(n){n=on(n,Qn);const t=on(n.firestore,di);return Fk(ar(t),n._key).then(e=>EA(t,n,e))}(this._delegate),e.then(i=>new aw(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new za(this.firestore,this._delegate.withConverter(t?Pg.getInstance(this.firestore,t):null))}}function zs(n,t,e){return n.message=n.message.replace(t,e),n}function DR(n){for(const t of n)if("object"==typeof t&&!SA(t))return t;return{}}function CR(n,t){var e,i;let r;return r=SA(n[0])?n[0]:SA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class aw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new za(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return iR(this._delegate,t._delegate)}}class lw extends aw{data(t){const e=this._delegate.data(t);return function _C(n,t){n||ft()}(void 0!==e),e}}class qs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new LE(t)}where(t,e,i){try{return new qs(this.firestore,yf(this._delegate,function xV(n,t,e){const i=t,r=PE("where",n);return new MV(r,i,e)}(t,e,i)))}catch(r){throw zs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new qs(this.firestore,yf(this._delegate,function RV(n,t="asc"){const e=t,i=PE("orderBy",n);return new kV(i,e)}(t,e)))}catch(i){throw zs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new qs(this.firestore,yf(this._delegate,function NV(n){return Hk("limit",n),new sR("limit",n,"F")}(t)))}catch(e){throw zs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new qs(this.firestore,yf(this._delegate,function OV(n){return Hk("limitToLast",n),new sR("limitToLast",n,"L")}(t)))}catch(e){throw zs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new qs(this.firestore,yf(this._delegate,function PV(...n){return new oR("startAt",n,!0)}(...t)))}catch(e){throw zs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new qs(this.firestore,yf(this._delegate,function FV(...n){return new oR("startAfter",n,!1)}(...t)))}catch(e){throw zs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new qs(this.firestore,yf(this._delegate,function LV(...n){return new aR("endBefore",n,!1)}(...t)))}catch(e){throw zs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new qs(this.firestore,yf(this._delegate,function VV(...n){return new aR("endAt",n,!0)}(...t)))}catch(e){throw zs(e,"endAt()","Query.endAt()")}}isEqual(t){return qk(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function zV(n){n=on(n,Cs);const t=on(n.firestore,di),e=ar(t),i=new Og(t);return function nV(n,t){const e=new rr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,s,u){try{const h=yield H0(r,s,!0),g=new Ck(s,h._i),v=g.Wu(h.documents),C=g.applyChanges(v,!1);u.resolve(C.snapshot)}catch(h){const g=py(h,`Failed to execute query '${s} against cache`);u.reject(g)}}),function(r,s,u){return i.apply(this,arguments)})(yield fA(n),t,e);var i})),e.promise}(e,n._query).then(r=>new _f(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function qV(n){n=on(n,Cs);const t=on(n.firestore,di),e=ar(t),i=new Og(t);return Lk(e,n._query,{source:"server"}).then(r=>new _f(t,i,n,r))}(this._delegate):function $V(n){n=on(n,Cs);const t=on(n.firestore,di),e=ar(t),i=new Og(t);return rR(n._query),Lk(e,n._query).then(r=>new _f(t,i,n,r))}(this._delegate),e.then(i=>new IA(this.firestore,new _f(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=DR(t),i=CR(t,r=>new IA(this.firestore,new _f(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return gR(this._delegate,e,i)}withConverter(t){return new qs(this.firestore,this._delegate.withConverter(t?Pg.getInstance(this.firestore,t):null))}}class lB{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new lw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IA{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new qs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new lw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new lB(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new lw(this._firestore,i))})}isEqual(t){return iR(this._delegate,t._delegate)}}class by extends qs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new za(this.firestore,t):null}doc(t){try{return new za(this.firestore,void 0===t?ME(this._delegate):ME(this._delegate,t))}catch(e){throw zs(e,"doc()","CollectionReference.doc()")}}add(t){return function YV(n,t){const e=on(n.firestore,di),i=ME(n),r=FE(n.converter,t);return vy(e,[RE(kg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ui.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new za(this.firestore,e))}isEqual(t){return zk(this._delegate,t._delegate)}withConverter(t){return new by(this.firestore,this._delegate.withConverter(t?Pg.getInstance(this.firestore,t):null))}}function Fg(n){return on(n,Qn)}class AA{constructor(...t){this._delegate=new vd(...t)}static documentId(){return new AA(Ti.keyField().canonicalString())}isEqual(t){return(t=(0,qt.m9)(t))instanceof vd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Lg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function XV(){return new yA("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Lg(t)}static delete(){const t=function JV(){return new nw("deleteField")}();return t._methodName="FieldValue.delete",new Lg(t)}static arrayUnion(...t){const e=function eB(...n){return new CV("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Lg(e)}static arrayRemove(...t){const e=function tB(...n){return new EV("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Lg(e)}static increment(t){const e=function nB(n){return new TV("increment",n)}(t);return e._methodName="FieldValue.increment",new Lg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const cB={Firestore:vR,GeoPoint:xE,Timestamp:jn,Blob:ow,Transaction:bR,WriteBatch:wR,DocumentReference:za,DocumentSnapshot:aw,Query:qs,QueryDocumentSnapshot:lw,QuerySnapshot:IA,CollectionReference:by,FieldPath:AA,FieldValue:Lg,setLogLevel:function aB(n){!function mC(n){Lc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function ER(n,t){return function hB(n,t=vh.z){return new Cn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function MA(n,t){return ER(n,t).pipe((0,mt.U)(e=>({payload:e,type:"query"})))}function VE(n,t){return MA(n,t).pipe(ri(void 0),Yo(),(0,mt.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const g=r.find(C=>C.doc.ref.isEqual(u.ref)),v=null==e?void 0:e.payload.docs.find(C=>C.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function TR(n,t,e){return VE(n,e).pipe(Rr((i,r)=>function pB(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function gB(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return xA(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return xA(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return xA(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),function Vu(n,t=Wr.y){return n=null!=n?n:V1,(0,qn.e)((e,i)=>{let r,s=!0;e.subscribe((0,en.x)(i,u=>{const h=t(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}(),(0,mt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function xA(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function SR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function dB(n){(function uB(n,t){n.INTERNAL.registerComponent(new ys.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},cB)))})(n,(t,e)=>new vR(t,e,new oB)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(ek.Z);class IR{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=VE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,mt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ri(void 0),Yo(),Rn(([i,r])=>r.length>0||!i),(0,mt.U)(([i,r])=>r),er.iC)}auditTrail(t){return this.stateChanges(t).pipe(Rr((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=SR(t);return TR(this.query,e,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return MA(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),er.iC)}get(t){return(0,Dn.D)(this.query.get(t)).pipe(er.iC)}add(t){return this.ref.add(t)}doc(t){return new AR(this.ref.doc(t),this.afs)}}class AR{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=kR(i,e);return new IR(r,s,this.afs)}snapshotChanges(){return function fB(n,t){return ER(n,t).pipe(ri(void 0),Yo(),(0,mt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Dn.D)(this.ref.get(t)).pipe(er.iC)}}class mB{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?VE(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Rn(e=>e.length>0),er.iC):VE(this.query,this.afs.schedulers.outsideAngular).pipe(er.iC)}auditTrail(t){return this.stateChanges(t).pipe(Rr((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=SR(t);return TR(this.query,e,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return MA(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),er.iC)}get(t){return(0,Dn.D)(this.query.get(t)).pipe(er.iC)}}const MR=new l.OlP("angularfire2.enableFirestorePersistence"),xR=new l.OlP("angularfire2.firestore.persistenceSettings"),_B=new l.OlP("angularfire2.firestore.settings"),yB=new l.OlP("angularfire2.firestore.use-emulator");function kR(n,t=(e=>e)){return{query:t(n),ref:n}}let RR=(()=>{class n{constructor(e,i,r,s,u,h,g,v,C,I,N,F,U,Y,ce,Be,Ve){this.schedulers=g;const Ye=(0,qr.on)(e,h,i),Ue=C;I&&Bv(Ye,h,N,U,Y,ce,F,Be),[this.firestore,this.persistenceEnabled$]=(0,qr.cc)(`${Ye.name}.firestore`,"AngularFirestore",Ye.name,()=>{const et=h.runOutsideAngular(()=>Ye.firestore());if(s&&et.settings(s),Ue&&et.useEmulator(...Ue),r&&!ua(u)){const st=()=>{try{return(0,Dn.D)(et.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(_t){return"undefined"!=typeof console&&console.warn(_t),ct(!1)}};return[et,h.runOutsideAngular(st)]}return[et,ct(!1)]},[s,Ue,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:u}=kR(r,i),h=this.schedulers.ngZone.run(()=>s);return new IR(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),s=this.firestore.collectionGroup(e);return new mB(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new AR(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qr.Dh),l.LFG(qr.xv,8),l.LFG(MR,8),l.LFG(_B,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(er.HU),l.LFG(xR,8),l.LFG(yB,8),l.LFG(n_,8),l.LFG(Vv,8),l.LFG(O1,8),l.LFG(P1,8),l.LFG(t_,8),l.LFG(F1,8),l.LFG(DD,8),l.LFG(Nv,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vB=(()=>{class n{constructor(){Fv.Z.registerVersion("angularfire",er.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:MR,useValue:!0},{provide:xR,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[RR]}),n})(),bB=(()=>{class n{constructor(e){this.afs=e}group(e){throw new Error("Method not implemented.")}onedit(e){throw new Error("Method not implemented.")}addStudent(e){return e.id=this.afs.createId(),this.afs.collection("/Students").add(e)}getAllStudent(){return this.afs.collection("/Students").snapshotChanges()}deleteStudent(e){return this.afs.doc("/Students/"+e.id).delete()}update_Student(e){return this.afs.doc("/Students/"+e.id).update(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(RR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NR(...n){const t=(0,ii.jO)(n),{args:e,keys:i}=xs(n),r=new Cn.y(s=>{const{length:u}=e;if(!u)return void s.complete();const h=new Array(u);let g=u,v=u;for(let C=0;C<u;C++){let I=!1;(0,Yi.Xf)(e[C]).subscribe((0,en.x)(s,N=>{I||(I=!0,v--),h[C]=N},()=>g--,void 0,()=>{(!g||!I)&&(v||s.next(i?ac(i,h):h),s.complete())}))}});return t?r.pipe(oc(t)):r}let OR=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Vg=(()=>{class n extends OR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Xo=new l.OlP("NgValueAccessor"),DB={provide:Xo,useExisting:(0,l.Gpc)(()=>wy),multi:!0},EB=new l.OlP("CompositionEventMode");let wy=(()=>{class n extends OR{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function CB(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(EB,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([DB]),l.qOj]}),n})();function bf(n){return null==n||0===n.length}function FR(n){return null!=n&&"number"==typeof n.length}const ts=new l.OlP("NgValidators"),wf=new l.OlP("NgAsyncValidators"),TB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class LR{static min(t){return function VR(n){return t=>{if(bf(t.value)||bf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function BR(n){return t=>{if(bf(t.value)||bf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function UR(n){return bf(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function jR(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function HR(n){return bf(n.value)||TB.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function GR(n){return t=>bf(t.value)||!FR(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function $R(n){return t=>FR(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function zR(n){if(!n)return BE;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(bf(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return QR(t)}static composeAsync(t){return JR(t)}}function BE(n){return null}function qR(n){return null!=n}function WR(n){const t=(0,l.QGY)(n)?(0,Dn.D)(n):n;return(0,l.CqO)(t),t}function YR(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function ZR(n,t){return t.map(e=>e(n))}function KR(n){return n.map(t=>function SB(n){return!n.validate}(t)?t:e=>t.validate(e))}function QR(n){if(!n)return null;const t=n.filter(qR);return 0==t.length?null:function(e){return YR(ZR(e,t))}}function kA(n){return null!=n?QR(KR(n)):null}function JR(n){if(!n)return null;const t=n.filter(qR);return 0==t.length?null:function(e){return NR(ZR(e,t).map(WR)).pipe((0,mt.U)(YR))}}function RA(n){return null!=n?JR(KR(n)):null}function XR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function eN(n){return n._rawValidators}function tN(n){return n._rawAsyncValidators}function NA(n){return n?Array.isArray(n)?n:[n]:[]}function UE(n,t){return Array.isArray(n)?n.includes(t):n===t}function nN(n,t){const e=NA(t);return NA(n).forEach(r=>{UE(e,r)||e.push(r)}),e}function iN(n,t){return NA(t).filter(e=>!UE(n,e))}class rN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=kA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=RA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class wd extends rN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ws extends rN{get formDirective(){return null}get path(){return null}}class sN{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let jE=(()=>{class n extends sN{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(wd,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})(),oN=(()=>{class n extends sN{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ws,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[l.qOj]}),n})();function GE(n,t){return[...t.path,n]}function cw(n,t){FA(n,t),t.valueAccessor.writeValue(n.value),function OB(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lN(n,t)})}(n,t),function FB(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function PB(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lN(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function NB(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function $E(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),qE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function FA(n,t){const e=eN(n);null!==t.validator?n.setValidators(XR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=tN(n);null!==t.asyncValidator?n.setAsyncValidators(XR(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();zE(t._rawValidators,r),zE(t._rawAsyncValidators,r)}function qE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=eN(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=tN(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return zE(t._rawValidators,i),zE(t._rawAsyncValidators,i),e}function lN(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cN(n,t){FA(n,t)}function LA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function dN(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function VA(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===wy?e=s:function BB(n){return Object.getPrototypeOf(n.constructor)===Vg}(s)?i=s:r=s}),r||i||e||null}function BA(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const uw="VALID",WE="INVALID",Dy="PENDING",dw="DISABLED";function jA(n){return(YE(n)?n.validators:n)||null}function hN(n){return Array.isArray(n)?kA(n):n||null}function HA(n,t){return(YE(t)?t.asyncValidators:n)||null}function fN(n){return Array.isArray(n)?RA(n):n||null}function YE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const GA=n=>n instanceof zA,ZE=n=>n instanceof KE,pN=n=>n instanceof yN;function gN(n){return GA(n)?n.value:n.getRawValue()}function mN(n,t){const e=ZE(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function _N(n,t){ZE(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class $A{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=hN(this._rawValidators),this._composedAsyncValidatorFn=fN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===uw}get invalid(){return this.status===WE}get pending(){return this.status==Dy}get disabled(){return this.status===dw}get enabled(){return this.status!==dw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=hN(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=fN(t)}addValidators(t){this.setValidators(nN(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(nN(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(iN(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(iN(t,this._rawAsyncValidators))}hasValidator(t){return UE(this._rawValidators,t)}hasAsyncValidator(t){return UE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Dy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=dw,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=uw,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uw||this.status===Dy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dw:uw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Dy,this._hasOwnPendingAsyncValidator=!0;const e=WR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function UB(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=ZE(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:pN(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?dw:this.errors?WE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dy)?Dy:this._anyControlsHaveStatus(WE)?WE:uw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){YE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class zA extends $A{constructor(t=null,e,i){super(jA(e),HA(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),YE(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){BA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){BA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class KE extends $A{constructor(t,e,i){super(jA(e),HA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){_N(this,t),Object.keys(t).forEach(i=>{mN(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=gN(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class yN extends $A{constructor(t,e,i){super(jA(e),HA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){_N(this,t),t.forEach((i,r)=>{mN(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>gN(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const jB={provide:Ws,useExisting:(0,l.Gpc)(()=>fw)},hw=(()=>Promise.resolve(null))();let fw=(()=>{class n extends Ws{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new KE({},kA(e),RA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){hw.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),cw(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){hw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){hw.then(()=>{const i=this._findContainer(e.path),r=new KE({});cN(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){hw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){hw.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,dN(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ts,10),l.Y36(wf,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([jB]),l.qOj]}),n})();const GB={provide:wd,useExisting:(0,l.Gpc)(()=>pw)},wN=(()=>Promise.resolve(null))();let pw=(()=>{class n extends wd{constructor(e,i,r,s,u){super(),this._changeDetectorRef=u,this.control=new zA,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=VA(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),LA(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){wN.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;wN.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?GE(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ws,9),l.Y36(ts,10),l.Y36(wf,10),l.Y36(Xo,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([GB]),l.qOj,l.TTD]}),n})(),DN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const $B={provide:Xo,useExisting:(0,l.Gpc)(()=>qA),multi:!0};let qA=(()=>{class n extends Vg{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([$B]),l.qOj]}),n})(),CN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const WA=new l.OlP("NgModelWithFormControlWarning"),ZB={provide:Ws,useExisting:(0,l.Gpc)(()=>gw)};let gw=(()=>{class n extends Ws{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return cw(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){$E(e.control||null,e,!1),BA(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,dN(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&($E(i||null,e),GA(r)&&(cw(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);cN(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function LB(n,t){return qE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){FA(this.form,this),this._oldForm&&qE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ts,10),l.Y36(wf,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([ZB]),l.qOj,l.TTD]}),n})();const JB={provide:wd,useExisting:(0,l.Gpc)(()=>KA)};let KA=(()=>{class n extends wd{constructor(e,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=VA(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),LA(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return GE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(Ws,13),l.Y36(ts,10),l.Y36(wf,10),l.Y36(Xo,10),l.Y36(WA,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([JB]),l.qOj,l.TTD]}),n})(),BN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[CN]]}),n})(),UN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[BN]}),n})(),jN=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:WA,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[BN]}),n})(),m2=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let h,s=null,u=null;return null!=i&&(function g2(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,h=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new KE(r,{asyncValidators:u,updateOn:h,validators:s})}control(e,i,r){return new zA(e,i,r)}array(e,i,r){const s=e.map(u=>this._createControl(u));return new yN(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return GA(e)||ZE(e)||pN(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:jN}),n})();var _2=P(1144);const y2=["addListener","removeListener"],v2=["addEventListener","removeEventListener"],b2=["on","off"];function ns(n,t,e,i){if((0,Li.m)(e)&&(i=e,e=void 0),i)return ns(n,t,e).pipe(oc(i));const[r,s]=function C2(n){return(0,Li.m)(n.addEventListener)&&(0,Li.m)(n.removeEventListener)}(n)?v2.map(u=>h=>n[u](t,h,e)):function w2(n){return(0,Li.m)(n.addListener)&&(0,Li.m)(n.removeListener)}(n)?y2.map(HN(n,t)):function D2(n){return(0,Li.m)(n.on)&&(0,Li.m)(n.off)}(n)?b2.map(HN(n,t)):[];if(!r&&(0,_2.z)(n))return(0,bn.z)(u=>ns(u,t,e))((0,Yi.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Cn.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return r(h),()=>s(h)})}function HN(n,t){return e=>i=>n[e](t,i)}var E2=P(3532);function QE(n=0,t,e=vh.P){let i=-1;return null!=t&&((0,E2.K)(t)?e=t:i=t),new Cn.y(r=>{let s=function T2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:S2}=Array;function GN(n){return 1===n.length&&S2(n[0])?n[0]:n}var JE=P(5032);function XE(...n){const t=(0,ii.jO)(n),e=GN(n);return e.length?new Cn.y(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let u=0;!i.closed&&u<e.length;u++)(0,Yi.Xf)(e[u]).subscribe((0,en.x)(i,h=>{if(r[u].push(h),r.every(g=>g.length)){const g=r.map(v=>v.shift());i.next(t?t(...g):g),r.some((v,C)=>!v.length&&s[C])&&i.complete()}},()=>{s[u]=!0,!r[u].length&&i.complete()}));return()=>{r=s=null}}):Zi.E}function An(n){return(0,qn.e)((t,e)=>{(0,Yi.Xf)(n).subscribe((0,en.x)(e,()=>e.complete(),JE.Z)),!e.closed&&t.subscribe(e)})}function eM(...n){const t=(0,ii.jO)(n);return(0,qn.e)((e,i)=>{const r=n.length,s=new Array(r);let u=n.map(()=>!1),h=!1;for(let g=0;g<r;g++)(0,Yi.Xf)(n[g]).subscribe((0,en.x)(i,v=>{s[g]=v,!h&&!u[g]&&(u[g]=!0,(h=u.every(Wr.y))&&(u=null))},JE.Z));e.subscribe((0,en.x)(i,g=>{if(h){const v=[g,...s];i.next(t?t(...v):v)}}))})}new Cn.y(JE.Z),Math,Math,Math;const GU=["*"],aj=["dialog"];function dM(n){return"string"==typeof n}function jg(n){return null!=n}function Ay(n){return(n||document.body).getBoundingClientRect()}const cO={animation:!0,transitionTimerDelayMs:5},tH=()=>{},{transitionTimerDelayMs:nH}=cO,Dw=new Map,Ys=(n,t,e,i)=>{let r=i.context||{};const s=Dw.get(t);if(s)switch(i.runningTransition){case"continue":return Zi.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Dw.delete(t)}const u=e(t,i.animation,r)||tH;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>u()),ct(void 0).pipe(function Xj(n){return t=>new Cn.y(e=>t.subscribe({next:u=>n.run(()=>e.next(u)),error:u=>n.run(()=>e.error(u)),complete:()=>n.run(()=>e.complete())}))}(n));const h=new Lt.x,g=new Lt.x,v=h.pipe(function A2(...n){return t=>cc(t,ct(...n))}(!0));Dw.set(t,{transition$:h,complete:()=>{g.next(),g.complete()},context:r});const C=function eH(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const I=ns(t,"transitionend").pipe(An(v),Rn(({target:F})=>F===t));(function $N(...n){return 1===(n=GN(n)).length?(0,Yi.Xf)(n[0]):new Cn.y(function I2(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,Yi.Xf)(n[i]).subscribe((0,en.x)(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(QE(C+nH).pipe(An(v)),I,g).pipe(An(v)).subscribe(()=>{Dw.delete(t),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let sT=(()=>{class n{constructor(){this.animation=cO.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi]]}),n})(),mO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi]]}),n})(),yO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),wO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi]]}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var wr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(wr||(wr={})),wr))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const EO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function TO(n){const t=Array.from(n.querySelectorAll(EO)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let NO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi,UN]]}),n})(),vM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),FO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class zg{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let ZH=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,vn.q)(1)).subscribe(()=>{Ys(this._zone,this._el.nativeElement,(e,i)=>{i&&Ay(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ys(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class LO{close(t){}dismiss(t){}}class KH{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Lt.x,this._dismissed=new Lt.x,this._hidden=new Lt.x,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,u)=>{this._resolve=s,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(An(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(An(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function lO(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ct(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),XE(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Sw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Sw||(Sw={})),Sw))();let QH=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Lt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Lt.x,this.hidden=new Lt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":dM(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,vn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=XE(Ys(this._zone,e,()=>e.classList.remove("show"),i),Ys(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const e={animation:this.animation,runningTransition:"continue"};XE(Ys(this._zone,this._elRef.nativeElement,(s,u)=>{u&&Ay(s),s.classList.add("show")},e),Ys(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ns(e,"keydown").pipe(An(this._closed$),Rn(r=>r.which===wr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Sw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ns(this._dialogEl.nativeElement,"mousedown").pipe(An(this._closed$),(0,Wn.b)(()=>i=!1),kn(()=>ns(e,"mouseup").pipe(An(this._closed$),(0,vn.q)(1))),Rn(({target:r})=>e===r)).subscribe(()=>{i=!0}),ns(e,"click").pipe(An(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Sw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=TO(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ys(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(se),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&l.Gf(aj,7),2&e){let r;l.iGM(r=l.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:GU,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&e&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),JH=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:u}=r;if(e>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=u),r.overflow=s}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XH=(()=>{class n{constructor(e,i,r,s,u,h){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=u,this._ngZone=h,this._activeWindowCmptHasChanged=new Lt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=ns(t,"focusin").pipe(An(e),(0,mt.U)(s=>s.target));ns(t,"keydown").pipe(An(e),Rn(s=>s.which===wr.Tab),eM(r)).subscribe(([s,u])=>{const[h,g]=TO(t);(u===h||u===t)&&s.shiftKey&&(g.focus(),s.preventDefault()),u===g&&!s.shiftKey&&(h.focus(),s.preventDefault())}),i&&ns(t,"click").pipe(An(e),eM(r),(0,mt.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r,s){const u=s.container instanceof HTMLElement?s.container:jg(s.container)?this._document.querySelector(s.container):this._document.body,h=this._rendererFactory.createRenderer(null,null);if(!u)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const g=new LO,v=this._getContentRef(e,s.injector||i,r,g,s);let C=!1!==s.backdrop?this._attachBackdrop(e,u):void 0,I=this._attachWindowComponent(e,u,v),N=new KH(I,v,C,s.beforeDismiss);return this._registerModalRef(N),this._registerWindowCmpt(I),N.hidden.pipe((0,vn.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),g.close=F=>{N.close(F)},g.dismiss=F=>{N.dismiss(F)},this._applyWindowOptions(I.instance,s),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),C&&C.instance&&(this._applyBackdropOptions(C.instance,s),C.changeDetectorRef.detectChanges()),I.changeDetectorRef.detectChanges(),N}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(ZH).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let u=e.resolveComponentFactory(QH).create(this._injector,r.nodes);return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{jg(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{jg(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,u){return r?r instanceof l.Rgc?this._createFromTemplateRef(r,s):dM(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,u):new zg([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(s),new zg([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new zg([[i]])}_createFromComponent(e,i,r,s,u){const h=e.resolveComponentFactory(r),g=l.zs3.create({providers:[{provide:LO,useValue:s}],parent:i}),v=h.create(g),C=v.location.nativeElement;return u.scrollable&&C.classList.add("component-host-scrollable"),this._applicationRef.attachView(v.hostView),new zg([[C]],v.hostView,v)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(se),l.LFG(JH),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eG=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(sT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tG=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(XH),l.LFG(eG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[tG]}),n})(),HO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi]]}),n})(),KO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi]]}),n})(),JO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi]]}),n})(),XO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi]]}),n})(),eP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi]]}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi]]}),n})(),nP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi]]}),n})(),iP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function pG(){return 100}});let rP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi]]}),n})(),sP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const gG=[gO,mO,yO,wO,DO,NO,FO,VO,HO,sP,KO,JO,XO,eP,tP,nP,iP,rP];let mG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gG,gO,mO,yO,wO,DO,NO,FO,VO,HO,sP,KO,JO,XO,eP,tP,nP,iP,rP]}),n})();const _G=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function yG(){return(0,l.f3M)(se)}}),vG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let EM,CM=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function bG(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?vG.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(_G,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{EM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){EM=!1}let xy,Ll=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function bi(n){return n===To}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!EM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function lP(){if(xy)return xy;if("object"!=typeof document||!document)return xy=new Set(aP),xy;let n=document.createElement("input");return xy=new Set(aP.filter(t=>(n.setAttribute("type",t),n.type===t))),xy}let Aw,qg,TM;function fT(n){return function wG(){if(null==Aw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Aw=!0}))}finally{Aw=Aw||!1}return Aw}()?n:!!n.capture}function DG(){if(null==qg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return qg=!1,qg;if("scrollBehavior"in document.documentElement.style)qg=!0;else{const n=Element.prototype.scrollTo;qg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return qg}function cP(n){return n.composedPath?n.composedPath()[0]:n.target}function SM(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Vl(n){return null!=n&&"false"!=`${n}`}function gT(n,t=0){return function kG(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function uP(n){return Array.isArray(n)?n:[n]}function lr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function mT(n){return n instanceof l.SBq?n.nativeElement:n}let dP=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NG=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=mT(e);return new Cn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Lt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(dP))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OG=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Vl(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=gT(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function RG(n,t=vh.z){return(0,qn.e)((e,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function g(){const v=u+n,C=t.now();if(C<v)return r=this.schedule(void 0,v-C),void i.add(r);h()}e.subscribe((0,en.x)(i,v=>{s=v,u=t.now(),r||(r=t.schedule(g,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(NG),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),hP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[dP]}),n})();const mP="cdk-high-contrast-black-on-white",_P="cdk-high-contrast-white-on-black",IM="cdk-high-contrast-active";let yP=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(IM),e.remove(mP),e.remove(_P),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(IM),e.add(mP)):2===i&&(e.add(IM),e.add(_P))}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ll),l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GG=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yP))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[hP]]}),n})();const zG=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function $G(){return!0}});let yo=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!SM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yP),l.LFG(zG,8),l.LFG(se))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Iw],Iw]}),n})();function AM(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function qG(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new Lt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}let wP=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[yo],yo]}),n})();class XG{}class Tf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Tf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Tf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Tf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class e3{encodeKey(t){return TP(t)}encodeValue(t){return TP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const n3=/%(\d[a-f0-9])/gi,r3={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function TP(n){return encodeURIComponent(n).replace(n3,(t,e)=>{var i;return null!==(i=r3[e])&&void 0!==i?i:t})}function SP(n){return`${n}`}class Sf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new e3,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function t3(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],g=e.get(u)||[];g.push(h),e.set(u,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Sf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(SP(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(SP(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class s3{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function IP(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function AP(n){return"undefined"!=typeof Blob&&n instanceof Blob}function MP(n){return"undefined"!=typeof FormData&&n instanceof FormData}class xw{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function o3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Tf),this.context||(this.context=new s3),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Sf,this.urlWithParams=e}serializeBody(){return null===this.body?null:IP(this.body)||AP(this.body)||MP(this.body)||function a3(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Sf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MP(this.body)?null:AP(this.body)?this.body.type||null:IP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,g=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,C=t.params||this.params;const I=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((N,F)=>N.set(F,t.setHeaders[F]),v)),t.setParams&&(C=Object.keys(t.setParams).reduce((N,F)=>N.set(F,t.setParams[F]),C)),new xw(i,r,u,{params:C,headers:v,context:I,reportProgress:g,responseType:s,withCredentials:h})}}var is=(()=>((is=is||{})[is.Sent=0]="Sent",is[is.UploadProgress=1]="UploadProgress",is[is.ResponseHeader=2]="ResponseHeader",is[is.DownloadProgress=3]="DownloadProgress",is[is.Response=4]="Response",is[is.User=5]="User",is))();class xM extends class l3{constructor(t,e=200,i="OK"){this.headers=t.headers||new Tf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=is.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new xM({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function kM(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let kP=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof xw)s=e;else{let g,v;g=r.headers instanceof Tf?r.headers:new Tf(r.headers),r.params&&(v=r.params instanceof Sf?r.params:new Sf({fromObject:r.params})),s=new xw(e,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=ct(s).pipe(Oo(g=>this.handler.handle(g)));if(e instanceof xw||"events"===r.observe)return u;const h=u.pipe(Rn(g=>g instanceof xM));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,mt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,mt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,mt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,mt.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Sf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,kM(r,i))}post(e,i,r={}){return this.request("POST",e,kM(r,i))}put(e,i,r={}){return this.request("PUT",e,kM(r,i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(XG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const u3=["*"];let _T;function kw(n){var t;return(null===(t=function d3(){if(void 0===_T&&(_T=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(_T=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return _T}())||void 0===t?void 0:t.createHTML(n))||n}function RP(n){return Error(`Unable to find icon with the name "${n}"`)}function NP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function OP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Wg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let yT=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Wg(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw OP(r);const h=kw(u);return this._addSvgIconConfig(e,i,new Wg("",h,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Wg(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(l.q3G.HTML,i);if(!s)throw OP(i);const u=kw(s);return this._addSvgIconSetConfig(e,new Wg("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,e);if(!i)throw NP(e);const r=this._cachedIconsByUrl.get(i);return r?ct(vT(r)):this._loadSvgIconFromConfig(new Wg(e,null)).pipe((0,Wn.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,mt.U)(s=>vT(s)))}getNamedSvgIcon(e,i=""){const r=PP(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):ms(RP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ct(vT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,mt.U)(i=>vT(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?ct(r):NR(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Zr(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),ct(null)})))).pipe((0,mt.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw RP(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(u,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Wn.b)(i=>e.svgText=i),(0,mt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ct(null):this._fetchIcon(e).pipe((0,Wn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(kw("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(kw("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:u,value:h}=r[s];"id"!==u&&i.setAttribute(u,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,u=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function h3(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,r);if(!h)throw NP(r);const g=this._inProgressUrlFetches.get(h);if(g)return g;const v=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,mt.U)(C=>kw(C)),Ff(()=>this._inProgressUrlFetches.delete(h)),(0,mv.B)());return this._inProgressUrlFetches.set(h,v),v}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(PP(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return p3(s)?new Wg(s.url,null,s.options):new Wg(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(kP,8),l.LFG(wu),l.LFG(se,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vT(n){return n.cloneNode(!0)}function PP(n,t){return n+":"+t}function p3(n){return!(!n.url||!n.options)}const g3=AM(class{constructor(n){this._elementRef=n}}),m3=new l.OlP("mat-icon-location",{providedIn:"root",factory:function _3(){const n=(0,l.f3M)(se),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),FP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],y3=FP.map(n=>`[${n}]`).join(", "),v3=/^url\(['"]?#(.*?)['"]?\)$/;let b3=(()=>{class n extends g3{constructor(e,i,r,s,u){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._currentIconFetch=pr.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Vl(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(y3),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)FP.forEach(u=>{const h=i[s],g=h.getAttribute(u),v=g?g.match(v3):null;if(v){let C=r.get(h);C||(C=[],r.set(h,C)),C.push({name:u,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,vn.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(yT),l.$8M("aria-hidden"),l.Y36(m3),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:u3,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),w3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[yo],yo]}),n})();class LP{}const Ed="*";function RM(n,t){return{type:7,name:n,definitions:t,options:{}}}function Rw(n,t=null){return{type:4,styles:t,timings:n}}function VP(n,t=null){return{type:2,steps:n,options:t}}function Bl(n){return{type:6,styles:n,offset:null}}function NM(n,t,e){return{type:0,name:n,styles:t,options:e}}function Nw(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function UP(n){Promise.resolve(null).then(n)}class Ow{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){UP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?UP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const nn=!1;function HP(n){return new l.vHH(3e3,nn)}function n$(){return"undefined"!=typeof window&&void 0!==window.document}function PM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function If(n){switch(n.length){case 0:return new Ow;case 1:return n[0];default:return new jP(n)}}function GP(n,t,e,i,r={},s={}){const u=[],h=[];let g=-1,v=null;if(i.forEach(C=>{const I=C.offset,N=I==g,F=N&&v||{};Object.keys(C).forEach(U=>{let Y=U,ce=C[U];if("offset"!==U)switch(Y=t.normalizePropertyName(Y,u),ce){case"!":ce=r[U];break;case Ed:ce=s[U];break;default:ce=t.normalizeStyleValue(U,Y,ce,u)}F[Y]=ce}),N||h.push(F),v=F,g=I}),u.length)throw function z3(n){return new l.vHH(3502,nn)}();return h}function FM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&LM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&LM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&LM(e,"destroy",n)))}}function LM(n,t,e){const i=e.totalTime,s=VM(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(s._data=u),s}function VM(n,t,e,i,r="",s=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function na(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function $P(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let BM=(n,t)=>!1,zP=(n,t,e)=>[],qP=null;function UM(n){const t=n.parentNode||n.host;return t===qP?null:t}(PM()||"undefined"!=typeof Element)&&(n$()?(qP=(()=>document.documentElement)(),BM=(n,t)=>{for(;t;){if(t===n)return!0;t=UM(t)}return!1}):BM=(n,t)=>n.contains(t),zP=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Yg=null,WP=!1;function YP(n){Yg||(Yg=function r$(){return"undefined"!=typeof document?document.body:null}()||{},WP=!!Yg.style&&"WebkitAppearance"in Yg.style);let t=!0;return Yg.style&&!function i$(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Yg.style,!t&&WP&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Yg.style)),t}const ZP=BM,KP=zP;let QP=(()=>{class n{validateStyleProperty(e){return YP(e)}matchesElement(e,i){return!1}containsElement(e,i){return ZP(e,i)}getParentElement(e){return UM(e)}query(e,i,r){return KP(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,u,h=[],g){return new Ow(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),jM=(()=>{class n{}return n.NOOP=new QP,n})();const HM="ng-enter",wT="ng-leave",DT="ng-trigger",CT=".ng-trigger",XP="ng-animating",GM=".ng-animating";function Zg(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:$M(parseFloat(t[1]),t[2])}function $M(n,t){return"s"===t?1e3*n:n}function ET(n,t,e){return n.hasOwnProperty("duration")?n:function a$(n,t,e){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(HP()),{duration:0,delay:0,easing:""};r=$M(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(s=$M(parseFloat(g),h[4]));const v=h[5];v&&(u=v)}else r=n;if(!e){let h=!1,g=t.length;r<0&&(t.push(function C3(){return new l.vHH(3100,nn)}()),h=!0),s<0&&(t.push(function E3(){return new l.vHH(3101,nn)}()),h=!0),h&&t.splice(g,0,HP())}return{duration:r,delay:s,easing:u}}(n,t,e)}function ky(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Af(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else ky(n,e);return e}function tF(n,t,e){return e?t+":"+e+";":""}function nF(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=tF(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=tF(0,u$(e),n.style[e]));n.setAttribute("style",t)}function su(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=qM(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),PM()&&nF(n))}function Kg(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=qM(e);n.style[i]=""}),PM()&&nF(n))}function Pw(n){return Array.isArray(n)?1==n.length?n[0]:VP(n):n}const zM=new RegExp("{{\\s*(.+?)\\s*}}","g");function iF(n){let t=[];if("string"==typeof n){let e;for(;e=zM.exec(n);)t.push(e[1]);zM.lastIndex=0}return t}function TT(n,t,e){const i=n.toString(),r=i.replace(zM,(s,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(function S3(n){return new l.vHH(3003,nn)}()),h=""),h.toString()});return r==i?n:r}function ST(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const c$=/-+([a-z0-9])/g;function qM(n){return n.replace(c$,(...t)=>t[1].toUpperCase())}function u$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ia(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function I3(n){return new l.vHH(3004,nn)}()}}function rF(n,t){return window.getComputedStyle(n)[t]}function m$(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _$(n,t,e){if(":"==n[0]){const g=function y$(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function j3(n){return new l.vHH(3016,nn)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function U3(n){return new l.vHH(3015,nn)}()),t;const r=i[1],s=i[2],u=i[3];t.push(sF(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&t.push(sF(u,r))}(i,e,t)):e.push(n),e}const xT=new Set(["true","1"]),kT=new Set(["false","0"]);function sF(n,t){const e=xT.has(n)||kT.has(n),i=xT.has(t)||kT.has(t);return(r,s)=>{let u="*"==n||n==r,h="*"==t||t==s;return!u&&e&&"boolean"==typeof r&&(u=r?xT.has(n):kT.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?xT.has(t):kT.has(t)),u&&h}}const v$=new RegExp("s*:selfs*,?","g");function WM(n,t,e,i){return new b$(n).build(t,e,i)}class b${constructor(t){this._driver=t}build(t,e,i){const r=new C$(e);this._resetContextStyleTimingState(r);const s=ia(this,Pw(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function M3(){return new l.vHH(3006,nn)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const g=h,v=g.name;v.toString().split(/\s*,\s*/).forEach(C=>{g.name=C,s.push(this.visitState(g,e))}),g.name=v}else if(1==h.type){const g=this.visitTransition(h,e);i+=g.queryCount,r+=g.depCount,u.push(g)}else e.errors.push(function x3(){return new l.vHH(3007,nn)}())}),{type:7,name:t.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{if(RT(h)){const g=h;Object.keys(g).forEach(v=>{iF(g[v]).forEach(C=>{u.hasOwnProperty(C)||s.add(C)})})}}),s.size&&(ST(s.values()),e.errors.push(function k3(n,t){return new l.vHH(3008,nn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ia(this,Pw(t.animation),e);return{type:1,matchers:m$(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Qg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ia(this,i,e)),options:Qg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(u=>{e.currentTime=i;const h=ia(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:s,options:Qg(t.options)}}visitAnimate(t,e){const i=function T$(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return YM(ET(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=YM(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=ET(e,t);return YM(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Bl({});if(5==s.type)r=this.visitKeyframes(s,e);else{let u=t.styles,h=!1;if(!u){h=!0;const v={};i.easing&&(v.easing=i.easing),u=Bl(v)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,e);g.isEmptyStep=h,r=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Ed?i.push(u):e.errors.push(function R3(n){return new l.vHH(3002,nn)}()):i.push(u)}):i.push(t.styles);let r=!1,s=null;return i.forEach(u=>{if(RT(u)){const h=u,g=h.easing;if(g&&(s=g,delete h.easing),!r)for(let v in h)if(h[v].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void e.unsupportedCSSPropertiesFound.add(h);const g=e.collectedStyles[e.currentQuerySelector],v=g[h];let C=!0;v&&(s!=r&&s>=v.startTime&&r<=v.endTime&&(e.errors.push(function N3(n,t,e,i,r){return new l.vHH(3010,nn)}()),C=!1),s=v.startTime),C&&(g[h]={startTime:s,endTime:r}),e.options&&function l$(n,t,e){const i=t.params||{},r=iF(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function T3(n){return new l.vHH(3001,nn)}())})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function O3(){return new l.vHH(3011,nn)}()),i;let s=0;const u=[];let h=!1,g=!1,v=0;const C=t.steps.map(Be=>{const Ve=this._makeStyleAst(Be,e);let Ye=null!=Ve.offset?Ve.offset:function E$(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(RT(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(RT(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ve.styles),Ue=0;return null!=Ye&&(s++,Ue=Ve.offset=Ye),g=g||Ue<0||Ue>1,h=h||Ue<v,v=Ue,u.push(Ue),Ve});g&&e.errors.push(function P3(){return new l.vHH(3012,nn)}()),h&&e.errors.push(function F3(){return new l.vHH(3200,nn)}());const I=t.steps.length;let N=0;s>0&&s<I?e.errors.push(function L3(){return new l.vHH(3202,nn)}()):0==s&&(N=1/(I-1));const F=I-1,U=e.currentTime,Y=e.currentAnimateTimings,ce=Y.duration;return C.forEach((Be,Ve)=>{const Ye=N>0?Ve==F?1:N*Ve:u[Ve],Ue=Ye*ce;e.currentTime=U+Y.delay+Ue,Y.duration=Ue,this._validateStyleAst(Be,e),Be.offset=Ye,i.styles.push(Be)}),i}visitReference(t,e){return{type:8,animation:ia(this,Pw(t.animation),e),options:Qg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Qg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Qg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,u]=function w$(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(v$,"")),n=n.replace(/@\*/g,CT).replace(/@\w+/g,e=>CT+"-"+e.substr(1)).replace(/:animating/g,GM),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,na(e.collectedStyles,e.currentQuerySelector,{});const h=ia(this,Pw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Qg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function V3(){return new l.vHH(3013,nn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:ET(t.timings,e.errors,!0);return{type:12,animation:ia(this,Pw(t.animation),e),timings:i,options:null}}}class C${constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function RT(n){return!Array.isArray(n)&&"object"==typeof n}function Qg(n){return n?(n=ky(n)).params&&(n.params=function D$(n){return n?ky(n):null}(n.params)):n={},n}function YM(n,t,e){return{duration:n,delay:t,easing:e}}function ZM(n,t,e,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class NT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const A$=new RegExp(":enter","g"),x$=new RegExp(":leave","g");function KM(n,t,e,i,r,s={},u={},h,g,v=[]){return(new k$).buildKeyframes(n,t,e,i,r,s,u,h,g,v)}class k${buildKeyframes(t,e,i,r,s,u,h,g,v,C=[]){v=v||new NT;const I=new QM(t,e,v,r,s,C,[]);I.options=g,I.currentTimeline.setStyles([u],null,I.errors,g),ia(this,i,I);const N=I.timelines.filter(F=>F.containsAnimation());if(Object.keys(h).length){let F;for(let U=N.length-1;U>=0;U--){const Y=N[U];if(Y.element===e){F=Y;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([h],null,I.errors,g)}return N.length?N.map(F=>F.buildKeyframes()):[ZM(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const u=null!=i.duration?Zg(i.duration):null,h=null!=i.delay?Zg(i.delay):null;return 0!==u&&t.forEach(g=>{const v=e.appendInstructionToTimeline(g,u,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),ia(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=OT);const u=Zg(s.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>ia(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Zg(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),ia(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return ET(e.params?TT(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(g=>{h.forwardTime((g.offset||0)*s),h.setStyles(g.styles,g.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Zg(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=OT);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let g=null;h.forEach((v,C)=>{e.currentQueryIndex=C;const I=e.createSubContext(t.options,v);s&&I.delayNextStep(s),v===e.element&&(g=I.currentTimeline),ia(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,u=Math.abs(s.duration),h=u*(e.currentQueryTotal-1);let g=u*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const C=e.currentTimeline;g&&C.delayNextStep(g);const I=C.currentTime;ia(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const OT={};class QM{constructor(t,e,i,r,s,u,h,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=OT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new PT(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Zg(i.duration)),null!=i.delay&&(r.delay=Zg(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=TT(s[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new QM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=OT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new R$(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(A$,"."+this._enterClassName)).replace(x$,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!s&&0==h.length&&u.push(function B3(n){return new l.vHH(3014,nn)}()),h}}class PT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new PT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ed,this._currentKeyframe[e]=Ed}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},u=function N$(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=Ed})):Af(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const g=TT(u[h],s,i);this._pendingStyles[h]=g,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Ed),this._updateStyle(h,g)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const v=Af(h,!0);Object.keys(v).forEach(C=>{const I=v[C];"!"==I?t.add(C):I==Ed&&e.add(C)}),i||(v.offset=g/this.duration),r.push(v)});const s=t.size?ST(t.values()):[],u=e.size?ST(e.values()):[];if(i){const h=r[0],g=ky(h);h.offset=0,g.offset=1,r=[h,g]}return ZM(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class R$ extends PT{constructor(t,e,i,r,s,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],u=i+e,h=e/u,g=Af(t[0],!1);g.offset=0,s.push(g);const v=Af(t[0],!1);v.offset=lF(h),s.push(v);const C=t.length-1;for(let I=1;I<=C;I++){let N=Af(t[I],!1);N.offset=lF((e+N.offset*i)/u),s.push(N)}i=u,e=0,r="",t=s}return ZM(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function lF(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class JM{}class O$ extends JM{normalizePropertyName(t,e){return qM(t)}normalizeStyleValue(t,e,i,r){let s="";const u=i.toString().trim();if(P$[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function A3(n,t){return new l.vHH(3005,nn)}())}return u+s}}const P$=(()=>function F$(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function cF(n,t,e,i,r,s,u,h,g,v,C,I,N){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:g,preStyleProps:v,postStyleProps:C,totalTime:I,errors:N}}const XM={};class uF{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function L$(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):u}build(t,e,i,r,s,u,h,g,v,C){const I=[],N=this.ast.options&&this.ast.options.params||XM,U=this.buildStyles(i,h&&h.params||XM,I),Y=g&&g.params||XM,ce=this.buildStyles(r,Y,I),Be=new Set,Ve=new Map,Ye=new Map,Ue="void"===r,et={params:Object.assign(Object.assign({},N),Y)},st=C?[]:KM(t,e,this.ast.animation,s,u,U,ce,et,v,I);let _t=0;if(st.forEach(On=>{_t=Math.max(On.duration+On.delay,_t)}),I.length)return cF(e,this._triggerName,i,r,Ue,U,ce,[],[],Ve,Ye,_t,I);st.forEach(On=>{const Pn=On.element,Jn=na(Ve,Pn,{});On.preStyleProps.forEach(Hi=>Jn[Hi]=!0);const rs=na(Ye,Pn,{});On.postStyleProps.forEach(Hi=>rs[Hi]=!0),Pn!==e&&Be.add(Pn)});const Vt=ST(Be.values());return cF(e,this._triggerName,i,r,Ue,U,ce,st,Vt,Ve,Ye,_t)}}class V${constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=ky(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!=u&&(r[s]=u)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const u=s;Object.keys(u).forEach(h=>{let g=u[h];g.length>1&&(g=TT(g,r,e));const v=this.normalizer.normalizePropertyName(h,e);g=this.normalizer.normalizeStyleValue(h,v,g,e),i[v]=g})}}),i}}class U${constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new V$(r.style,r.options&&r.options.params||{},i)}),dF(this.states,"true","1"),dF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new uF(t,r,this.states))}),this.fallbackTransition=function j$(n,t,e){return new uF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function dF(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const H$=new NT;class G${constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=WM(this._driver,e,i,[]);if(i.length)throw function q3(n){return new l.vHH(3503,nn)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=GP(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let u;const h=new Map;if(s?(u=KM(this._driver,e,s,HM,wT,{},{},i,H$,r),u.forEach(C=>{const I=na(h,C.element,{});C.postStyleProps.forEach(N=>I[N]=null)})):(r.push(function W3(){return new l.vHH(3300,nn)}()),u=[]),r.length)throw function Y3(n){return new l.vHH(3504,nn)}();h.forEach((C,I)=>{Object.keys(C).forEach(N=>{C[N]=this._driver.computeStyle(I,N,Ed)})});const v=If(u.map(C=>{const I=h.get(C.element);return this._buildPlayer(C,{},I)}));return this._playersById[t]=v,v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function Z3(n){return new l.vHH(3301,nn)}();return e}listen(t,e,i,r){const s=VM(e,"","","");return FM(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const hF="ng-animate-queued",ex="ng-animate-disabled",Y$=[],fF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Z$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wa="__ng_removed";class tx{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function X$(n){return null!=n?n:null}(i?t.value:t),i){const s=ky(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Fw="void",nx=new tx(Fw);class K${constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ya(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function K3(n,t){return new l.vHH(3302,nn)}();if(null==i||0==i.length)throw function Q3(n){return new l.vHH(3303,nn)}();if(!function ez(n){return"start"==n||"done"==n}(i))throw function J3(n,t){return new l.vHH(3400,nn)}();const s=na(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};s.push(u);const h=na(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(Ya(t,DT),Ya(t,DT+"-"+e),h[e]=nx),()=>{this._engine.afterFlush(()=>{const g=s.indexOf(u);g>=0&&s.splice(g,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function X3(n){return new l.vHH(3401,nn)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),u=new ix(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Ya(t,DT),Ya(t,DT+"-"+e),this._engine.statesByElement.set(t,h={}));let g=h[e];const v=new tx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),h[e]=v,g||(g=nx),v.value!==Fw&&g.value===v.value){if(!function iz(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(g.params,v.params)){const Y=[],ce=s.matchStyles(g.value,g.params,Y),Be=s.matchStyles(v.value,v.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{Kg(t,ce),su(t,Be)})}return}const N=na(this._engine.playersByElement,t,[]);N.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==e&&Y.queued&&Y.destroy()});let F=s.matchTransition(g.value,v.value,t,v.params),U=!1;if(!F){if(!r)return;F=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:F,fromState:g,toState:v,player:u,isFallbackTransition:U}),U||(Ya(t,hF),u.onStart(()=>{Ry(t,hF)})),u.onDone(()=>{let Y=this.players.indexOf(u);Y>=0&&this.players.splice(Y,1);const ce=this._engine.playersByElement.get(t);if(ce){let Be=ce.indexOf(u);Be>=0&&ce.splice(Be,1)}}),this.players.push(u),N.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,CT,!0);i.forEach(r=>{if(r[Wa])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const h=[];if(Object.keys(s).forEach(g=>{if(u.set(g,s[g].value),this._triggers[g]){const v=this.trigger(t,g,Fw,r);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&If(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const g=this._triggers[u].fallbackTransition,v=i[u]||nx,C=new tx(Fw),I=new ix(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:g,fromState:v,toState:C,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Wa];(!s||s===fF)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ya(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const g=VM(s,i.triggerName,i.fromState.value,i.toState.value);g._data=t,FM(i.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Q${constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new K$(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const g=r.get(h);if(g){const v=i.indexOf(g);i.splice(v+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,e)){i.splice(h+1,0,t),u=!0;break}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const u=i[r[s]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(FT(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!FT(e))return;const s=e[Wa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ya(t,ex)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ry(t,ex))}removeNode(t,e,i,r){if(FT(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Wa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return FT(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,CT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,GM,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return If(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Wa];if(i&&i.setForRemoval){if(t[Wa]=fF,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(ex))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ya(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?If(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function e$(n){return new l.vHH(3402,nn)}()}_flushAnimations(t,e){const i=new NT,r=[],s=new Map,u=[],h=new Map,g=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(nt=>{C.add(nt);const pt=this.driver.query(nt,".ng-animate-queued",!0);for(let xt=0;xt<pt.length;xt++)C.add(pt[xt])});const I=this.bodyNode,N=Array.from(this.statesByElement.keys()),F=mF(N,this.collectedEnterElements),U=new Map;let Y=0;F.forEach((nt,pt)=>{const xt=HM+Y++;U.set(pt,xt),nt.forEach(Yt=>Ya(Yt,xt))});const ce=[],Be=new Set,Ve=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const pt=this.collectedLeaveElements[nt],xt=pt[Wa];xt&&xt.setForRemoval&&(ce.push(pt),Be.add(pt),xt.hasAnimation?this.driver.query(pt,".ng-star-inserted",!0).forEach(Yt=>Be.add(Yt)):Ve.add(pt))}const Ye=new Map,Ue=mF(N,Array.from(Be));Ue.forEach((nt,pt)=>{const xt=wT+Y++;Ye.set(pt,xt),nt.forEach(Yt=>Ya(Yt,xt))}),t.push(()=>{F.forEach((nt,pt)=>{const xt=U.get(pt);nt.forEach(Yt=>Ry(Yt,xt))}),Ue.forEach((nt,pt)=>{const xt=Ye.get(pt);nt.forEach(Yt=>Ry(Yt,xt))}),ce.forEach(nt=>{this.processLeaveNode(nt)})});const et=[],st=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(e).forEach(xt=>{const Yt=xt.player,yi=xt.element;if(et.push(Yt),this.collectedEnterElements.length){const cr=yi[Wa];if(cr&&cr.setForMove){if(cr.previousTriggersValues&&cr.previousTriggersValues.has(xt.triggerName)){const Zs=cr.previousTriggersValues.get(xt.triggerName),Za=this.statesByElement.get(xt.element);Za&&Za[xt.triggerName]&&(Za[xt.triggerName].value=Zs)}return void Yt.destroy()}}const vo=!I||!this.driver.containsElement(I,yi),Dr=Ye.get(yi),ra=U.get(yi),_n=this._buildInstruction(xt,i,ra,Dr,vo);if(_n.errors&&_n.errors.length)return void st.push(_n);if(vo)return Yt.onStart(()=>Kg(yi,_n.fromStyles)),Yt.onDestroy(()=>su(yi,_n.toStyles)),void r.push(Yt);if(xt.isFallbackTransition)return Yt.onStart(()=>Kg(yi,_n.fromStyles)),Yt.onDestroy(()=>su(yi,_n.toStyles)),void r.push(Yt);const Ul=[];_n.timelines.forEach(cr=>{cr.stretchStartingKeyframe=!0,this.disabledNodes.has(cr.element)||Ul.push(cr)}),_n.timelines=Ul,i.append(yi,_n.timelines),u.push({instruction:_n,player:Yt,element:yi}),_n.queriedElements.forEach(cr=>na(h,cr,[]).push(Yt)),_n.preStyleProps.forEach((cr,Zs)=>{const Za=Object.keys(cr);if(Za.length){let Id=g.get(Zs);Id||g.set(Zs,Id=new Set),Za.forEach(em=>Id.add(em))}}),_n.postStyleProps.forEach((cr,Zs)=>{const Za=Object.keys(cr);let Id=v.get(Zs);Id||v.set(Zs,Id=new Set),Za.forEach(em=>Id.add(em))})});if(st.length){const nt=[];st.forEach(pt=>{nt.push(function t$(n,t){return new l.vHH(3505,nn)}())}),et.forEach(pt=>pt.destroy()),this.reportError(nt)}const _t=new Map,Vt=new Map;u.forEach(nt=>{const pt=nt.element;i.has(pt)&&(Vt.set(pt,pt),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,_t))}),r.forEach(nt=>{const pt=nt.element;this._getPreviousPlayers(pt,!1,nt.namespaceId,nt.triggerName,null).forEach(Yt=>{na(_t,pt,[]).push(Yt),Yt.destroy()})});const On=ce.filter(nt=>yF(nt,g,v)),Pn=new Map;gF(Pn,this.driver,Ve,v,Ed).forEach(nt=>{yF(nt,g,v)&&On.push(nt)});const rs=new Map;F.forEach((nt,pt)=>{gF(rs,this.driver,new Set(nt),g,"!")}),On.forEach(nt=>{const pt=Pn.get(nt),xt=rs.get(nt);Pn.set(nt,Object.assign(Object.assign({},pt),xt))});const Hi=[],xf=[],kf={};u.forEach(nt=>{const{element:pt,player:xt,instruction:Yt}=nt;if(i.has(pt)){if(C.has(pt))return xt.onDestroy(()=>su(pt,Yt.toStyles)),xt.disabled=!0,xt.overrideTotalTime(Yt.totalTime),void r.push(xt);let yi=kf;if(Vt.size>1){let Dr=pt;const ra=[];for(;Dr=Dr.parentNode;){const _n=Vt.get(Dr);if(_n){yi=_n;break}ra.push(Dr)}ra.forEach(_n=>Vt.set(_n,yi))}const vo=this._buildAnimation(xt.namespaceId,Yt,_t,s,rs,Pn);if(xt.setRealPlayer(vo),yi===kf)Hi.push(xt);else{const Dr=this.playersByElement.get(yi);Dr&&Dr.length&&(xt.parentPlayer=If(Dr)),r.push(xt)}}else Kg(pt,Yt.fromStyles),xt.onDestroy(()=>su(pt,Yt.toStyles)),xf.push(xt),C.has(pt)&&r.push(xt)}),xf.forEach(nt=>{const pt=s.get(nt.element);if(pt&&pt.length){const xt=If(pt);nt.setRealPlayer(xt)}}),r.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<ce.length;nt++){const pt=ce[nt],xt=pt[Wa];if(Ry(pt,wT),xt&&xt.hasAnimation)continue;let Yt=[];if(h.size){let vo=h.get(pt);vo&&vo.length&&Yt.push(...vo);let Dr=this.driver.query(pt,GM,!0);for(let ra=0;ra<Dr.length;ra++){let _n=h.get(Dr[ra]);_n&&_n.length&&Yt.push(..._n)}}const yi=Yt.filter(vo=>!vo.destroyed);yi.length?tz(this,pt,yi):this.processLeaveNode(pt)}return ce.length=0,Hi.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const pt=this.players.indexOf(nt);this.players.splice(pt,1)}),nt.play()}),Hi}elementContainsData(t,e){let i=!1;const r=e[Wa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const g=!s||s==Fw;h.forEach(v=>{v.queued||!g&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const s=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const v=g.element,C=v!==s,I=na(i,v,[]);this._getPreviousPlayers(v,C,u,h,e.toState).forEach(F=>{const U=F.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),F.destroy(),I.push(F)})}Kg(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,u){const h=e.triggerName,g=e.element,v=[],C=new Set,I=new Set,N=e.timelines.map(U=>{const Y=U.element;C.add(Y);const ce=Y[Wa];if(ce&&ce.removedBeforeQueried)return new Ow(U.duration,U.delay);const Be=Y!==g,Ve=function nz(n){const t=[];return _F(n,t),t}((i.get(Y)||Y$).map(_t=>_t.getRealPlayer())).filter(_t=>!!_t.element&&_t.element===Y),Ye=s.get(Y),Ue=u.get(Y),et=GP(0,this._normalizer,0,U.keyframes,Ye,Ue),st=this._buildPlayer(U,et,Ve);if(U.subTimeline&&r&&I.add(Y),Be){const _t=new ix(t,h,Y);_t.setRealPlayer(st),v.push(_t)}return st});v.forEach(U=>{na(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function J$(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,U.element,U))}),C.forEach(U=>Ya(U,XP));const F=If(N);return F.onDestroy(()=>{C.forEach(U=>Ry(U,XP)),su(g,e.toStyles)}),I.forEach(U=>{na(r,U,[]).push(F)}),F}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ow(t.duration,t.delay)}}class ix{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ow,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>FM(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){na(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function FT(n){return n&&1===n.nodeType}function pF(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function gF(n,t,e,i,r){const s=[];e.forEach(g=>s.push(pF(g)));const u=[];i.forEach((g,v)=>{const C={};g.forEach(I=>{const N=C[I]=t.computeStyle(v,I,r);(!N||0==N.length)&&(v[Wa]=Z$,u.push(v))}),n.set(v,C)});let h=0;return e.forEach(g=>pF(g,s[h++])),u}function mF(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),s=new Map;function u(h){if(!h)return 1;let g=s.get(h);if(g)return g;const v=h.parentNode;return g=e.has(v)?v:r.has(v)?1:u(v),s.set(h,g),g}return t.forEach(h=>{const g=u(h);1!==g&&e.get(g).push(h)}),e}function Ya(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Ry(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function tz(n,t,e){If(e).onDone(()=>n.processLeaveNode(t))}function _F(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof jP?_F(i.players,t):t.push(i)}}function yF(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class LT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Q$(t,e,i),this._timelineEngine=new G$(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const g=[],C=WM(this._driver,s,g,[]);if(g.length)throw function $3(n,t){return new l.vHH(3404,nn)}();h=function B$(n,t,e){return new U$(n,t,e)}(r,C,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,u]=$P(i);this._timelineEngine.command(s,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[u,h]=$P(i);return this._timelineEngine.listen(u,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let sz=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&su(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(su(this._element,this._initialStyles),this._endStyles&&(su(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Kg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kg(this._element,this._endStyles),this._endStyles=null),su(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function rx(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];oz(r)&&(t=t||{},t[r]=n[r])}return t}function oz(n){return"display"===n||"position"===n}class vF{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:rF(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class az{validateStyleProperty(t){return YP(t)}matchesElement(t,e){return!1}containsElement(t,e){return ZP(t,e)}getParentElement(t){return UM(t)}query(t,e,i){return KP(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(g.easing=s);const v={},C=u.filter(N=>N instanceof vF);(function d$(n,t){return 0===n||0===t})(i,r)&&C.forEach(N=>{let F=N.currentSnapshot;Object.keys(F).forEach(U=>v[U]=F[U])}),e=function h$(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],u=[];if(i.forEach(h=>{s.hasOwnProperty(h)||u.push(h),s[h]=e[h]}),u.length)for(var r=1;r<t.length;r++){let h=t[r];u.forEach(function(g){h[g]=rF(n,g)})}}return t}(t,e=e.map(N=>Af(N,!1)),v);const I=function rz(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=rx(t[0]),t.length>1&&(i=rx(t[t.length-1]))):t&&(e=rx(t)),e||i?new sz(n,e,i):null}(t,e);return new vF(t,e,g,I)}}let lz=(()=>{class n extends LP{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?VP(e):e;return bF(this._renderer,null,i,"register",[r]),new cz(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class cz extends class D3{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new uz(this._id,t,e||{},this._renderer)}}class uz{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return bF(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function bF(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const wF="@.disabled";let dz=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=null==u?void 0:u.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new DF("",s,this.engine),this._rendererCache.set(s,C)),C}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const g=C=>{Array.isArray(C)?C.forEach(g):this.engine.registerTrigger(u,h,e,C.name,C)};return i.data.animation.forEach(g),new hz(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(LT),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class DF{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==wF?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class hz extends DF{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==wF?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function fz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),u="";return"@"!=s.charAt(0)&&([s,u]=function pz(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let gz=(()=>{class n extends LT{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se),l.LFG(jM),l.LFG(JM))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const BT=new l.OlP("AnimationModuleType"),CF=[{provide:LP,useClass:lz},{provide:JM,useFactory:function mz(){return new O$}},{provide:LT,useClass:gz},{provide:l.FYo,useFactory:function _z(n,t,e){return new dz(n,t,e)},deps:[Ao,LT,l.R0b]}],EF=[{provide:jM,useFactory:()=>new az},{provide:BT,useValue:"BrowserAnimations"},...CF],yz=[{provide:jM,useClass:QP},{provide:BT,useValue:"NoopAnimations"},...CF];let vz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?yz:EF}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:EF,imports:[pa]}),n})();const bz=["connectionContainer"],wz=["inputContainer"],Dz=["label"];function Cz(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function Ez(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(e),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function Tz(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function Sz(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function Iz(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function Az(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(e),l.oxw().updateOutlineGap()}),l.YNc(2,Tz,4,1,"ng-container",12),l.YNc(3,Sz,1,0,"ng-content",12),l.YNc(4,Iz,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Mz(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function xz(n,t){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function kz(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Rz(n,t){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function Nz(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,Rz,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const Oz=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Pz=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Fz=new l.OlP("MatError"),Lz={transitionMessages:RM("transitionMessages",[NM("enter",Bl({opacity:1,transform:"translateY(0%)"})),Nw("void => enter",[Bl({opacity:0,transform:"translateY(-5px)"}),Rw("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const Vz=new l.OlP("MatHint");let Lw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),Bz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Uz=new l.OlP("MatPrefix"),jz=new l.OlP("MatSuffix");let TF=0;const Gz=AM(class{constructor(n){this._elementRef=n}},"primary"),$z=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ox=new l.OlP("MatFormField");let ax=(()=>{class n extends Gz{constructor(e,i,r,s,u,h,g){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Lt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+TF++,this._labelId="mat-form-field-label-"+TF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Vl(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(ri(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(An(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(An(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,gv.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ri(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ri(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(An(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ns(this._label.nativeElement,"transitionend").pipe((0,vn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const C=i.querySelectorAll(`${r}, ${s}`);for(let I=0;I<C.length;I++)C[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const g=i.querySelectorAll(r),v=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const C=i.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(C),N=e.children,F=this._getStartEnd(N[0].getBoundingClientRect());let U=0;for(let Y=0;Y<N.length;Y++)U+=N[Y].offsetWidth;u=Math.abs(F-I)-5,h=U>0?.75*U+10:0}for(let C=0;C<g.length;C++)g[C].style.width=`${u}px`;for(let C=0;C<v.length;C++)v[C].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(CM,8),l.Y36($z,8),l.Y36(Ll),l.Y36(l.R0b),l.Y36(BT,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,sx,5),l.Suo(r,sx,7),l.Suo(r,Lw,5),l.Suo(r,Lw,7),l.Suo(r,Bz,5),l.Suo(r,Fz,5),l.Suo(r,Vz,5),l.Suo(r,Uz,5),l.Suo(r,jz,5)),2&e){let s;l.iGM(s=l.CRH())&&(i._controlNonStatic=s.first),l.iGM(s=l.CRH())&&(i._controlStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._placeholderChild=s.first),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(l.Gf(bz,7),l.Gf(wz,5),l.Gf(Dz,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:ox,useExisting:n}]),l.qOj],ngContentSelectors:Pz,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(l.F$t(Oz),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(3,Cz,9,0,"ng-container",3),l.YNc(4,Ez,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,Az,5,16,"label",8),l.qZA()(),l.YNc(10,Mz,2,0,"div",9),l.qZA(),l.YNc(11,xz,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,kz,2,1,"div",12),l.YNc(14,Nz,5,2,"div",13),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[Bn,OG,Ri,Ar],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Lz.transitionMessages]},changeDetection:0}),n})(),IF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pi,yo,hP],yo]}),n})();const AF=fT({passive:!0});let zz=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Zi.E;const i=mT(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Lt.x,u="cdk-text-field-autofilled",h=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,AF),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,AF)}}),s}stopMonitoring(e){const i=mT(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ll),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const xF=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),qz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Wz=0;const Yz=qG(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let lx=(()=>{class n extends Yz{constructor(e,i,r,s,u,h,g,v,C,I){super(h,s,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=v,this._formField=I,this._uid="mat-input-"+Wz++,this.focused=!1,this.stateChanges=new Lt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>lP().has(U)),this._iOSKeyupListener=U=>{const Y=U.target;!Y.value&&0===Y.selectionStart&&0===Y.selectionEnd&&(Y.setSelectionRange(1,1),Y.setSelectionRange(0,0))};const N=this._elementRef.nativeElement,F=N.nodeName.toLowerCase();this._inputValueAccessor=g||N,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Vl(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(LR.required))&&void 0!==s&&s}set required(e){this._required=Vl(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&lP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Vl(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){qz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Ll),l.Y36(wd,10),l.Y36(fw,8),l.Y36(gw,8),l.Y36(wP),l.Y36(xF,10),l.Y36(zz),l.Y36(l.R0b),l.Y36(ox,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:sx,useExisting:n}]),l.qOj,l.TTD]}),n})(),Zz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[wP],imports:[[MF,IF,yo],MF,IF]}),n})();function Kz(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"tr")(1,"th",50),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td")(14,"mat-icon",51),l.NdJ("click",function(){const s=l.CHM(e).$implicit;return l.oxw().onSelect(s)}),l._uU(15,"visibility"),l.qZA(),l.TgZ(16,"mat-icon",52),l.NdJ("click",function(){const s=l.CHM(e).$implicit;return l.oxw().onSelect(s)}),l._uU(17,"edit"),l.qZA(),l.TgZ(18,"mat-icon",53),l.NdJ("click",function(){const s=l.CHM(e).$implicit;return l.oxw().deleteStudent(s)}),l._uU(19,"delete"),l.qZA()()()}if(2&n){const e=t.$implicit,i=t.index;l.xp6(2),l.Oqu(i+1),l.xp6(2),l.Oqu(e.Name),l.xp6(2),l.Oqu(e.Age),l.xp6(2),l.Oqu(e.Class),l.xp6(2),l.Oqu(e.Email),l.xp6(2),l.Oqu(e.Phone)}}const Qz=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(e){this.auth=e,this.email="",this.password=""}ngOnInit(){}login(){""!=this.email?""!=this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("please Enter Passwword"):alert("please Enter Email")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(i_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:2,consts:[[1,"bg-dark",2,"height","100%"],[1,"container","pt-5","justify-content-center"],[1,"row"],[1,"col-6"],["src","../../../assets/images/e.png",1,"img-fluid"],[1,"col"],[1,"col-4","shadow","mt-5","bg-warning","p-5",2,"border-radius","20px","border","2px solide white"],[1,"example-full-width","w-100"],["matInput","","type","text",3,"ngModel","ngModelChange"],["matInput","","type","password",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","pe-3","ps-3",3,"click"],["role","button","routerLink","/register"]],template:function(e,i){1&e&&(l._UZ(0,"router-outlet"),l.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),l._UZ(5,"img",4),l.qZA(),l._UZ(6,"div",5),l.TgZ(7,"div",6)(8,"h1"),l._uU(9,"LOGIN"),l.qZA(),l._UZ(10,"br")(11,"br"),l.TgZ(12,"mat-form-field",7)(13,"mat-label"),l._uU(14,"Email"),l.qZA(),l.TgZ(15,"input",8),l.NdJ("ngModelChange",function(s){return i.email=s}),l.qZA()(),l._UZ(16,"br")(17,"br"),l.TgZ(18,"mat-form-field",7)(19,"mat-label"),l._uU(20,"Password"),l.qZA(),l.TgZ(21,"input",9),l.NdJ("ngModelChange",function(s){return i.password=s}),l.qZA()(),l._UZ(22,"br")(23,"br"),l.TgZ(24,"button",10),l.NdJ("click",function(){return i.login()}),l._uU(25,"Login"),l.qZA(),l._UZ(26,"br")(27,"br"),l.TgZ(28,"p"),l._uU(29,"Not a User? "),l.TgZ(30,"a",11),l._uU(31,"SignUp"),l.qZA()()()()()()),2&e&&(l.xp6(15),l.Q6J("ngModel",i.email),l.xp6(6),l.Q6J("ngModel",i.password))},directives:[xu,ax,Lw,lx,wy,jE,pw,Pu],styles:[""]}),n})()},{path:"dashboard",component:(()=>{class n{constructor(e,i,r){this.auth=e,this.data=i,this.formbuilder=r,this.studentsList=[],this.studentObj={id:"",Name:"",Age:"",Class:"",Email:"",Phone:""},this.id="",this.Name="",this.Age="",this.Class="",this.Email="",this.Phone=""}ngOnInit(){this.stu=this.formbuilder.group({id:[""],Name:[""],Age:[""],Class:[""],Email:[""],Phone:[""]}),this.getAllStudent()}register(){this.auth.logout()}getAllStudent(){this.data.getAllStudent().subscribe(e=>{this.studentsList=e.map(i=>{const r=i.payload.doc.data();return r.id=i.payload.doc.id,console.log(r),r})})}reset(){this.id="",this.Name="",this.Age="",this.Class="",this.Email="",this.Phone=""}addStudent(){""!=this.Name&&""!=this.Age&&""!=this.Class&&""!=this.Email&&""!=this.Phone?(this.studentObj.id="",this.studentObj.Name=this.Name,this.studentObj.Age=this.Age,this.studentObj.Class=this.Class,this.studentObj.Email=this.Email,this.studentObj.Phone=this.Phone,this.data.addStudent(this.studentObj),this.reset()):alert("Fill All")}deleteStudent(e){window.confirm("Are You Sure to Delete? "+e.Name+" , "+ +e.Age+" , "+ +e.Class+" , "+ +e.Email+" , "+ +e.Phone)&&this.data.deleteStudent(e)}onSelect(e){this.stu.controls.id.setValue(e.id),this.stu.controls.Name.setValue(e.Name),this.stu.controls.Age.setValue(e.Age),this.stu.controls.Class.setValue(e.Class),this.stu.controls.Email.setValue(e.Email),this.stu.controls.Phone.setValue(e.Phone)}onSubmit(e){this.data.update_Student(e),this.reset()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(i_),l.Y36(bB),l.Y36(m2))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dashboard"]],decls:143,vars:13,consts:[[1,"container-fluid-well"],[1,"navbar","navbar-light","bg-primary","justify-content-center","mb-5","shadow"],[1,"navbar-brand","mb-0","h1",2,"font-family","Gill Sans,sans-serif","font-size","30px","color","white","text-shadow","1px 1px 1px"],["src","../../../assets/images/clipart1759479.png",2,"width","25px","height","35px"],["aria-hidden","false","aria-label","Example home icon","role","button","data-bs-toggle","modal","data-bs-target","#v1",2,"color","white","float","right","margin-left","70%","text-shadow","1px 1px 1px"],[1,"container"],[1,"row"],[1,"col-3"],[1,"text-center",2,"text-shadow","1px 1px 1px"],[1,"example-form"],[1,"example-full-width","w-100"],["matInput","","type","text","id","Name","name","Name",3,"ngModel","ngModelChange"],["matInput","","type","number","id","Age","name","Age",3,"ngModel","ngModelChange"],["matInput","","type","number","id","Class","name","Class",3,"ngModel","ngModelChange"],["matInput","","type","email","id","Email","name","Email",3,"ngModel","ngModelChange"],["matInput","","type","cell","id","Phone","name","Phone",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","pe-3","ps-3","shadow",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","pe-3","ps-3","shadow",3,"click"],[1,"col-9"],[1,"table","table-stripped","table-hover","table-sm","text-center","shadow"],[4,"ngFor","ngForOf"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["ng-controller","formcontrol","novalidate","",1,"example",3,"formGroup","ngSubmit"],["emp","ngForm"],["matInput","","type","text","name","Name","formControlName","Name",3,"ngModel","ngModelChange"],["matInput","","type","number","name","Age","formControlName","Age",3,"ngModel","ngModelChange"],["matInput","","type","number","name","Class","formControlName","Class",3,"ngModel","ngModelChange"],["matInput","","type","email","name","Email","formControlName","Email",3,"ngModel","ngModelChange"],["matInput","","type","cell","name","Phone","formControlName","Phone",3,"ngModel","ngModelChange"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary","shadow"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","shadow",3,"click"],["id","v","tabindex","-1","data-bs-backdrop","static","data-bs-keyboard","false","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-body",2,"margin-left","33%",3,"formGroup"],["type","cell","id","Name","name","Name","formControlName","Name",2,"border-style","none"],["type","cell","id","Age","name","Age","formControlName","Age",2,"border-style","none"],["type","cell","id","Class","name","Class","formControlName","Class",2,"border-style","none"],["type","cell","id","Email","name","Email","formControlName","Email",2,"border-style","none"],["type","cell","id","Phone","name","Phone","formControlName","Phone",2,"border-style","none"],[1,"modal-footer","justify-content-center"],["id","v1","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-header","justify-content-center"],[1,"modal-body","justify-content-center",2,"margin-left","33%"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success","pe-3","ps-3","shadow"],["scope","row"],["aria-hidden","false","aria-label","Example home icon","role","button","title","View","data-bs-toggle","modal","data-bs-target","#v",1,"me-4",3,"click"],["aria-hidden","false","aria-label","Example home icon","role","button","title","Edit","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"me-4",3,"click"],["aria-hidden","false","aria-label","Example home icon","role","button","title","Delete",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"nav",1)(2,"h1",2),l._UZ(3,"img",3),l._uU(4," Student Management"),l.qZA(),l.TgZ(5,"mat-icon",4),l._uU(6,"logout"),l.qZA()()(),l.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"h1",8),l._uU(11,"ADD STUDENT"),l.qZA(),l._UZ(12,"br"),l.TgZ(13,"form",9)(14,"mat-form-field",10)(15,"mat-label"),l._uU(16,"Name"),l.qZA(),l.TgZ(17,"input",11),l.NdJ("ngModelChange",function(s){return i.Name=s}),l.qZA()(),l.TgZ(18,"mat-form-field",10)(19,"mat-label"),l._uU(20,"Age"),l.qZA(),l.TgZ(21,"input",12),l.NdJ("ngModelChange",function(s){return i.Age=s}),l.qZA()(),l.TgZ(22,"mat-form-field",10)(23,"mat-label"),l._uU(24,"Class"),l.qZA(),l.TgZ(25,"input",13),l.NdJ("ngModelChange",function(s){return i.Class=s}),l.qZA()(),l.TgZ(26,"mat-form-field",10)(27,"mat-label"),l._uU(28,"Email id"),l.qZA(),l.TgZ(29,"input",14),l.NdJ("ngModelChange",function(s){return i.Email=s}),l.qZA()(),l.TgZ(30,"mat-form-field",10)(31,"mat-label"),l._uU(32,"Phone"),l.qZA(),l.TgZ(33,"input",15),l.NdJ("ngModelChange",function(s){return i.Phone=s}),l.qZA()()(),l.TgZ(34,"button",16),l.NdJ("click",function(){return i.addStudent()}),l._uU(35,"ADD"),l.qZA(),l._uU(36," \xa0\xa0\xa0 "),l.TgZ(37,"button",17),l.NdJ("click",function(){return i.reset()}),l._uU(38,"RESET"),l.qZA(),l._UZ(39,"br")(40,"br"),l.qZA(),l.TgZ(41,"div",18)(42,"h1",8),l._uU(43,"STUDENTS DETAILS"),l.qZA(),l._UZ(44,"br"),l.TgZ(45,"table",19)(46,"thead")(47,"th"),l._uU(48,"S.No"),l.qZA(),l.TgZ(49,"th"),l._uU(50,"NAME"),l.qZA(),l.TgZ(51,"th"),l._uU(52,"AGE"),l.qZA(),l.TgZ(53,"th"),l._uU(54,"CLASS"),l.qZA(),l.TgZ(55,"th"),l._uU(56,"EMAIL"),l.qZA(),l.TgZ(57,"th"),l._uU(58,"PHONE"),l.qZA(),l.TgZ(59,"th"),l._uU(60,"ACTION"),l.qZA()(),l.TgZ(61,"tbody"),l.YNc(62,Kz,20,6,"tr",20),l.qZA()()()()(),l.TgZ(63,"div",21)(64,"div",22)(65,"div",23)(66,"div",24)(67,"h2",25),l._uU(68,"Edit Student Details"),l.qZA(),l.TgZ(69,"button",26),l.NdJ("click",function(){return i.reset()}),l.qZA()(),l.TgZ(70,"div",27)(71,"form",28,29),l.NdJ("ngSubmit",function(){return i.onSubmit(i.stu.value)}),l.TgZ(73,"mat-form-field",10)(74,"mat-label"),l._uU(75,"Name"),l.qZA(),l.TgZ(76,"input",30),l.NdJ("ngModelChange",function(s){return i.Name=s}),l.qZA()(),l.TgZ(77,"mat-form-field",10)(78,"mat-label"),l._uU(79,"Age"),l.qZA(),l.TgZ(80,"input",31),l.NdJ("ngModelChange",function(s){return i.Age=s}),l.qZA()(),l.TgZ(81,"mat-form-field",10)(82,"mat-label"),l._uU(83,"Class"),l.qZA(),l.TgZ(84,"input",32),l.NdJ("ngModelChange",function(s){return i.Class=s}),l.qZA()(),l.TgZ(85,"mat-form-field",10)(86,"mat-label"),l._uU(87,"Email id"),l.qZA(),l.TgZ(88,"input",33),l.NdJ("ngModelChange",function(s){return i.Email=s}),l.qZA()(),l.TgZ(89,"mat-form-field",10)(90,"mat-label"),l._uU(91,"Phone"),l.qZA(),l.TgZ(92,"input",34),l.NdJ("ngModelChange",function(s){return i.Phone=s}),l.qZA()(),l._UZ(93,"br")(94,"br"),l.TgZ(95,"button",35),l._uU(96,"Update"),l.qZA(),l._uU(97,"\xa0\xa0\xa0\xa0 "),l.TgZ(98,"button",36),l.NdJ("click",function(){return i.reset()}),l._uU(99,"Close"),l.qZA()()()()()(),l.TgZ(100,"div",37)(101,"div",38)(102,"div",23)(103,"div",24)(104,"h2",25),l._uU(105,"Student Details"),l.qZA(),l.TgZ(106,"button",26),l.NdJ("click",function(){return i.reset()}),l.qZA()(),l.TgZ(107,"div",39)(108,"p")(109,"b"),l._uU(110,"Name : "),l.qZA(),l._UZ(111,"input",40),l.qZA(),l.TgZ(112,"p")(113,"b"),l._uU(114,"Age : "),l.qZA(),l._UZ(115,"input",41),l.qZA(),l.TgZ(116,"p")(117,"b"),l._uU(118,"Class : "),l.qZA(),l._UZ(119,"input",42),l.qZA(),l.TgZ(120,"p")(121,"b"),l._uU(122,"Email : "),l.qZA(),l._UZ(123,"input",43),l.qZA(),l.TgZ(124,"p")(125,"b"),l._uU(126,"Phone : "),l.qZA(),l._UZ(127,"input",44),l.qZA()(),l.TgZ(128,"div",45)(129,"button",36),l.NdJ("click",function(){return i.reset()}),l._uU(130,"Close"),l.qZA()()()()(),l.TgZ(131,"div",46)(132,"div",38)(133,"div",23)(134,"div",47)(135,"h2",25),l._uU(136,"Are you Sure To Logout?"),l.qZA()(),l.TgZ(137,"div",48)(138,"button",17),l.NdJ("click",function(){return i.register()}),l._uU(139,"Yes"),l.qZA(),l._uU(140," \xa0 \xa0"),l.TgZ(141,"button",49),l._uU(142,"No"),l.qZA()()()()()),2&e&&(l.xp6(17),l.Q6J("ngModel",i.Name),l.xp6(4),l.Q6J("ngModel",i.Age),l.xp6(4),l.Q6J("ngModel",i.Class),l.xp6(4),l.Q6J("ngModel",i.Email),l.xp6(4),l.Q6J("ngModel",i.Phone),l.xp6(29),l.Q6J("ngForOf",i.studentsList),l.xp6(9),l.Q6J("formGroup",i.stu),l.xp6(5),l.Q6J("ngModel",i.Name),l.xp6(4),l.Q6J("ngModel",i.Age),l.xp6(4),l.Q6J("ngModel",i.Class),l.xp6(4),l.Q6J("ngModel",i.Email),l.xp6(4),l.Q6J("ngModel",i.Phone),l.xp6(15),l.Q6J("formGroup",i.stu))},directives:[vM,b3,DN,oN,fw,ax,Lw,lx,wy,jE,pw,qA,xn,gw,KA],styles:[""]}),n})()},{path:"register",component:(()=>{class n{constructor(e){this.auth=e,this.email="",this.password=""}ngOnInit(){}register(){""!=this.email?""!=this.password?(this.auth.register(this.email,this.password),this.email="",this.password=""):alert("please Enter Passwword"):alert("please Enter Email")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(i_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-register"]],decls:32,vars:2,consts:[[1,"bg-dark",2,"height","100%"],[1,"container","pt-5","justify-content-center"],[1,"row"],[1,"col-6"],["src","../../../assets/images/why-choose-us.png",1,"img-fluid"],[1,"col"],[1,"col-4","shadow","mt-5","bg-info","p-5",2,"border-radius","20px","border","2px solide black"],[1,"example-full-width","w-100"],["matInput","","type","text",3,"ngModel","ngModelChange"],["matInput","","type","password",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","pe-3","ps-3",3,"click"],["role","button","routerLink","/login"]],template:function(e,i){1&e&&(l._UZ(0,"router-outlet"),l.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),l._UZ(5,"img",4),l.qZA(),l._UZ(6,"div",5),l.TgZ(7,"div",6)(8,"h1"),l._uU(9,"REGISTER"),l.qZA(),l._UZ(10,"br")(11,"br"),l.TgZ(12,"mat-form-field",7)(13,"mat-label"),l._uU(14,"Email"),l.qZA(),l.TgZ(15,"input",8),l.NdJ("ngModelChange",function(s){return i.email=s}),l.qZA()(),l._UZ(16,"br")(17,"br"),l.TgZ(18,"mat-form-field",7)(19,"mat-label"),l._uU(20,"Password"),l.qZA(),l.TgZ(21,"input",9),l.NdJ("ngModelChange",function(s){return i.password=s}),l.qZA()(),l._UZ(22,"br")(23,"br"),l.TgZ(24,"button",10),l.NdJ("click",function(){return i.register()}),l._uU(25,"Sign Up"),l.qZA(),l._UZ(26,"br")(27,"br"),l.TgZ(28,"p"),l._uU(29,"Already User? "),l.TgZ(30,"a",11),l._uU(31,"login"),l.qZA()()()()()()),2&e&&(l.xp6(15),l.Q6J("ngModel",i.email),l.xp6(6),l.Q6J("ngModel",i.password))},directives:[xu,ax,Lw,lx,wy,jE,pw,Pu],styles:[""]}),n})()}];let Jz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[lp.forRoot(Qz)],lp]}),n})(),Xz=(()=>{class n{constructor(){this.title="A"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:[xu],styles:[""]}),n})();const kF_firebase={apiKey:"AIzaSyDX-ZooxNa9U1m4iYi8s46-EC55JpEzu0I",authDomain:"sapp-b10db.firebaseapp.com",projectId:"sapp-b10db",storageBucket:"sapp-b10db.appspot.com",messagingSenderId:"997218791234",appId:"1:997218791234:web:4d9e7820ab70ba903962db"};var RF=P(4408);const Vw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Vw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new pr.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Vw;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Vw;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var NF=P(7565);new class t8 extends NF.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class e8 extends RF.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Vw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Vw.cancelAnimationFrame(e),t._scheduled=void 0)}});let cx,r8=1;const UT={};function OF(n){return n in UT&&(delete UT[n],!0)}const s8={setImmediate(n){const t=r8++;return UT[t]=!0,cx||(cx=Promise.resolve()),cx.then(()=>OF(t)&&n()),t},clearImmediate(n){OF(n)}},{setImmediate:o8,clearImmediate:a8}=s8,jT={setImmediate(...n){const{delegate:t}=jT;return((null==t?void 0:t.setImmediate)||o8)(...n)},clearImmediate(n){const{delegate:t}=jT;return((null==t?void 0:t.clearImmediate)||a8)(n)},delegate:void 0};new class c8 extends NF.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class l8 extends RF.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=jT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(jT.clearImmediate(e),t._scheduled=void 0)}});function PF(n,t=vh.z){return function d8(n){return(0,qn.e)((t,e)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const v=r;r=null,e.next(v)}u&&e.complete()},g=()=>{s=null,u&&e.complete()};t.subscribe((0,en.x)(e,v=>{i=!0,r=v,s||(0,Yi.Xf)(n(v)).subscribe(s=(0,en.x)(e,h,g))},()=>{u=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>QE(n,t))}let f8=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Lt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Cn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(PF(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Rn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=mT(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ns(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Ll),l.LFG(se,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HT=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Lt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(PF(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ll),l.LFG(l.R0b),l.LFG(se,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ux=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),dx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Iw,ux],Iw,ux]}),n})();function g8(n,t){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const e=l.oxw(),i=l.MAs(1);l.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),l.uIk("r",e._getCircleRadius())}}function m8(n,t){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const e=l.oxw(),i=l.MAs(1);l.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),l.uIk("r",e._getCircleRadius())}}const y8=AM(class{constructor(n){this._elementRef=n}},"primary"),v8=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function b8(){return{diameter:100}}});class Mf extends y8{constructor(t,e,i,r,s,u,h,g){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=pr.w0.EMPTY,this.mode="determinate";const v=Mf._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),v.has(i.head)||v.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),e.isBrowser&&e.SAFARI&&h&&u&&g&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&g.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=gT(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=gT(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,gT(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=function EG(n){if(function CG(){if(null==TM){const n="undefined"!=typeof document?document.head:null;TM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return TM}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const i=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${i}% ${i}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Mf._diameters;let r=i.get(t);if(!r||!r.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Mf._diameters=new WeakMap,Mf.\u0275fac=function(t){return new(t||Mf)(l.Y36(l.SBq),l.Y36(Ll),l.Y36(se,8),l.Y36(BT,8),l.Y36(v8),l.Y36(l.sBO),l.Y36(HT),l.Y36(l.R0b))},Mf.\u0275cmp=l.Xpm({type:Mf,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(l.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(l.O4$(),l.TgZ(0,"svg",0,1),l.YNc(2,g8,1,11,"circle",2),l.YNc(3,m8,1,9,"circle",3),l.qZA()),2&t&&(l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.Q6J("ngSwitch","indeterminate"===e.mode),l.uIk("viewBox",e._getViewBox()),l.xp6(2),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1))},directives:[Ri,Ar],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let D8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[yo,pi],yo]}),n})();class fx{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class C8 extends fx{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class E8 extends fx{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class T8 extends fx{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class I8 extends class S8{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof C8?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof E8?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof T8?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,g=this._document.createComment("dom-portal");h.parentNode.insertBefore(g,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let FF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const LF=DG();class A8{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=lr(-this._previousScrollPosition.left),t.style.top=lr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),LF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),LF&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class M8{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class VF{enable(){}disable(){}attach(){}}function px(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function BF(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class x8{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();px(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let k8=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new VF,this.close=u=>new M8(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new A8(this._viewportRuler,this._document),this.reposition=u=>new x8(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(f8),l.LFG(HT),l.LFG(l.R0b),l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class R8{constructor(t){if(this.scrollStrategy=new VF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class N8{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class O8{constructor(t,e,i,r,s,u,h,g,v){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=g,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new Lt.x,this._attachments=new Lt.x,this._detachments=new Lt.x,this._locationChanges=pr.w0.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new Lt.x,this._outsidePointerEvents=new Lt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,vn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=lr(this._config.width),t.height=lr(this._config.height),t.minWidth=lr(this._config.minWidth),t.minHeight=lr(this._config.minHeight),t.maxWidth=lr(this._config.maxWidth),t.maxHeight=lr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=uP(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(An((0,gv.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let UF=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||SM()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),SM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se),l.LFG(Ll))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jF="cdk-overlay-connected-position-bounding-box",P8=/([A-Za-z%]+)$/;class F8{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Lt.x,this._resizeSubscription=pr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(jF),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let g=this._getOriginPoint(t,r,h),v=this._getOverlayPoint(g,e,h),C=this._getOverlayFit(v,e,i,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,g);this._canFitWithFlexibleDimensions(C,v,i)?s.push({position:h,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,h)}):(!u||u.overlayFit.visibleArea<C.visibleArea)&&(u={overlayFit:C,overlayPoint:v,originPoint:g,position:h,overlayRect:e})}if(s.length){let h=null,g=-1;for(const v of s){const C=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);C>g&&(g=C,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Jg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=GF(e);let{x:u,y:h}=t,g=this._getOffset(r,"x"),v=this._getOffset(r,"y");g&&(u+=g),v&&(h+=v);let N=0-h,F=h+s.height-i.height,U=this._subtractOverflows(s.width,0-u,u+s.width-i.width),Y=this._subtractOverflows(s.height,N,F),ce=U*Y;return{visibleArea:ce,isCompletelyWithinViewport:s.width*s.height===ce,fitsInViewportVertically:Y===s.height,fitsInViewportHorizontally:U==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,u=HF(this._overlayRef.getConfig().minHeight),h=HF(this._overlayRef.getConfig().minWidth),v=t.fitsInViewportHorizontally||null!=h&&h<=s;return(t.fitsInViewportVertically||null!=u&&u<=r)&&v}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=GF(e),s=this._viewportRect,u=Math.max(t.x+r.width-s.width,0),h=Math.max(t.y+r.height-s.height,0),g=Math.max(s.top-i.top-t.y,0),v=Math.max(s.left-i.left-t.x,0);let C=0,I=0;return C=r.width<=s.width?v||-u:t.x<this._viewportMargin?s.left-i.left-t.x:0,I=r.height<=s.height?g||-h:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:C,y:I},{x:t.x+C,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new N8(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,u,h,C,I,N;if("top"===e.overlayY)u=t.y,s=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const F=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;s=2*F,u=t.y-F,s>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)N=i.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=t.x,C=i.right-t.x;else{const F=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;C=2*F,I=t.x-F,C>U&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-U/2)}return{top:u,left:I,bottom:h,right:N,width:C,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=lr(i.height),r.top=lr(i.top),r.bottom=lr(i.bottom),r.width=lr(i.width),r.left=lr(i.left),r.right=lr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=lr(s)),u&&(r.maxWidth=lr(u))}this._lastBoundingBoxSize=i,Jg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Jg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Jg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();Jg(i,this._getExactOverlayY(e,t,C)),Jg(i,this._getExactOverlayX(e,t,C))}else i.position="static";let h="",g=this._getOffset(e,"x"),v=this._getOffset(e,"y");g&&(h+=`translateX(${g}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=lr(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=lr(u.maxWidth):s&&(i.maxWidth="")),Jg(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=lr(s.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=lr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:BF(t,i),isOriginOutsideView:px(t,i),isOverlayClipped:BF(e,i),isOverlayOutsideView:px(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&uP(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Jg(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function HF(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(P8);return e&&"px"!==e?null:parseFloat(t)}return n||null}function GF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const $F="cdk-global-overlay-wrapper";class L8{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add($F),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=g?"0":this._leftOffset,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,g?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove($F),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let V8=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new L8}flexibleConnectedTo(e){return new F8(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(HT),l.LFG(se),l.LFG(Ll),l.LFG(UF))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zF=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B8=(()=>{class n extends zF{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U8=(()=>{class n extends zF{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=cP(s)},this._clickListener=s=>{const u=cP(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const C=g[v];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(u)||C.overlayElement.contains(h))break;const I=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(s)):I.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se),l.LFG(Ll),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j8=0,gx=(()=>{class n{constructor(e,i,r,s,u,h,g,v,C,I,N){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=g,this._document=v,this._directionality=C,this._location=I,this._outsideClickDispatcher=N}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new R8(e);return u.direction=u.direction||this._directionality.value,new O8(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+j8++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new I8(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(k8),l.LFG(UF),l.LFG(l._Vd),l.LFG(V8),l.LFG(B8),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(se),l.LFG(CM),l.LFG(De),l.LFG(U8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const $8={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[gx],useFactory:function G8(n){return()=>n.scrollStrategies.reposition()}};let z8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[gx,$8],imports:[[Iw,FF,dx],dx]}),n})(),q8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[JG,yo],yo]}),n})(),n6=(()=>{class n{constructor(){this.changes=new Lt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s6={provide:new l.OlP("mat-datepicker-scroll-strategy"),deps:[gx],useFactory:function r6(n){return()=>n.scrollStrategies.reposition()}};let u6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[n6,s6],imports:[[pi,q8,z8,GG,FF,yo],ux]}),n})(),T6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[dx]]}),n})(),H6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[T6,yo],yo]}),n})(),$6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[Xz]}),n.\u0275inj=l.cJS({providers:[],imports:[[pa,Jz,qr.hO.initializeApp(kF_firebase),vB,mG,vz,UN,w3,Zz,D8,u6,jN,H6]]}),n})();(0,l.G48)(),ec().bootstrapModule($6).catch(n=>console.error(n))},5867:(ot,we,P)=>{P.d(we,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=P(9681);(0,l.registerVersion)("firebase","9.8.1","app")},127:(ot,we,P)=>{P.d(we,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(ot,we,P)=>{P.r(we);var l=P(5861),te=P(3942),L=P(2090),he=P(9681),ae=P(655),ye=P(1877),se=P(4859);const Fe=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$e=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new ye.Yd("@firebase/auth");function it(y,...p){Qe.logLevel<=ye.in.ERROR&&Qe.error(`Auth (${he.SDK_VERSION}): ${y}`,...p)}function Ae(y,...p){throw ze(y,...p)}function De(y,...p){return ze(y,...p)}function Te(y,p,_){const w=Object.assign(Object.assign({},$e()),{[p]:_});return new L.LL("auth","Firebase",w).create(p,{appName:y.name})}function qe(y,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Ae(y,"argument-error"),Te(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(y,...p){if("string"!=typeof y){const _=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(_,...w)}return _e.create(y,...p)}function $(y,p,..._){if(!y)throw ze(p,..._)}function Ce(y){const p="INTERNAL ASSERTION FAILED: "+y;throw it(p),new Error(p)}function J(y,p){y||Ce(p)}const le=new Map;function ie(y){J(y instanceof Function,"Expected a class definition");let p=le.get(y);return p?(J(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,le.set(y,p),p)}function Le(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function vt(){return"http:"===Zt()||"https:"===Zt()}function Zt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class an{constructor(p,_){this.shortDelay=p,this.longDelay=_,J(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function $t(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fn(y,p){J(y.emulator,"Emulator should always be set here");const{url:_}=y.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class dn{static initialize(p,_,w){this.fetchImpl=p,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Gi=new an(3e4,6e4);function Qt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ht(y,p,_,w){return Es.apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(y,p,_,w,M={}){return Cr(y,M,(0,l.Z)(function*(){let O={},Q={};w&&("GET"===p?Q=w:O={body:JSON.stringify(w)});const ge=(0,L.xO)(Object.assign({key:y.config.apiKey},Q)).slice(1),Ge=yield y._getAdditionalHeaders();return Ge["Content-Type"]="application/json",y.languageCode&&(Ge["X-Firebase-Locale"]=y.languageCode),dn.fetch()(Ks(y,y.config.apiHost,_,ge),Object.assign({method:p,headers:Ge,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Cr(y,p,_){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(y,p,_){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},rn),p);try{const M=new Er(y),O=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Q=yield O.json();if("needConfirmation"in Q)throw os(y,"account-exists-with-different-credential",Q);if(O.ok&&!("errorMessage"in Q))return Q;{const ge=O.ok?Q.errorMessage:Q.error.message,[Ge,rt]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw os(y,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Ge)throw os(y,"email-already-in-use",Q);const wt=w[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw Te(y,wt,rt);Ae(y,wt)}}catch(M){if(M instanceof L.ZR)throw M;Ae(y,"network-request-failed")}})).apply(this,arguments)}function $i(y,p,_,w){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(y,p,_,w,M={}){const O=yield Ht(y,p,_,w,M);return"mfaPendingCredential"in O&&Ae(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ks(y,p,_,w){const M=`${p}${_}?${w}`;return y.config.emulator?Fn(y.config,M):`${y.config.apiScheme}://${M}`}class Er{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(De(this.auth,"network-request-failed")),Gi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function os(y,p,_){const w={appName:y.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const M=De(y,p,w);return M.customData._tokenResponse=_,M}function Tr(){return(Tr=(0,l.Z)(function*(y,p){return Ht(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Mn(y,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(y,p){return Ht(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bo(y,p){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(y,p){return Ht(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function fi(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function sa(){return(sa=(0,l.Z)(function*(y,p=!1){const _=(0,L.m9)(y),w=yield _.getIdToken(p),M=gt(w);$(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,Q=null==O?void 0:O.sign_in_provider;return{claims:M,token:w,authTime:fi(Kt(M.auth_time)),issuedAtTime:fi(Kt(M.iat)),expirationTime:fi(Kt(M.exp)),signInProvider:Q||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Kt(y){return 1e3*Number(y)}function gt(y){const[p,_,w]=y.split(".");if(void 0===p||void 0===_||void 0===w)return it("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,L.tV)(_);return M?JSON.parse(M):(it("Failed to decode base64 JWT payload"),null)}catch(M){return it("Caught error parsing JWT payload as JSON",M),null}}function Mi(y,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(y,p,_=!1){if(_)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&zt(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function zt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class wo{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&p.schedule(!0))}p.schedule()})()}}class xi{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=fi(this.lastLoginAt),this.creationTime=fi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ki(y){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(y){var p;const _=y.auth,w=yield y.getIdToken(),M=yield Mi(y,bo(_,{idToken:w}));$(null==M?void 0:M.users.length,_,"internal-error");const O=M.users[0];y._notifyReloadListener(O);const Q=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?q(O.providerUserInfo):[],ge=Ie(y.providerData,Q),wt=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==ge?void 0:ge.length)),bt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ge,metadata:new xi(O.createdAt,O.lastLoginAt),isAnonymous:wt};Object.assign(y,bt)})).apply(this,arguments)}function K(){return(K=(0,l.Z)(function*(y){const p=(0,L.m9)(y);yield ki(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ie(y,p){return[...y.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}function q(y){return y.map(p=>{var{providerId:_}=p,w=(0,ae._T)(p,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Oe(){return(Oe=(0,l.Z)(function*(y,p){const _=yield Cr(y,{},(0,l.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:O}=y.config,Q=Ks(y,M,"/v1/token",`key=${O}`),ge=yield y._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(Q,{method:"POST",headers:ge,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class at{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){$(p.idToken,"internal-error"),$(void 0!==p.idToken,"internal-error"),$(void 0!==p.refreshToken,"internal-error");const _="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function St(y){const p=gt(y);return $(p,"internal-error"),$(void 0!==p.exp,"internal-error"),$(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var w=this;return(0,l.Z)(function*(){return $(!w.accessToken||w.refreshToken,p,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var w=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:Q}=yield function ne(y,p){return Oe.apply(this,arguments)}(p,_);w.updateTokensAndExpiration(M,O,Number(Q))})()}updateTokensAndExpiration(p,_,w){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,_){const{refreshToken:w,accessToken:M,expirationTime:O}=_,Q=new at;return w&&($("string"==typeof w,"internal-error",{appName:p}),Q.refreshToken=w),M&&($("string"==typeof M,"internal-error",{appName:p}),Q.accessToken=M),O&&($("number"==typeof O,"internal-error",{appName:p}),Q.expirationTime=O),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new at,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function Dt(y,p){$("string"==typeof y||void 0===y,"internal-error",{appName:p})}class kt{constructor(p){var{uid:_,auth:w,stsTokenManager:M}=p,O=(0,ae._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new xi(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,l.Z)(function*(){const w=yield Mi(_,_.stsTokenManager.getToken(_.auth,p));return $(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(p){return function Hr(y){return sa.apply(this,arguments)}(this,p)}reload(){return function W(y){return K.apply(this,arguments)}(this)}_assign(p){this!==p&&($(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new kt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var w=this;return(0,l.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield ki(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const _=yield p.getIdToken();return yield Mi(p,function Et(y,p){return Tr.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var w,M,O,Q,ge,Ge,rt,wt;const bt=null!==(w=_.displayName)&&void 0!==w?w:void 0,oi=null!==(M=_.email)&&void 0!==M?M:void 0,_r=null!==(O=_.phoneNumber)&&void 0!==O?O:void 0,vl=null!==(Q=_.photoURL)&&void 0!==Q?Q:void 0,ap=null!==(ge=_.tenantId)&&void 0!==ge?ge:void 0,xm=null!==(Ge=_._redirectEventId)&&void 0!==Ge?Ge:void 0,bl=null!==(rt=_.createdAt)&&void 0!==rt?rt:void 0,ph=null!==(wt=_.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:Nu,emailVerified:km,isAnonymous:gh,providerData:Xi,stsTokenManager:Rm}=_;$(Nu&&Rm,p,"internal-error");const Nm=at.fromJSON(this.name,Rm);$("string"==typeof Nu,p,"internal-error"),Dt(bt,p.name),Dt(oi,p.name),$("boolean"==typeof km,p,"internal-error"),$("boolean"==typeof gh,p,"internal-error"),Dt(_r,p.name),Dt(vl,p.name),Dt(ap,p.name),Dt(xm,p.name),Dt(bl,p.name),Dt(ph,p.name);const Ou=new kt({uid:Nu,auth:p,email:oi,emailVerified:km,displayName:bt,isAnonymous:gh,photoURL:vl,phoneNumber:_r,tenantId:ap,stsTokenManager:Nm,createdAt:bl,lastLoginAt:ph});return Xi&&Array.isArray(Xi)&&(Ou.providerData=Xi.map(Pu=>Object.assign({},Pu))),xm&&(Ou._redirectEventId=xm),Ou}static _fromIdTokenResponse(p,_,w=!1){return(0,l.Z)(function*(){const M=new at;M.updateFromServerResponse(_);const O=new kt({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield ki(O),O})()}}const At=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var M=this;return(0,l.Z)(function*(){M.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const M=w.storage[_];return void 0===M?null:M})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return y.type="NONE",y})();function Xn(y,p,_){return`firebase:${y}:${p}:${_}`}class zi{constructor(p,_,w){this.persistence=p,this.auth=_,this.userKey=w;const{config:M,name:O}=this.auth;this.fullUserKey=Xn(this.userKey,M.apiKey,O),this.fullPersistenceKey=Xn("persistence",M.apiKey,O),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?kt._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,l.Z)(function*(){if(_.persistence===p)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new zi(ie(At),p,w);const M=(yield Promise.all(_.map(function(){var rt=(0,l.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let O=M[0]||ie(At);const Q=Xn(w,p.config.apiKey,p.name);let ge=null;for(const rt of _)try{const wt=yield rt._get(Q);if(wt){const bt=kt._fromJSON(p,wt);rt!==O&&(ge=bt),O=rt;break}}catch(wt){}const Ge=M.filter(rt=>rt._shouldAllowMigration);return O._shouldAllowMigration&&Ge.length?(O=Ge[0],ge&&(yield O._set(Q,ge.toJSON())),yield Promise.all(_.map(function(){var rt=(0,l.Z)(function*(wt){if(wt!==O)try{yield wt._remove(Q)}catch(bt){}});return function(wt){return rt.apply(this,arguments)}}())),new zi(O,p,w)):new zi(O,p,w)})()}}function jl(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ei(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ka(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ts(p))return"Blackberry";if(ti(p))return"Webos";if(Hl(p))return"Safari";if((p.includes("chrome/")||Qa(p))&&!p.includes("edge/"))return"Chrome";if(qi(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Ka(y=(0,L.z$)()){return/firefox\//i.test(y)}function Hl(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Qa(y=(0,L.z$)()){return/crios\//i.test(y)}function ei(y=(0,L.z$)()){return/iemobile/i.test(y)}function qi(y=(0,L.z$)()){return/android/i.test(y)}function Ts(y=(0,L.z$)()){return/blackberry/i.test(y)}function ti(y=(0,L.z$)()){return/webos/i.test(y)}function ur(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)}function Qs(y=(0,L.z$)()){return ur(y)||qi(y)||ti(y)||Ts(y)||/windows phone/i.test(y)||ei(y)}function oa(y,p=[]){let _;switch(y){case"Browser":_=jl((0,L.z$)());break;case"Worker":_=`${jl((0,L.z$)())}-${y}`;break;default:_=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${he.SDK_VERSION}/${w}`}class dr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const w=O=>new Promise((Q,ge)=>{try{Q(p(O))}catch(Ge){ge(Ge)}});w.onAbort=_,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===p)return;const w=[];try{for(const M of _.queue)yield M(p),M.onAbort&&w.push(M.onAbort)}catch(M){w.reverse();for(const O of w)try{O()}catch(Q){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M.message})}})()}}class Xe{constructor(p,_,w){this.app=p,this.heartbeatServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cn(this),this.idTokenSubscription=new cn(this),this.beforeStateQueue=new dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,_){var w=this;return _&&(this._popupRedirectResolver=ie(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,O;if(!w._deleted&&(w.persistenceManager=yield zi.create(w,p),!w._deleted)){if(null===(M=w._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(Q){}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,l.Z)(function*(){var w;const M=yield _.assertedPersistence.getCurrentUser();let O=M,Q=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ge=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Ge=null==O?void 0:O._redirectEventId,rt=yield _.tryRedirectSignIn(p);(!ge||ge===Ge)&&(null==rt?void 0:rt.user)&&(O=rt.user,Q=!0)}if(!O)return _.directlySetCurrentUser(null);if(!O._redirectEventId){if(Q)try{yield _.beforeStateQueue.runMiddleware(O)}catch(ge){O=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ge))}return O?_.reloadAndSetCurrentUserOrClear(O):_.directlySetCurrentUser(null)}return $(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===O._redirectEventId?_.directlySetCurrentUser(O):_.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch(M){yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,l.Z)(function*(){try{yield ki(p)}catch(w){if("auth/network-request-failed"!==w.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function tt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,l.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&$(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(p,_=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&$(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(ie(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,_,w){return this.registerStateListener(this.authStateSubscription,p,_,w)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,w){return this.registerStateListener(this.idTokenSubscription,p,_,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var w=this;return(0,l.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=p&&ie(p)||_._popupRedirectResolver;$(w,_,"argument-error"),_.redirectPersistenceManager=yield zi.create(_,[ie(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,l.Z)(function*(){var w,M;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,l.Z)(function*(){if(p===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,w,M){if(this._deleted)return()=>{};const O="function"==typeof _?_:_.next.bind(_),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return $(Q,this,"internal-error"),Q.then(()=>O(this.currentUser)),"function"==typeof _?p.addObserver(_,w,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==p&&(_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh()),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=oa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var _;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function yt(y){return(0,L.m9)(y)}class cn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function as(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function ls(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Gr{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Ce("not implemented")}_getIdTokenResponse(p){return Ce("not implemented")}_linkToIdToken(p,_){return Ce("not implemented")}_getReauthenticationResolver(p){return Ce("not implemented")}}function Vn(y,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(y,p){return Ht(y,"POST","/v1/accounts:resetPassword",Qt(y,p))})).apply(this,arguments)}function Xa(y,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,l.Z)(function*(y,p){return Ht(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Gl(y,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(y,p){return Ht(y,"POST","/v1/accounts:update",Qt(y,p))})).apply(this,arguments)}function Co(){return(Co=(0,l.Z)(function*(y,p){return $i(y,"POST","/v1/accounts:signInWithPassword",Qt(y,p))})).apply(this,arguments)}function eo(y,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(y,p){return Ht(y,"POST","/v1/accounts:sendOobCode",Qt(y,p))})).apply(this,arguments)}function hn(y,p){return $l.apply(this,arguments)}function $l(){return($l=(0,l.Z)(function*(y,p){return eo(y,p)})).apply(this,arguments)}function el(y,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(y,p){return eo(y,p)})).apply(this,arguments)}function Ar(y,p){return zl.apply(this,arguments)}function zl(){return(zl=(0,l.Z)(function*(y,p){return eo(y,p)})).apply(this,arguments)}function Md(y,p){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(y,p){return eo(y,p)})).apply(this,arguments)}function ou(){return(ou=(0,l.Z)(function*(y,p){return $i(y,"POST","/v1/accounts:signInWithEmailLink",Qt(y,p))})).apply(this,arguments)}function xd(){return(xd=(0,l.Z)(function*(y,p){return $i(y,"POST","/v1/accounts:signInWithEmailLink",Qt(y,p))})).apply(this,arguments)}class Ni extends Gr{constructor(p,_,w,M=null){super("password",w),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new Ni(p,_,"password")}static _fromEmailAndCode(p,_,w=null){return new Ni(p,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function xn(y,p){return Co.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function us(y,p){return ou.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Xa(p,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function ql(y,p){return xd.apply(this,arguments)}(p,{idToken:_,email:w._email,oobCode:w._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function to(y,p){return kd.apply(this,arguments)}function kd(){return(kd=(0,l.Z)(function*(y,p){return $i(y,"POST","/v1/accounts:signInWithIdp",Qt(y,p))})).apply(this,arguments)}class Ss extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Ss(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Ae("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=_,O=(0,ae._T)(_,["providerId","signInMethod"]);if(!w||!M)return null;const Q=new Ss(w,M);return Q.idToken=O.idToken||void 0,Q.accessToken=O.accessToken||void 0,Q.secret=O.secret,Q.nonce=O.nonce,Q.pendingToken=O.pendingToken||null,Q}_getIdTokenResponse(p){return to(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,to(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,to(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,L.xO)(_)}return p}}function im(y,p){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,l.Z)(function*(y,p){return Ht(y,"POST","/v1/accounts:sendVerificationCode",Qt(y,p))})).apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(y,p){return $i(y,"POST","/v1/accounts:signInWithPhoneNumber",Qt(y,p))})).apply(this,arguments)}function Nd(){return(Nd=(0,l.Z)(function*(y,p){const _=yield $i(y,"POST","/v1/accounts:signInWithPhoneNumber",Qt(y,p));if(_.temporaryProof)throw os(y,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const sm={USER_NOT_FOUND:"user-not-found"};function Od(){return(Od=(0,l.Z)(function*(y,p){return $i(y,"POST","/v1/accounts:signInWithPhoneNumber",Qt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),sm)})).apply(this,arguments)}class aa extends Gr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new aa({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new aa({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function au(y,p){return no.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function rm(y,p){return Nd.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function om(y,p){return Od.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:w,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:O}=p;return w||_||M||O?new aa({verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:O}):null}}class Wl{constructor(p){var _,w,M,O,Q,ge;const Ge=(0,L.zd)((0,L.pd)(p)),rt=null!==(_=Ge.apiKey)&&void 0!==_?_:null,wt=null!==(w=Ge.oobCode)&&void 0!==w?w:null,bt=function Rf(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ge.mode)&&void 0!==M?M:null);$(rt&&wt&&bt,"argument-error"),this.apiKey=rt,this.operation=bt,this.code=wt,this.continueUrl=null!==(O=Ge.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Q=Ge.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(ge=Ge.tenantId)&&void 0!==ge?ge:null}static parseLink(p){const _=function tl(y){const p=(0,L.zd)((0,L.pd)(y)).link,_=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||_||p||y}(p);try{return new Wl(_)}catch(w){return null}}}let Fd=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(_,w){return Ni._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const M=Wl.parseLink(w);return $(M,"argument-error"),Ni._fromEmailAndCode(_,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Oi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Eo extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ds extends Eo{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return $("providerId"in _&&"signInMethod"in _,"argument-error"),Ss._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return $(p.idToken||p.accessToken,"argument-error"),Ss._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ds.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ds.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:O,nonce:Q,providerId:ge}=p;if(!w&&!M&&!_&&!O||!ge)return null;try{return new ds(ge)._credential({idToken:_,accessToken:w,nonce:Q,pendingToken:O})}catch(Ge){return null}}}let la=(()=>{class y extends Eo{constructor(){super("facebook.com")}static credential(_){return Ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ld=(()=>{class y extends Eo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:M}=_;if(!w&&!M)return null;try{return y.credential(w,M)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Nf=(()=>{class y extends Eo{constructor(){super("github.com")}static credential(_){return Ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class To extends Gr{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return to(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,to(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,to(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:O}=_;return w&&M&&O&&w===M?new To(w,O):null}static _create(p,_){return new To(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wi extends Oi{constructor(p){$(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Wi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Wi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=To.fromJSON(p);return $(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:w}=p;if(!_||!w)return null;try{return To._create(w,_)}catch(M){return null}}}let Vd=(()=>{class y extends Eo{constructor(){super("twitter.com")}static credential(_,w){return Ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=_;if(!w||!M)return null;try{return y.credential(w,M)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function bi(y,p){return ua.apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(y,p){return $i(y,"POST","/v1/accounts:signUp",Qt(y,p))})).apply(this,arguments)}class Mr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,w,M=!1){return(0,l.Z)(function*(){const O=yield kt._fromIdTokenResponse(p,w,M),Q=lu(w);return new Mr({user:O,providerId:Q,_tokenResponse:w,operationType:_})})()}static _forOperation(p,_,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=lu(w);return new Mr({user:p,providerId:M,_tokenResponse:w,operationType:_})})()}}function lu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function cu(){return(cu=(0,l.Z)(function*(y){var p;const _=yt(y);if(yield _._initializationPromise,null===(p=_.currentUser)||void 0===p?void 0:p.isAnonymous)return new Mr({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield bi(_,{returnSecureToken:!0}),M=yield Mr._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class da extends L.ZR{constructor(p,_,w,M){var O;super(_.code,_.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,da.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,_,w,M){return new da(p,_,w,M)}}function uu(y,p,_,w){return("reauthenticate"===p?_._getReauthenticationResolver(y):_._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?da._fromErrorAndOperation(y,O,p,w):O})}function hs(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function fn(){return(fn=(0,l.Z)(function*(y,p){const _=(0,L.m9)(y);yield sn(!0,_,p);const{providerUserInfo:w}=yield Mn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=hs(w||[]);return _.providerData=_.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function nl(y,p){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(y,p,_=!1){const w=yield Mi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),_);return Mr._forOperation(y,"link",w)})).apply(this,arguments)}function sn(y,p,_){return il.apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(y,p,_){yield ki(p);const M=!1===y?"provider-already-linked":"no-such-provider";$(hs(p.providerData).has(_)===y,p.auth,M)})).apply(this,arguments)}function Yl(y,p){return io.apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(y,p,_=!1){const{auth:w}=y,M="reauthenticate";try{const O=yield Mi(y,uu(w,M,p,y),_);$(O.idToken,w,"internal-error");const Q=gt(O.idToken);$(Q,w,"internal-error");const{sub:ge}=Q;return $(y.uid===ge,w,"user-mismatch"),Mr._forOperation(y,M,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ae(w,"user-mismatch"),O}})).apply(this,arguments)}function wi(y,p){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(y,p,_=!1){const w="signIn",M=yield uu(y,w,p),O=yield Mr._fromIdTokenResponse(y,w,M);return _||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function wn(y,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(y,p){return wi(yt(y),p)})).apply(this,arguments)}function Di(y,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,l.Z)(function*(y,p){const _=(0,L.m9)(y);return yield sn(!1,_,p.providerId),nl(_,p)})).apply(this,arguments)}function Is(y,p){return rl.apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(y,p){return Yl((0,L.m9)(y),p)})).apply(this,arguments)}function $r(y,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(y,p){return $i(y,"POST","/v1/accounts:signInWithCustomToken",Qt(y,p))})).apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(y,p){const _=yt(y),w=yield $r(_,{token:p,returnSecureToken:!0}),M=yield Mr._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class ro{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?hu._fromServerResponse(p,_):Ae(p,"internal-error")}}class hu extends ro{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new hu(_)}}function sl(y,p,_){var w;$((null===(w=_.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),$(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&($(_.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&($(_.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Zl(){return(Zl=(0,l.Z)(function*(y,p,_){const w=(0,L.m9)(y),M={requestType:"PASSWORD_RESET",email:p};_&&sl(w,M,_),yield el(w,M)})).apply(this,arguments)}function pu(){return(pu=(0,l.Z)(function*(y,p,_){yield Vn((0,L.m9)(y),{oobCode:p,newPassword:_})})).apply(this,arguments)}function xe(){return(xe=(0,l.Z)(function*(y,p){yield Gl((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function Gt(y,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(y,p){const _=(0,L.m9)(y),w=yield Vn(_,{oobCode:p}),M=w.requestType;switch($(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$(w.mfaInfo,_,"internal-error");default:$(w.email,_,"internal-error")}let O=null;return w.mfaInfo&&(O=ro._fromServerResponse(yt(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function Ql(){return(Ql=(0,l.Z)(function*(y,p){const{data:_}=yield Gt((0,L.m9)(y),p);return _.email})).apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(y,p,_){const w=yt(y),M=yield bi(w,{returnSecureToken:!0,email:p,password:_}),O=yield Mr._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function _u(){return(_u=(0,l.Z)(function*(y,p,_){const w=(0,L.m9)(y),M={requestType:"EMAIL_SIGNIN",email:p};$(_.handleCodeInApp,w,"argument-error"),_&&sl(w,M,_),yield Ar(w,M)})).apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(y,p,_){const w=(0,L.m9)(y),M=Fd.credentialWithLink(p,_||Le());return $(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),wn(w,M)})).apply(this,arguments)}function Pi(y,p){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(y,p){return Ht(y,"POST","/v1/accounts:createAuthUri",Qt(y,p))})).apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:vt()?Le():"http://localhost"},{signinMethods:M}=yield Pi((0,L.m9)(y),w);return M||[]})).apply(this,arguments)}function yu(){return(yu=(0,l.Z)(function*(y,p){const _=(0,L.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&sl(_.auth,M,p);const{email:O}=yield hn(_.auth,M);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function ec(){return(ec=(0,l.Z)(function*(y,p,_){const w=(0,L.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};_&&sl(w.auth,O,_);const{email:Q}=yield Md(w.auth,O);Q!==y.email&&(yield y.reload())})).apply(this,arguments)}function vu(y,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(y,p){return Ht(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function nc(){return(nc=(0,l.Z)(function*(y,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const w=(0,L.m9)(y),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Q=yield Mi(w,vu(w.auth,O));w.displayName=Q.displayName||null,w.photoURL=Q.photoUrl||null;const ge=w.providerData.find(({providerId:Ge})=>"password"===Ge);ge&&(ge.displayName=w.displayName,ge.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Q)})).apply(this,arguments)}function ic(y,p,_){return xo.apply(this,arguments)}function xo(){return(xo=(0,l.Z)(function*(y,p,_){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),_&&(O.password=_);const Q=yield Mi(y,Xa(w,O));yield y._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class ga{constructor(p,_,w={}){this.isNewUser=p,this.providerId=_,this.profile=w}}class $d extends ga{constructor(p,_,w,M){super(p,_,w),this.username=M}}class rc extends ga{constructor(p,_){super(p,"facebook.com",_)}}class fr extends $d{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Pf extends ga{constructor(p,_){super(p,"google.com",_)}}class bu extends $d{constructor(p,_,w){super(p,"twitter.com",_,w)}}function gi(y){const{user:p,_tokenResponse:_}=y;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Gd(y){var p,_;if(!y)return null;const{providerId:w}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const Q=null===(_=null===(p=gt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Q)return new ga(O,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!w)return null;switch(w){case"facebook.com":return new rc(O,M);case"github.com":return new fr(O,M);case"google.com":return new Pf(O,M);case"twitter.com":return new bu(O,M,y.screenName||null);case"custom":case"anonymous":return new ga(O,null);default:return new ga(O,w,M)}}(_)}class Ms{constructor(p,_){this.type=p,this.credential=_}static _fromIdtoken(p){return new Ms("enroll",p)}static _fromMfaPendingCredential(p){return new Ms("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,w;if(null==p?void 0:p.multiFactorSession){if(null===(_=p.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ms._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Ms._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ro{constructor(p,_,w){this.session=p,this.hints=_,this.signInResolver=w}static _fromError(p,_){const w=yt(p),M=_.customData._serverResponse,O=(M.mfaInfo||[]).map(ge=>ro._fromServerResponse(w,ge));$(M.mfaPendingCredential,w,"internal-error");const Q=Ms._fromMfaPendingCredential(M.mfaPendingCredential);return new Ro(Q,O,function(){var ge=(0,l.Z)(function*(Ge){const rt=yield Ge._process(w,Q);delete M.mfaInfo,delete M.mfaPendingCredential;const wt=Object.assign(Object.assign({},M),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(_.operationType){case"signIn":const bt=yield Mr._fromIdTokenResponse(w,_.operationType,wt);return yield w._updateCurrentUser(bt.user),bt;case"reauthenticate":return $(_.user,w,"internal-error"),Mr._forOperation(_.user,_.operationType,wt);default:Ae(w,"internal-error")}});return function(Ge){return ge.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,l.Z)(function*(){return _.signInResolver(p)})()}}function Wd(y,p){return Ht(y,"POST","/v2/accounts/mfaEnrollment:start",Qt(y,p))}class ma{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>ro._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ma(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Ms._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,_){var w=this;return(0,l.Z)(function*(){const M=p,O=yield w.getSession(),Q=yield Mi(w.user,M._process(w.user.auth,O,_));return yield w.user._updateTokensIfNecessary(Q),w.user.reload()})()}unenroll(p){var _=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,M=yield _.user.getIdToken(),O=yield Mi(_.user,function No(y,p){return Ht(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(y,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Q})=>Q!==w),yield _.user._updateTokensIfNecessary(O);try{yield _.user.reload()}catch(Q){if("auth/user-token-expired"!==Q.code)throw Q}})()}}const sc=new WeakMap,gs="__sak";class al{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(gs,"1"),this.storage.removeItem(gs),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ct=(()=>{class y extends al{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function um(){const y=(0,L.z$)();return Hl(y)||ur(y)}()&&function vi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Qs(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),O=this.localCache[w];M!==O&&_(w,O,M)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ge,Ge,rt)=>{this.notifyListeners(ge,rt)});const M=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(M);if(_.newValue!==ge)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!w)return}const O=()=>{const ge=this.storage.getItem(M);!w&&this.localCache[M]===ge||this.notifyListeners(M,ge)},Q=this.storage.getItem(M);!function Ja(){return(0,L.w1)()&&10===document.documentMode}()||Q===_.newValue||_.newValue===_.oldValue?O():setTimeout(O,10)}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const O of Array.from(M))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var M=()=>super._set,O=this;return(0,l.Z)(function*(){yield M().call(O,_,w),O.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,M=this;return(0,l.Z)(function*(){const O=yield w().call(M,_);return M.localCache[_]=JSON.stringify(O),O})()}_remove(_){var w=()=>super._remove,M=this;return(0,l.Z)(function*(){yield w().call(M,_),delete M.localCache[_]})()}}return y.type="LOCAL",y})(),ln=(()=>{class y extends al{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return y.type="SESSION",y})();let Yd=(()=>{class y{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(O=>O.isListeningto(_));if(w)return w;const M=new y(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const M=_,{eventId:O,eventType:Q,data:ge}=M.data,Ge=w.handlersMap[Q];if(!(null==Ge?void 0:Ge.size))return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:Q});const rt=Array.from(Ge).map(function(){var bt=(0,l.Z)(function*(oi){return oi(M.origin,ge)});return function(oi){return bt.apply(this,arguments)}}()),wt=yield function Cn(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return p.apply(this,arguments)}}()))}(rt);M.ports[0].postMessage({status:"done",eventId:O,eventType:Q,response:wt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function _a(y="",p=10){let _="";for(let w=0;w<p;w++)_+=Math.floor(10*Math.random());return y+_}class oo{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,w=50){var M=this;return(0,l.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Q,ge;return new Promise((Ge,rt)=>{const wt=_a("",20);O.port1.start();const bt=setTimeout(()=>{rt(new Error("unsupported_event"))},w);ge={messageChannel:O,onMessage(oi){const _r=oi;if(_r.data.eventId===wt)switch(_r.data.status){case"ack":clearTimeout(bt),Q=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Ge(_r.data.response);break;default:clearTimeout(bt),clearTimeout(Q),rt(new Error("invalid_response"))}}},M.handlers.add(ge),O.port1.addEventListener("message",ge.onMessage),M.target.postMessage({eventType:p,eventId:wt,data:_},[O.port2])}).finally(()=>{ge&&M.removeMessageHandler(ge)})})()}}function zn(){return window}function ya(){return void 0!==zn().WorkerGlobalScope&&"function"==typeof zn().importScripts}function mt(){return(mt=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const oc="firebaseLocalStorageDb",en="firebaseLocalStorage",va="fbase_key";class ks{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Fi(y,p){return y.transaction([en],p?"readwrite":"readonly").objectStore(en)}function Li(){const y=indexedDB.open(oc,1);return new Promise((p,_)=>{y.addEventListener("error",()=>{_(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(en,{keyPath:va})}catch(M){_(M)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(en)?p(w):(w.close(),yield function ba(){const y=indexedDB.deleteDatabase(oc);return new ks(y).toPromise()}(),p(yield Li()))}))})}function ms(y,p,_){return ll.apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(y,p,_){const w=Fi(y,!0).put({[va]:p,value:_});return new ks(w).toPromise()})).apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(y,p){const _=Fi(y,!1).get(p),w=yield new ks(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function lc(y,p){const _=Fi(y,!0).delete(p);return new ks(_).toPromise()}const Zi=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Li()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const O=yield w._openDb();return yield _(O)}catch(O){if(M++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return ya()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Yd._getInstance(function Kd(){return ya()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(M,O){return{keyProcessed:(yield _._poll()).includes(O.key)}});return function(M,O){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,M;if(_.activeServiceWorker=yield function Wr(){return mt.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new oo(_.activeServiceWorker);const O=yield _.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=O[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Zd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Li();return yield ms(_,gs,"1"),yield lc(_,gs),!0}catch(_){}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(O=>ms(O,_,w)),M.localCache[_]=w,M.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const M=yield w._withRetries(O=>function wa(y,p){return Yr.apply(this,arguments)}(O,_));return w.localCache[_]=M,M})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(M=>lc(M,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(Q=>{const ge=Fi(Q,!1).getAll();return new ks(ge).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:Q,value:ge}of w)O.add(Q),JSON.stringify(_.localCache[Q])!==JSON.stringify(ge)&&(_.notifyListeners(Q,ge),M.push(Q));for(const Q of Object.keys(_.localCache))_.localCache[Q]&&!O.has(Q)&&(_.notifyListeners(Q,null),M.push(Q));return M})()}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const O of Array.from(M))O(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function pr(y,p){return Ht(y,"POST","/v2/accounts/mfaSignIn:start",Qt(y,p))}function uc(){return(uc=(0,l.Z)(function*(y){return(yield Ht(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vn(y){return new Promise((p,_)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=M=>{const O=De("internal-error");O.customData=M,_(O)},w.type="text/javascript",w.charset="UTF-8",function kn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function ri(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Rn=1e12;class Zr{constructor(p){this.auth=p,this.counter=Rn,this._widgets=new Map}render(p,_){const w=this.counter;return this._widgets.set(w,new bn(p,this.auth.name,_||{})),this.counter++,w}reset(p){var _;const w=p||Rn;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Rn))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(p||Rn))||void 0===w||w.execute(),""})()}}class bn{constructor(p,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;$(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Oo(y){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dc=ri("rcb"),En=new an(3e4,6e4);class hm{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zn().grecaptcha}load(p,_=""){return $(function fm(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(_),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(zn().grecaptcha):new Promise((w,M)=>{const O=zn().setTimeout(()=>{M(De(p,"network-request-failed"))},En.get());zn()[dc]=()=>{zn().clearTimeout(O),delete zn()[dc];const ge=zn().grecaptcha;if(!ge)return void M(De(p,"internal-error"));const Ge=ge.render;ge.render=(rt,wt)=>{const bt=Ge(rt,wt);return this.counter++,bt},this.hostLanguage=_,w(ge)},vn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:dc,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(O),M(De(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!zn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Po{load(p){return(0,l.Z)(function*(){return new Zr(p)})()}clearedOneInstance(){}}const Wn="recaptcha",Ff={theme:"light",type:"image"};class ao{constructor(p,_=Object.assign({},Ff),w){this.parameters=_,this.type=Wn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yt(w),this.isInvisible="invisible"===this.parameters.size,$("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;$(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Po:new hm,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(_)||new Promise(O=>{const Q=ge=>{!ge||(p.tokenChangeListeners.delete(Q),O(ge))};p.tokenChangeListeners.add(Q),p.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){$(!this.parameters.sitekey,this.auth,"argument-error"),$(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof p)p(_);else if("string"==typeof p){const w=zn()[p];"function"==typeof w&&w(_)}}}assertNotDestroyed(){$(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){$(vt()&&!ya(),p.auth,"internal-error"),yield function Fo(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function Rs(y){return uc.apply(this,arguments)}(p.auth);$(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return $(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ca{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=aa._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function ul(){return(ul=(0,l.Z)(function*(y,p,_){const w=yt(y),M=yield gr(w,p,(0,L.m9)(_));return new Ca(M,O=>wn(w,O))})).apply(this,arguments)}function Qd(){return(Qd=(0,l.Z)(function*(y,p,_){const w=(0,L.m9)(y);yield sn(!1,w,"phone");const M=yield gr(w.auth,p,(0,L.m9)(_));return new Ca(M,O=>Di(w,O))})).apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(y,p,_){const w=(0,L.m9)(y),M=yield gr(w.auth,p,(0,L.m9)(_));return new Ca(M,O=>Is(w,O))})).apply(this,arguments)}function gr(y,p,_){return dl.apply(this,arguments)}function dl(){return(dl=(0,l.Z)(function*(y,p,_){var w;const M=yield _.verify();try{let O;if($("string"==typeof M,y,"argument-error"),$(_.type===Wn,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Q=O.session;if("phoneNumber"in O)return $("enroll"===Q.type,y,"internal-error"),(yield Wd(y,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{$("signin"===Q.type,y,"internal-error");const ge=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return $(ge,y,"missing-multi-factor-info"),(yield pr(y,{mfaPendingCredential:Q.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield im(y,{phoneNumber:O.phoneNumber,recaptchaToken:M});return Q}}finally{_._reset()}})).apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(y,p){yield nl((0,L.m9)(y),p)})).apply(this,arguments)}let lo=(()=>{class y{constructor(_){this.providerId=y.PROVIDER_ID,this.auth=yt(_)}verifyPhoneNumber(_,w){return gr(this.auth,_,(0,L.m9)(w))}static credential(_,w){return aa._fromVerification(_,w)}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:M}=_;return w&&M?aa._fromTokenResponse(w,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Os(y,p){return p?ie(p):($(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class hl extends Gr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return to(p,this._buildIdpRequest())}_linkToIdToken(p,_){return to(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return to(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Du(y){return wi(y.auth,new hl(y),y.bypassAuthState)}function Bt(y){const{auth:p,user:_}=y;return $(_,p,"internal-error"),Yl(_,new hl(y),y.bypassAuthState)}function Vf(y){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(y){const{auth:p,user:_}=y;return $(_,p,"internal-error"),nl(_,new hl(y),y.bypassAuthState)})).apply(this,arguments)}class fc{constructor(p,_,w,M,O=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,l.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:O,tenantId:Q,error:ge,type:Ge}=p;if(ge)return void _.reject(ge);const rt={auth:_.auth,requestUri:w,sessionId:M,tenantId:Q||void 0,postBody:O||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ge)(rt))}catch(wt){_.reject(wt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Du;case"linkViaPopup":case"linkViaRedirect":return Vf;case"reauthViaPopup":case"reauthViaRedirect":return Bt;default:Ae(this.auth,"internal-error")}}resolve(p){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const co=new an(2e3,1e4);function Ps(){return(Ps=(0,l.Z)(function*(y,p,_){const w=yt(y);qe(y,p,Oi);const M=Os(w,_);return new pc(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(y,p,_){const w=(0,L.m9)(y);qe(w.auth,p,Oi);const M=Os(w.auth,_);return new pc(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(y,p,_){const w=(0,L.m9)(y);qe(w.auth,p,Oi);const M=Os(w.auth,_);return new pc(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let pc=(()=>{class y extends fc{constructor(_,w,M,O,Q){super(_,w,O,Q),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return $(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){J(1===_.filter.length,"Popup operations only handle one event");const w=_a();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(De(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,M;this.pollId=(null===(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,co.get())};_()}}return y.currentPopupAction=null,y})();const Tn=new Map;class Or extends fc{constructor(p,_,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=Tn.get(_.auth._key());if(!w){try{const O=(yield function Bf(y,p){return Bo.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;w=()=>Promise.resolve(O)}catch(M){w=()=>Promise.reject(M)}Tn.set(_.auth._key(),w)}return _.bypassAuthState||Tn.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,_().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Bo(){return(Bo=(0,l.Z)(function*(y,p){const _=B(p),w=R(y);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(_));return yield w._remove(_),M})).apply(this,arguments)}function Ea(y,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(y,p){return R(y)._set(B(p),"true")})).apply(this,arguments)}function S(y,p){Tn.set(y._key(),p)}function R(y){return ie(y._redirectPersistence)}function B(y){return Xn("pendingRedirect",y.config.apiKey,y.name)}function Ne(){return(Ne=(0,l.Z)(function*(y,p,_){const w=yt(y);qe(y,p,Oi);const M=Os(w,_);return yield Ea(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(y,p,_){const w=(0,L.m9)(y);qe(w.auth,p,Oi);const M=Os(w.auth,_);yield Ea(M,w.auth);const O=yield mr(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(y,p,_){const w=(0,L.m9)(y);qe(w.auth,p,Oi);const M=Os(w.auth,_);yield sn(!1,w,p.providerId),yield Ea(M,w.auth);const O=yield mr(w);return M._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(y,p){return yield yt(y)._initializationPromise,Fs(y,p,!1)})).apply(this,arguments)}function Fs(y,p){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(y,p,_=!1){const w=yt(y),M=Os(w,p),Q=yield new Or(w,M,_).execute();return Q&&!_&&(delete Q.user._redirectEventId,yield w._persistUserIfCurrent(Q.user),yield w._setRedirectUser(null,p)),Q})).apply(this,arguments)}function mr(y){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,l.Z)(function*(y){const p=_a(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class eh{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(_=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Eu(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cu(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var w;if(p.error&&!Cu(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(De(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const w=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gc(p))}saveEventToCache(p){this.cachedEventUids.add(gc(p)),this.lastProcessedEventTime=Date.now()}}function gc(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Cu({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Uf(y){return jf.apply(this,arguments)}function jf(){return(jf=(0,l.Z)(function*(y,p={}){return Ht(y,"GET","/v1/projects",p)})).apply(this,arguments)}const By=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uo=/^https?/;function Hf(){return(Hf=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Uf(y);for(const _ of p)try{if(Gw(_))return}catch(w){}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function Gw(y){const p=Le(),{protocol:_,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const Q=new URL(y);return""===Q.hostname&&""===w?"chrome-extension:"===_&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Q.hostname===w}if(!Uo.test(_))return!1;if(By.test(y))return w===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const gm=new an(3e4,6e4);function mm(){const y=zn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let _=0;_<y.CP.length;_++)y.CP[_]=null}let mc=null;function Gf(y){return mc=mc||function Uy(y){return new Promise((p,_)=>{var w,M,O;function Q(){mm(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{mm(),_(De(y,"network-request-failed"))},timeout:gm.get()})}if(null===(M=null===(w=zn().gapi)||void 0===w?void 0:w.iframes)||void 0===M?void 0:M.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=zn().gapi)||void 0===O?void 0:O.load)){const ge=ri("iframefcb");return zn()[ge]=()=>{gapi.load?Q():_(De(y,"network-request-failed"))},vn(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Ge=>_(Ge))}Q()}}).catch(p=>{throw mc=null,p})}(y),mc}const jo=new an(5e3,15e3),fl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _c(y){const p=y.config;$(p.authDomain,y,"auth-domain-config-required");const _=p.emulator?Fn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:he.SDK_VERSION},M=jy.get(y.config.apiHost);M&&(w.eid=M);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${_}?${(0,L.xO)(w).slice(1)}`}function yc(){return yc=(0,l.Z)(function*(y){const p=yield Gf(y),_=zn().gapi;return $(_,y,"internal-error"),p.open({where:document.body,url:_c(y),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fl,dontclear:!0},w=>new Promise(function(){var M=(0,l.Z)(function*(O,Q){yield w.restyle({setHideOnLeave:!1});const ge=De(y,"network-request-failed"),Ge=zn().setTimeout(()=>{Q(ge)},jo.get());function rt(){zn().clearTimeout(Ge),O(w)}w.ping(rt).then(rt,()=>{Q(ge)})});return function(O,Q){return M.apply(this,arguments)}}()))}),yc.apply(this,arguments)}const vc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ih{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Ls(y,p,_,w,M,O){$(y.config.authDomain,y,"auth-domain-config-required"),$(y.config.apiKey,y,"invalid-api-key");const Q={apiKey:y.config.apiKey,appName:y.name,authType:_,redirectUrl:w,v:he.SDK_VERSION,eventId:M};if(p instanceof Oi){p.setDefaultLanguage(y.languageCode),Q.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ge,rt]of Object.entries(O||{}))Q[Ge]=rt}if(p instanceof Eo){const Ge=p.getScopes().filter(rt=>""!==rt);Ge.length>0&&(Q.scopes=Ge.join(","))}y.tenantId&&(Q.tid=y.tenantId);const ge=Q;for(const Ge of Object.keys(ge))void 0===ge[Ge]&&delete ge[Ge];return`${function $o({config:y}){return y.emulator?Fn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(ge).slice(1)}`}const Aa="webStorageSupport";class Yf extends class _m{constructor(p){this.factorId=p}_process(p,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,w);case"signin":return this._finalizeSignIn(p,_.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Yf(p)}_finalizeEnroll(p,_,w){return function cm(y,p){return Ht(y,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(y,p))}(p,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function qn(y,p){return Ht(y,"POST","/v2/accounts/mfaSignIn:finalize",Qt(y,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zf=(()=>{class y{constructor(){}static assertion(_){return Yf._fromCredential(_)}}return y.FACTOR_ID="phone",y})();var Kf="@firebase/auth";class qy{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(w=>{var M;p((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zo(){return window}function Kr(){return(Kr=(0,l.Z)(function*(y,p,_){var w;const{BuildInfo:M}=zo();J(p.sessionId,"AuthEvent did not contain a session ID");const O=yield bc(p.sessionId),Q={};return ur()?Q.ibi=M.packageName:qi()?Q.apn=M.packageName:Ae(y,"operation-not-supported-in-this-environment"),M.displayName&&(Q.appDisplayName=M.displayName),Q.sessionId=O,Ls(y,_,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,Q)})).apply(this,arguments)}function sh(){return(sh=(0,l.Z)(function*(y){const{BuildInfo:p}=zo(),_={};ur()?_.iosBundleId=p.packageName:qi()?_.androidPackageName=p.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield Uf(y,_)})).apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(y,p,_){const{cordova:w}=zo();let M=()=>{};try{yield new Promise((O,Q)=>{let ge=null;function Ge(){var bt;O();const oi=null===(bt=w.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof oi&&oi(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function rt(){ge||(ge=window.setTimeout(()=>{Q(De(y,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===(null==document?void 0:document.visibilityState)&&rt()}p.addPassiveListener(Ge),document.addEventListener("resume",rt,!1),qi()&&document.addEventListener("visibilitychange",wt,!1),M=()=>{p.removePassiveListener(Ge),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",wt,!1),ge&&window.clearTimeout(ge)}})}finally{M()}})).apply(this,arguments)}function bc(y){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,l.Z)(function*(y){const p=Jf(y),_=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(_)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Jf(y){if(J(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),_=new Uint8Array(p);for(let w=0;w<y.length;w++)_[w]=y.charCodeAt(w);return _}!function rh(y){(0,he._registerComponent)(new se.wA("auth",(p,{options:_})=>{const w=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:O,authDomain:Q}=w.options;return((ge,Ge)=>{$(O&&!O.includes(":"),"invalid-api-key",{appName:ge.name}),$(!(null==Q?void 0:Q.includes(":")),"argument-error",{appName:ge.name});const rt={apiKey:O,authDomain:Q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oa(y)},wt=new Xe(ge,Ge,rt);return function de(y,p){const _=(null==p?void 0:p.persistence)||[],w=(Array.isArray(_)?_:[_]).map(ie);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(wt,_),wt})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,w)=>{p.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new se.wA("auth-internal",p=>{const _=yt(p.getProvider("auth").getImmediate());return new qy(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(Kf,"0.20.1",function vm(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,he.registerVersion)(Kf,"0.20.1","esm2017")}("Browser");class zw extends eh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function wm(y){return pl.apply(this,arguments)}function pl(){return(pl=(0,l.Z)(function*(y){const p=yield ku()._get(gl(y));return p&&(yield ku()._remove(gl(y))),p})).apply(this,arguments)}function Wy(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function ku(){return ie(ct)}function gl(y){return Xn("authEvent",y.config.apiKey,y.name)}function Dc(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,..._]=y.split("?");return(0,L.zd)(_.join("?"))}function ml(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:De("no-auth-event")}}function lh(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Tm(y=(0,L.z$)()){return!("file:"!==lh()&&"ionic:"!==lh()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function uh(){try{const y=self.localStorage,p=_a();if(y)return y.setItem(p,"1"),y.removeItem(p),!function _l(y=(0,L.z$)()){return function Ma(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ji(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch(y){return dh()&&(0,L.hl)()}return!1}function dh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ci(){return(function ch(){return"http:"===lh()||"https:"===lh()}()||(0,L.ru)()||Tm())&&!function Qy(){return(0,L.b$)()||(0,L.UG)()}()&&uh()&&!dh()}function Cc(){return Tm()&&"undefined"!=typeof document}function np(){return(np=(0,l.Z)(function*(){return!!Cc()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Fr={LOCAL:"local",NONE:"none",SESSION:"session"},Ec=$,Tc="persistence";function hh(y){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,l.Z)(function*(y){yield y._initializationPromise;const p=xa(),_=Xn(Tc,y.config.apiKey,y.name);p&&p.setItem(_,y._getPersistence())})).apply(this,arguments)}function xa(){var y;try{return(null===(y=function ip(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const ev=$;class ka{constructor(){this.browserResolver=ie(class qf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ln,this._completeRedirectFn=Fs,this._overrideRedirectResult=S}_openPopup(p,_,w,M){var O=this;return(0,l.Z)(function*(){var Q;J(null===(Q=O.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const ge=Ls(p,_,w,Le(),M);return function Gy(y,p,_,w=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),Q=Math.max((window.screen.availWidth-w)/2,0).toString();let ge="";const Ge=Object.assign(Object.assign({},vc),{width:w.toString(),height:M.toString(),top:O,left:Q}),rt=(0,L.z$)().toLowerCase();_&&(ge=Qa(rt)?"_blank":_),Ka(rt)&&(p=p||"http://localhost",Ge.scrollbars="yes");const wt=Object.entries(Ge).reduce((oi,[_r,vl])=>`${oi}${_r}=${vl},`,"");if(function Do(y=(0,L.z$)()){var p;return ur(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(rt)&&"_self"!==ge)return function Su(y,p){const _=document.createElement("a");_.href=y,_.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(p||"",ge),new ih(null);const bt=window.open(p||"",ge,wt);$(bt,y,"popup-blocked");try{bt.focus()}catch(oi){}return new ih(bt)}(p,ge,_a())})()}_openRedirect(p,_,w,M){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(p),function xs(y){zn().location.href=y}(Ls(p,_,w,Le(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:O}=this.eventManagers[_];return M?Promise.resolve(M):(J(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(p){var _=this;return(0,l.Z)(function*(){const w=yield function Hy(y){return yc.apply(this,arguments)}(p),M=new eh(p);return w.register("authEvent",O=>($(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Aa,{type:Aa},M=>{var O;const Q=null===(O=null==M?void 0:M[0])||void 0===O?void 0:O[Aa];void 0!==Q&&_(!!Q),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Tu(y){return Hf.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Qs()||Hl()||ur()}}),this.cordovaResolver=ie(class Cm{constructor(){this._redirectPersistence=ln,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fs,this._overrideRedirectResult=S}_initialize(p){var _=this;return(0,l.Z)(function*(){const w=p._key();let M=_.eventManagers.get(w);return M||(M=new zw(p),_.eventManagers.set(w,M),_.attachCallbackListeners(p,M)),M})()}_openPopup(p){Ae(p,"operation-not-supported-in-this-environment")}_openRedirect(p,_,w,M){var O=this;return(0,l.Z)(function*(){!function $w(y){var p,_,w,M,O,Q,ge,Ge,rt,wt;const bt=zo();$("function"==typeof(null===(p=null==bt?void 0:bt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$(void 0!==(null===(_=null==bt?void 0:bt.BuildInfo)||void 0===_?void 0:_.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$("function"==typeof(null===(O=null===(M=null===(w=null==bt?void 0:bt.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(Ge=null===(ge=null===(Q=null==bt?void 0:bt.cordova)||void 0===Q?void 0:Q.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===Ge?void 0:Ge.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(wt=null===(rt=null==bt?void 0:bt.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===wt?void 0:wt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Q=yield O._initialize(p);yield Q.initialized(),Q.resetRedirect(),function T(){Tn.clear()}(),yield O._originValidation(p);const ge=function ah(y,p,_=null){return{type:p,eventId:_,urlResponse:null,sessionId:Wy(),postBody:null,tenantId:y.tenantId,error:De(y,"no-auth-event")}}(p,w,M);yield function wc(y,p){return ku()._set(gl(y),p)}(p,ge);const Ge=yield function Qf(y,p,_){return Kr.apply(this,arguments)}(p,ge,_),rt=yield function bm(y){const{cordova:p}=zo();return new Promise(_=>{p.plugins.browsertab.isAvailable(w=>{let M=null;w?p.plugins.browsertab.openUrl(y):M=p.InAppBrowser.open(y,function Ad(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),_(M)})})}(Ge);return function oh(y,p,_){return qo.apply(this,arguments)}(p,Q,rt)})()}_isIframeWebStorageSupported(p,_){throw new Error("Method not implemented.")}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Au(y){return sh.apply(this,arguments)}(p)),this.originValidationPromises[_]}attachCallbackListeners(p,_){const{universalLinks:w,handleOpenURL:M,BuildInfo:O}=zo(),Q=setTimeout((0,l.Z)(function*(){yield wm(p),_.onEvent(ml())}),500),ge=function(){var wt=(0,l.Z)(function*(bt){clearTimeout(Q);const oi=yield wm(p);let _r=null;oi&&(null==bt?void 0:bt.url)&&(_r=function xu(y,p){var _,w;const M=function ep(y){const p=Dc(y),_=p.link?decodeURIComponent(p.link):void 0,w=Dc(_).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Dc(M).link||M||w||_||y}(p);if(M.includes("/__/auth/callback")){const O=Dc(M),Q=O.firebaseError?function Dm(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(O.firebaseError)):null,ge=null===(w=null===(_=null==Q?void 0:Q.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],Ge=ge?De(ge):null;return Ge?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ge,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(oi,bt.url)),_.onEvent(_r||ml())});return function(oi){return wt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ge);const Ge=M,rt=`${O.packageName.toLowerCase()}://`;zo().handleOpenURL=function(){var wt=(0,l.Z)(function*(bt){if(bt.toLowerCase().startsWith(rt)&&ge({url:bt}),"function"==typeof Ge)try{Ge(bt)}catch(oi){console.error(oi)}});return function(bt){return wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ln,this._completeRedirectFn=Fs,this._overrideRedirectResult=S}_initialize(p){var _=this;return(0,l.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,_,w,M){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,_,w,M)})()}_openRedirect(p,_,w,M){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,_,w,M)})()}_isIframeWebStorageSupported(p,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,_)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Cc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ev(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const _=yield function tp(){return np.apply(this,arguments)}();p.underlyingResolver=_?p.cordovaResolver:p.browserResolver})()}}function Ra(y){return y.unwrap()}function nv(y){return Sm(y)}function Sm(y){const{_tokenResponse:p}=y instanceof L.ZR?y.customData:y;if(!p)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return lo.credentialFromResult(y);const _=p.providerId;if(!_||"password"===_)return null;let w;switch(_){case"google.com":w=Ld;break;case"facebook.com":w=la;break;case"github.com":w=Nf;break;case"twitter.com":w=Vd;break;default:const{oauthIdToken:M,oauthAccessToken:O,oauthTokenSecret:Q,pendingToken:ge,nonce:Ge}=p;return O||Q||M||ge?ge?_.startsWith("saml.")?To._create(_,ge):Ss._fromParams({providerId:_,signInMethod:_,pendingToken:ge,idToken:M,accessToken:O}):new ds(_).credential({idToken:M,accessToken:O,rawNonce:Ge}):null}return y instanceof L.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Lr(y,p){return p.catch(_=>{throw _ instanceof L.ZR&&function fh(y,p){var _;const w=null===(_=p.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new iv(y,function ni(y,p){var _;const w=(0,L.m9)(y),M=p;return $(p.customData.operationType,w,"argument-error"),$(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Ro._fromError(w,M)}(y,p));else if(w){const M=Sm(p),O=p;M&&(O.credential=M,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(y,_),_}).then(_=>{const M=_.user;return{operationType:_.operationType,credential:nv(_),additionalUserInfo:gi(_),user:uo.getOrCreate(M)}})}function rp(y,p){return sp.apply(this,arguments)}function sp(){return(sp=(0,l.Z)(function*(y,p){const _=yield p;return{verificationId:_.verificationId,confirm:w=>Lr(y,_.confirm(w))}})).apply(this,arguments)}class iv{constructor(p,_){this.resolver=_,this.auth=function tv(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Lr(Ra(this.auth),this.resolver.resolveSignIn(p))}}class uo{constructor(p){this._delegate=p,this.multiFactor=function wu(y){const p=(0,L.m9)(y);return sc.has(p)||sc.set(p,ma._fromUser(p)),sc.get(p)}(p)}static getOrCreate(p){return uo.USER_MAP.has(p)||uo.USER_MAP.set(p,new uo(p)),uo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var _=this;return(0,l.Z)(function*(){return Lr(_.auth,Di(_._delegate,p))})()}linkWithPhoneNumber(p,_){var w=this;return(0,l.Z)(function*(){return rp(w.auth,function hc(y,p,_){return Qd.apply(this,arguments)}(w._delegate,p,_))})()}linkWithPopup(p){var _=this;return(0,l.Z)(function*(){return Lr(_.auth,function Xd(y,p,_){return _s.apply(this,arguments)}(_._delegate,p,ka))})()}linkWithRedirect(p){var _=this;return(0,l.Z)(function*(){return yield hh(yt(_.auth)),function Ut(y,p,_){return function Rt(y,p,_){return Zn.apply(this,arguments)}(y,p,_)}(_._delegate,p,ka)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var _=this;return(0,l.Z)(function*(){return Lr(_.auth,Is(_._delegate,p))})()}reauthenticateWithPhoneNumber(p,_){return rp(this.auth,function Lf(y,p,_){return Ki.apply(this,arguments)}(this._delegate,p,_))}reauthenticateWithPopup(p){return Lr(this.auth,function Jd(y,p,_){return Nr.apply(this,arguments)}(this._delegate,p,ka))}reauthenticateWithRedirect(p){var _=this;return(0,l.Z)(function*(){return yield hh(yt(_.auth)),function Pe(y,p,_){return function ut(y,p,_){return It.apply(this,arguments)}(y,p,_)}(_._delegate,p,ka)})()}sendEmailVerification(p){return function zr(y,p){return yu.apply(this,arguments)}(this._delegate,p)}unlink(p){var _=this;return(0,l.Z)(function*(){return yield function Of(y,p){return fn.apply(this,arguments)}(_._delegate,p),_})()}updateEmail(p){return function jd(y,p){return ic((0,L.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Hd(y,p){return ic((0,L.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Lo(y,p){return Ns.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function tc(y,p){return nc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,_){return function Xl(y,p,_){return ec.apply(this,arguments)}(this._delegate,p,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}uo.USER_MAP=new WeakMap;const Ic=$;let Im=(()=>{class y{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=_.options;Ic(M,"invalid-api-key",{appName:_.name}),Ic(M,"invalid-api-key",{appName:_.name});const O="undefined"!=typeof window?ka:void 0;this._delegate=w.initialize({options:{persistence:rv(M,_.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?uo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function hr(y,p,_){const w=yt(y);$(w._canInitEmulator,w,"emulator-config-failed"),$(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),O=as(p),{host:Q,port:ge}=function Gn(y){const p=as(y),_=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const O=M[1];return{host:O,port:ls(w.substr(O.length+1))}}{const[O,Q]=w.split(":");return{host:O,port:ls(Q)}}}(p);w.config.emulator={url:`${O}//${Q}${null===ge?"":`:${ge}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Q,port:ge,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function mn(){function y(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,_,w)}applyActionCode(_){return function fa(y,p){return xe.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Gt(this._delegate,_)}confirmPasswordReset(_,w){return function Kl(y,p,_){return pu.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var M=this;return(0,l.Z)(function*(){return Lr(M._delegate,function Mo(y,p,_){return xr.apply(this,arguments)}(M._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Jl(y,p){return so.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Ud(y,p){const _=Wl.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,l.Z)(function*(){Ic(Ci(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function si(y,p){return Sa.apply(this,arguments)}(_._delegate,ka);return w?Lr(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Ru(y,p){yt(y)._logFramework(p)}(this._delegate,_)}onAuthStateChanged(_,w,M){const{next:O,error:Q,complete:ge}=Am(_,w,M);return this._delegate.onAuthStateChanged(O,Q,ge)}onIdTokenChanged(_,w,M){const{next:O,error:Q,complete:ge}=Am(_,w,M);return this._delegate.onIdTokenChanged(O,Q,ge)}sendSignInLinkToEmail(_,w){return function mu(y,p,_){return _u.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function fu(y,p,_){return Zl.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,l.Z)(function*(){let M;switch(function Jy(y,p){Ec(Object.values(Fr).includes(p),y,"invalid-persistence-type"),(0,L.b$)()?Ec(p!==Fr.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?Ec(p===Fr.NONE,y,"unsupported-persistence-type"):dh()?Ec(p===Fr.NONE||p===Fr.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):Ec(p===Fr.NONE||uh(),y,"unsupported-persistence-type")}(w._delegate,_),_){case Fr.SESSION:M=ln;break;case Fr.LOCAL:M=(yield ie(Zi)._isAvailable())?Zi:ct;break;case Fr.NONE:M=At;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Lr(this._delegate,function Bd(y){return cu.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Lr(this._delegate,wn(this._delegate,_))}signInWithCustomToken(_){return Lr(this._delegate,function ha(y,p){return Tt.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return Lr(this._delegate,function gu(y,p,_){return wn((0,L.m9)(y),Fd.credential(p,_))}(this._delegate,_,w))}signInWithEmailLink(_,w){return Lr(this._delegate,function am(y,p,_){return As.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return rp(this._delegate,function Un(y,p,_){return ul.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,l.Z)(function*(){return Ic(Ci(),w._delegate,"operation-not-supported-in-this-environment"),Lr(w._delegate,function pm(y,p,_){return Ps.apply(this,arguments)}(w._delegate,_,ka))})()}signInWithRedirect(_){var w=this;return(0,l.Z)(function*(){return Ic(Ci(),w._delegate,"operation-not-supported-in-this-environment"),yield hh(w._delegate),function ee(y,p,_){return function oe(y,p,_){return Ne.apply(this,arguments)}(y,p,_)}(w._delegate,_,ka)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function yn(y,p){return Ql.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Fr,y})();function Am(y,p,_){let w=y;"function"!=typeof y&&({next:w,error:p,complete:_}=y);const M=w;return{next:Q=>M(Q&&uo.getOrCreate(Q)),error:p,complete:_}}function rv(y,p){const _=function Xy(y,p){const _=xa();if(!_)return[];const w=Xn(Tc,y,p);switch(_.getItem(w)){case Fr.NONE:return[At];case Fr.LOCAL:return[Zi,ln];case Fr.SESSION:return[ln];default:return[]}}(y,p);if("undefined"!=typeof self&&!_.includes(Zi)&&_.push(Zi),"undefined"!=typeof window)for(const w of[ct,ln])_.includes(w)||_.push(w);return _.includes(At)||_.push(At),_}class op{constructor(){this.providerId="phone",this._delegate=new lo(Ra(te.Z.auth()))}static credential(p,_){return lo.credential(p,_)}verifyPhoneNumber(p,_){return this._delegate.verifyPhoneNumber(p,_)}unwrap(){return this._delegate}}op.PHONE_SIGN_IN_METHOD=lo.PHONE_SIGN_IN_METHOD,op.PROVIDER_ID=lo.PROVIDER_ID;const sv=$;class Mm{constructor(p,_,w=te.Z.app()){var M;sv(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new ao(p,_,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function yl(y){y.INTERNAL.registerComponent(new se.wA("auth-compat",p=>{const _=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Im(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Fd,FacebookAuthProvider:la,GithubAuthProvider:Nf,GoogleAuthProvider:Ld,OAuthProvider:ds,SAMLAuthProvider:Wi,PhoneAuthProvider:op,PhoneMultiFactorGenerator:Zf,RecaptchaVerifier:Mm,TwitterAuthProvider:Vd,Auth:Im,AuthCredential:Gr,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.14")}(te.Z)},8306:(ot,we,P)=>{P.d(we,{y:()=>z});var l=P(930),te=P(727),L=P(8822),he=P(4671);var se=P(2416),ue=P(576),pe=P(2806);let z=(()=>{class ke{constructor($e){$e&&(this._subscribe=$e)}lift($e){const _e=new ke;return _e.source=this,_e.operator=$e,_e}subscribe($e,_e,Se){const Qe=function Ke(ke){return ke&&ke instanceof l.Lv||function re(ke){return ke&&(0,ue.m)(ke.next)&&(0,ue.m)(ke.error)&&(0,ue.m)(ke.complete)}(ke)&&(0,te.Nn)(ke)}($e)?$e:new l.Hp($e,_e,Se);return(0,pe.x)(()=>{const{operator:it,source:Ae}=this;Qe.add(it?it.call(Qe,Ae):Ae?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe($e){try{return this._subscribe($e)}catch(_e){$e.error(_e)}}forEach($e,_e){return new(_e=G(_e))((Se,Qe)=>{const it=new l.Hp({next:Ae=>{try{$e(Ae)}catch(De){Qe(De),it.unsubscribe()}},error:Qe,complete:Se});this.subscribe(it)})}_subscribe($e){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe($e)}[L.L](){return this}pipe(...$e){return function ye(ke){return 0===ke.length?he.y:1===ke.length?ke[0]:function($e){return ke.reduce((_e,Se)=>Se(_e),$e)}}($e)(this)}toPromise($e){return new($e=G($e))((_e,Se)=>{let Qe;this.subscribe(it=>Qe=it,it=>Se(it),()=>_e(Qe))})}}return ke.create=Fe=>new ke(Fe),ke})();function G(ke){var Fe;return null!==(Fe=null!=ke?ke:se.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(ot,we,P)=>{P.d(we,{x:()=>se});var l=P(8306),te=P(727);const he=(0,P(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=P(8737),ye=P(2806);let se=(()=>{class pe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const re=new ue(this,this);return re.operator=G,re}_throwIfClosed(){if(this.closed)throw new he}next(G){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(G)}})}error(G){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:re}=this;for(;re.length;)re.shift().error(G)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:re,isStopped:Ke,observers:ke}=this;return re||Ke?te.Lc:(this.currentObservers=null,ke.push(G),new te.w0(()=>{this.currentObservers=null,(0,ae.P)(ke,G)}))}_checkFinalizedStatuses(G){const{hasError:re,thrownError:Ke,isStopped:ke}=this;re?G.error(Ke):ke&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return pe.create=(z,G)=>new ue(z,G),pe})();class ue extends se{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,re;null===(re=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===re||re.call(G,z)}error(z){var G,re;null===(re=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===re||re.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,re;return null!==(re=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==re?re:te.Lc}}},930:(ot,we,P)=>{P.d(we,{Hp:()=>$e,Lv:()=>re});var l=P(576),te=P(727),L=P(2416),he=P(7849),ae=P(5032);const ye=pe("C",void 0,void 0);function pe(Ae,De,Te){return{kind:Ae,value:De,error:Te}}var z=P(3410),G=P(2806);class re extends te.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,te.Nn)(De)&&De.add(this)):this.destination=it}static create(De,Te,qe){return new $e(De,Te,qe)}next(De){this.isStopped?Qe(function ue(Ae){return pe("N",Ae,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Qe(function se(Ae){return pe("E",void 0,Ae)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Qe(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function ke(Ae,De){return Ke.call(Ae,De)}class Fe{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Te}=this;if(Te.next)try{Te.next(De)}catch(qe){_e(qe)}}error(De){const{partialObserver:Te}=this;if(Te.error)try{Te.error(De)}catch(qe){_e(qe)}else _e(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Te){_e(Te)}}}class $e extends re{constructor(De,Te,qe){let ze;if(super(),(0,l.m)(De)||!De)ze={next:null!=De?De:void 0,error:null!=Te?Te:void 0,complete:null!=qe?qe:void 0};else{let $;this&&L.v.useDeprecatedNextContext?($=Object.create(De),$.unsubscribe=()=>this.unsubscribe(),ze={next:De.next&&ke(De.next,$),error:De.error&&ke(De.error,$),complete:De.complete&&ke(De.complete,$)}):ze=De}this.destination=new Fe(ze)}}function _e(Ae){L.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ae):(0,he.h)(Ae)}function Qe(Ae,De){const{onStoppedNotification:Te}=L.v;Te&&z.z.setTimeout(()=>Te(Ae,De))}const it={closed:!0,next:ae.Z,error:function Se(Ae){throw Ae},complete:ae.Z}},727:(ot,we,P)=>{P.d(we,{Lc:()=>ye,w0:()=>ae,Nn:()=>se});var l=P(576);const L=(0,P(3888).d)(pe=>function(G){pe(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((re,Ke)=>`${Ke+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var he=P(8737);class ae{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const ke of G)ke.remove(this);else G.remove(this);const{initialTeardown:re}=this;if((0,l.m)(re))try{re()}catch(ke){z=ke instanceof L?ke.errors:[ke]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const ke of Ke)try{ue(ke)}catch(Fe){z=null!=z?z:[],Fe instanceof L?z=[...z,...Fe.errors]:z.push(Fe)}}if(z)throw new L(z)}}add(z){var G;if(z&&z!==this)if(this.closed)ue(z);else{if(z instanceof ae){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,he.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,he.P)(G,z),z instanceof ae&&z._removeParent(this)}}ae.EMPTY=(()=>{const pe=new ae;return pe.closed=!0,pe})();const ye=ae.EMPTY;function se(pe){return pe instanceof ae||pe&&"closed"in pe&&(0,l.m)(pe.remove)&&(0,l.m)(pe.add)&&(0,l.m)(pe.unsubscribe)}function ue(pe){(0,l.m)(pe)?pe():pe.unsubscribe()}},2416:(ot,we,P)=>{P.d(we,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ot,we,P)=>{P.d(we,{E:()=>te});const te=new(P(8306).y)(ae=>ae.complete())},8996:(ot,we,P)=>{P.d(we,{D:()=>De});var l=P(8421),te=P(5363),L=P(9468),ye=P(8306),ue=P(2202),pe=P(576),z=P(9672);function re(Te,qe){if(!Te)throw new Error("Iterable cannot be null");return new ye.y(ze=>{(0,z.f)(ze,qe,()=>{const $=Te[Symbol.asyncIterator]();(0,z.f)(ze,qe,()=>{$.next().then(Ce=>{Ce.done?ze.complete():ze.next(Ce.value)})},0,!0)})})}var Ke=P(3670),ke=P(8239),Fe=P(1144),$e=P(6495),_e=P(2206),Se=P(4532),Qe=P(3260);function De(Te,qe){return qe?function Ae(Te,qe){if(null!=Te){if((0,Ke.c)(Te))return function he(Te,qe){return(0,l.Xf)(Te).pipe((0,L.R)(qe),(0,te.Q)(qe))}(Te,qe);if((0,Fe.z)(Te))return function se(Te,qe){return new ye.y(ze=>{let $=0;return qe.schedule(function(){$===Te.length?ze.complete():(ze.next(Te[$++]),ze.closed||this.schedule())})})}(Te,qe);if((0,ke.t)(Te))return function ae(Te,qe){return(0,l.Xf)(Te).pipe((0,L.R)(qe),(0,te.Q)(qe))}(Te,qe);if((0,_e.D)(Te))return re(Te,qe);if((0,$e.T)(Te))return function G(Te,qe){return new ye.y(ze=>{let $;return(0,z.f)(ze,qe,()=>{$=Te[ue.h](),(0,z.f)(ze,qe,()=>{let Ce,J;try{({value:Ce,done:J}=$.next())}catch(le){return void ze.error(le)}J?ze.complete():ze.next(Ce)},0,!0)}),()=>(0,pe.m)(null==$?void 0:$.return)&&$.return()})}(Te,qe);if((0,Qe.L)(Te))return function it(Te,qe){return re((0,Qe.Q)(Te),qe)}(Te,qe)}throw(0,Se.z)(Te)}(Te,qe):(0,l.Xf)(Te)}},8421:(ot,we,P)=>{P.d(we,{Xf:()=>Ke});var l=P(655),te=P(1144),L=P(8239),he=P(8306),ae=P(3670),ye=P(2206),se=P(4532),ue=P(6495),pe=P(3260),z=P(576),G=P(7849),re=P(8822);function Ke(Ae){if(Ae instanceof he.y)return Ae;if(null!=Ae){if((0,ae.c)(Ae))return function ke(Ae){return new he.y(De=>{const Te=Ae[re.L]();if((0,z.m)(Te.subscribe))return Te.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,te.z)(Ae))return function Fe(Ae){return new he.y(De=>{for(let Te=0;Te<Ae.length&&!De.closed;Te++)De.next(Ae[Te]);De.complete()})}(Ae);if((0,L.t)(Ae))return function $e(Ae){return new he.y(De=>{Ae.then(Te=>{De.closed||(De.next(Te),De.complete())},Te=>De.error(Te)).then(null,G.h)})}(Ae);if((0,ye.D)(Ae))return Se(Ae);if((0,ue.T)(Ae))return function _e(Ae){return new he.y(De=>{for(const Te of Ae)if(De.next(Te),De.closed)return;De.complete()})}(Ae);if((0,pe.L)(Ae))return function Qe(Ae){return Se((0,pe.Q)(Ae))}(Ae)}throw(0,se.z)(Ae)}function Se(Ae){return new he.y(De=>{(function it(Ae,De){var Te,qe,ze,$;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Te=(0,l.KL)(Ae);!(qe=yield Te.next()).done;)if(De.next(qe.value),De.closed)return}catch(Ce){ze={error:Ce}}finally{try{qe&&!qe.done&&($=Te.return)&&(yield $.call(Te))}finally{if(ze)throw ze.error}}De.complete()})})(Ae,De).catch(Te=>De.error(Te))})}},6451:(ot,we,P)=>{P.d(we,{T:()=>ye});var l=P(8189),te=P(8421),L=P(515),he=P(3269),ae=P(8996);function ye(...se){const ue=(0,he.yG)(se),pe=(0,he._6)(se,1/0),z=se;return z.length?1===z.length?(0,te.Xf)(z[0]):(0,l.J)(pe)((0,ae.D)(z,ue)):L.E}},5403:(ot,we,P)=>{P.d(we,{x:()=>te});var l=P(930);function te(he,ae,ye,se,ue){return new L(he,ae,ye,se,ue)}class L extends l.Lv{constructor(ae,ye,se,ue,pe,z){super(ae),this.onFinalize=pe,this.shouldUnsubscribe=z,this._next=ye?function(G){try{ye(G)}catch(re){ae.error(re)}}:super._next,this._error=ue?function(G){try{ue(G)}catch(re){ae.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(G){ae.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(ot,we,P)=>{P.d(we,{U:()=>L});var l=P(4482),te=P(5403);function L(he,ae){return(0,l.e)((ye,se)=>{let ue=0;ye.subscribe((0,te.x)(se,pe=>{se.next(he.call(ae,pe,ue++))}))})}},8189:(ot,we,P)=>{P.d(we,{J:()=>L});var l=P(5577),te=P(4671);function L(he=1/0){return(0,l.z)(te.y,he)}},5577:(ot,we,P)=>{P.d(we,{z:()=>ue});var l=P(4004),te=P(8421),L=P(4482),he=P(9672),ae=P(5403),se=P(576);function ue(pe,z,G=1/0){return(0,se.m)(z)?ue((re,Ke)=>(0,l.U)((ke,Fe)=>z(re,ke,Ke,Fe))((0,te.Xf)(pe(re,Ke))),G):("number"==typeof z&&(G=z),(0,L.e)((re,Ke)=>function ye(pe,z,G,re,Ke,ke,Fe,$e){const _e=[];let Se=0,Qe=0,it=!1;const Ae=()=>{it&&!_e.length&&!Se&&z.complete()},De=qe=>Se<re?Te(qe):_e.push(qe),Te=qe=>{ke&&z.next(qe),Se++;let ze=!1;(0,te.Xf)(G(qe,Qe++)).subscribe((0,ae.x)(z,$=>{null==Ke||Ke($),ke?De($):z.next($)},()=>{ze=!0},void 0,()=>{if(ze)try{for(Se--;_e.length&&Se<re;){const $=_e.shift();Fe?(0,he.f)(z,Fe,()=>Te($)):Te($)}Ae()}catch($){z.error($)}}))};return pe.subscribe((0,ae.x)(z,De,()=>{it=!0,Ae()})),()=>{null==$e||$e()}}(re,Ke,pe,G)))}},5363:(ot,we,P)=>{P.d(we,{Q:()=>he});var l=P(9672),te=P(4482),L=P(5403);function he(ae,ye=0){return(0,te.e)((se,ue)=>{se.subscribe((0,L.x)(ue,pe=>(0,l.f)(ue,ae,()=>ue.next(pe),ye),()=>(0,l.f)(ue,ae,()=>ue.complete(),ye),pe=>(0,l.f)(ue,ae,()=>ue.error(pe),ye)))})}},3099:(ot,we,P)=>{P.d(we,{B:()=>ye});var l=P(8996),te=P(5698),L=P(7579),he=P(930),ae=P(4482);function ye(ue={}){const{connector:pe=(()=>new L.x),resetOnError:z=!0,resetOnComplete:G=!0,resetOnRefCountZero:re=!0}=ue;return Ke=>{let ke=null,Fe=null,$e=null,_e=0,Se=!1,Qe=!1;const it=()=>{null==Fe||Fe.unsubscribe(),Fe=null},Ae=()=>{it(),ke=$e=null,Se=Qe=!1},De=()=>{const Te=ke;Ae(),null==Te||Te.unsubscribe()};return(0,ae.e)((Te,qe)=>{_e++,!Qe&&!Se&&it();const ze=$e=null!=$e?$e:pe();qe.add(()=>{_e--,0===_e&&!Qe&&!Se&&(Fe=se(De,re))}),ze.subscribe(qe),ke||(ke=new he.Hp({next:$=>ze.next($),error:$=>{Qe=!0,it(),Fe=se(Ae,z,$),ze.error($)},complete:()=>{Se=!0,it(),Fe=se(Ae,G),ze.complete()}}),(0,l.D)(Te).subscribe(ke))})(Ke)}}function se(ue,pe,...z){return!0===pe?(ue(),null):!1===pe?null:pe(...z).pipe((0,te.q)(1)).subscribe(()=>ue())}},9468:(ot,we,P)=>{P.d(we,{R:()=>te});var l=P(4482);function te(L,he=0){return(0,l.e)((ae,ye)=>{ye.add(L.schedule(()=>ae.subscribe(ye),he))})}},5698:(ot,we,P)=>{P.d(we,{q:()=>he});var l=P(515),te=P(4482),L=P(5403);function he(ae){return ae<=0?()=>l.E:(0,te.e)((ye,se)=>{let ue=0;ye.subscribe((0,L.x)(se,pe=>{++ue<=ae&&(se.next(pe),ae<=ue&&se.complete())}))})}},8505:(ot,we,P)=>{P.d(we,{b:()=>ae});var l=P(576),te=P(4482),L=P(5403),he=P(4671);function ae(ye,se,ue){const pe=(0,l.m)(ye)||se||ue?{next:ye,error:se,complete:ue}:ye;return pe?(0,te.e)((z,G)=>{var re;null===(re=pe.subscribe)||void 0===re||re.call(pe);let Ke=!0;z.subscribe((0,L.x)(G,ke=>{var Fe;null===(Fe=pe.next)||void 0===Fe||Fe.call(pe,ke),G.next(ke)},()=>{var ke;Ke=!1,null===(ke=pe.complete)||void 0===ke||ke.call(pe),G.complete()},ke=>{var Fe;Ke=!1,null===(Fe=pe.error)||void 0===Fe||Fe.call(pe,ke),G.error(ke)},()=>{var ke,Fe;Ke&&(null===(ke=pe.unsubscribe)||void 0===ke||ke.call(pe)),null===(Fe=pe.finalize)||void 0===Fe||Fe.call(pe)}))}):he.y}},4408:(ot,we,P)=>{P.d(we,{o:()=>ae});var l=P(727);class te extends l.w0{constructor(se,ue){super()}schedule(se,ue=0){return this}}const L={setInterval(ye,se,...ue){const{delegate:pe}=L;return(null==pe?void 0:pe.setInterval)?pe.setInterval(ye,se,...ue):setInterval(ye,se,...ue)},clearInterval(ye){const{delegate:se}=L;return((null==se?void 0:se.clearInterval)||clearInterval)(ye)},delegate:void 0};var he=P(8737);class ae extends te{constructor(se,ue){super(se,ue),this.scheduler=se,this.work=ue,this.pending=!1}schedule(se,ue=0){if(this.closed)return this;this.state=se;const pe=this.id,z=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(z,pe,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(z,this.id,ue),this}requestAsyncId(se,ue,pe=0){return L.setInterval(se.flush.bind(se,this),pe)}recycleAsyncId(se,ue,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return ue;L.clearInterval(ue)}execute(se,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(se,ue);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,ue){let z,pe=!1;try{this.work(se)}catch(G){pe=!0,z=G||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:se,scheduler:ue}=this,{actions:pe}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(pe,this),null!=se&&(this.id=this.recycleAsyncId(ue,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(ot,we,P)=>{P.d(we,{v:()=>L});var l=P(6063);class te{constructor(ae,ye=te.now){this.schedulerActionCtor=ae,this.now=ye}schedule(ae,ye=0,se){return new this.schedulerActionCtor(this,ae).schedule(se,ye)}}te.now=l.l.now;class L extends te{constructor(ae,ye=te.now){super(ae,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:ye}=this;if(this._active)return void ye.push(ae);let se;this._active=!0;do{if(se=ae.execute(ae.state,ae.delay))break}while(ae=ye.shift());if(this._active=!1,se){for(;ae=ye.shift();)ae.unsubscribe();throw se}}}},4986:(ot,we,P)=>{P.d(we,{P:()=>he,z:()=>L});var l=P(4408);const L=new(P(7565).v)(l.o),he=L},6063:(ot,we,P)=>{P.d(we,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ot,we,P)=>{P.d(we,{z:()=>l});const l={setTimeout(te,L,...he){const{delegate:ae}=l;return(null==ae?void 0:ae.setTimeout)?ae.setTimeout(te,L,...he):setTimeout(te,L,...he)},clearTimeout(te){const{delegate:L}=l;return((null==L?void 0:L.clearTimeout)||clearTimeout)(te)},delegate:void 0}},2202:(ot,we,P)=>{P.d(we,{h:()=>te});const te=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ot,we,P)=>{P.d(we,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ot,we,P)=>{P.d(we,{_6:()=>ye,jO:()=>he,yG:()=>ae});var l=P(576),te=P(3532);function L(se){return se[se.length-1]}function he(se){return(0,l.m)(L(se))?se.pop():void 0}function ae(se){return(0,te.K)(L(se))?se.pop():void 0}function ye(se,ue){return"number"==typeof L(se)?se.pop():ue}},8737:(ot,we,P)=>{function l(te,L){if(te){const he=te.indexOf(L);0<=he&&te.splice(he,1)}}P.d(we,{P:()=>l})},3888:(ot,we,P)=>{function l(te){const he=te(ae=>{Error.call(ae),ae.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}P.d(we,{d:()=>l})},2806:(ot,we,P)=>{P.d(we,{O:()=>he,x:()=>L});var l=P(2416);let te=null;function L(ae){if(l.v.useDeprecatedSynchronousErrorHandling){const ye=!te;if(ye&&(te={errorThrown:!1,error:null}),ae(),ye){const{errorThrown:se,error:ue}=te;if(te=null,se)throw ue}}else ae()}function he(ae){l.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ae)}},9672:(ot,we,P)=>{function l(te,L,he,ae=0,ye=!1){const se=L.schedule(function(){he(),ye?te.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(te.add(se),!ye)return se}P.d(we,{f:()=>l})},4671:(ot,we,P)=>{function l(te){return te}P.d(we,{y:()=>l})},1144:(ot,we,P)=>{P.d(we,{z:()=>l});const l=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(ot,we,P)=>{P.d(we,{D:()=>te});var l=P(576);function te(L){return Symbol.asyncIterator&&(0,l.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(ot,we,P)=>{function l(te){return"function"==typeof te}P.d(we,{m:()=>l})},3670:(ot,we,P)=>{P.d(we,{c:()=>L});var l=P(8822),te=P(576);function L(he){return(0,te.m)(he[l.L])}},6495:(ot,we,P)=>{P.d(we,{T:()=>L});var l=P(2202),te=P(576);function L(he){return(0,te.m)(null==he?void 0:he[l.h])}},8239:(ot,we,P)=>{P.d(we,{t:()=>te});var l=P(576);function te(L){return(0,l.m)(null==L?void 0:L.then)}},3260:(ot,we,P)=>{P.d(we,{L:()=>he,Q:()=>L});var l=P(655),te=P(576);function L(ae){return(0,l.FC)(this,arguments,function*(){const se=ae.getReader();try{for(;;){const{value:ue,done:pe}=yield(0,l.qq)(se.read());if(pe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ue)}}finally{se.releaseLock()}})}function he(ae){return(0,te.m)(null==ae?void 0:ae.getReader)}},3532:(ot,we,P)=>{P.d(we,{K:()=>te});var l=P(576);function te(L){return L&&(0,l.m)(L.schedule)}},4482:(ot,we,P)=>{P.d(we,{A:()=>te,e:()=>L});var l=P(576);function te(he){return(0,l.m)(null==he?void 0:he.lift)}function L(he){return ae=>{if(te(ae))return ae.lift(function(ye){try{return he(ye,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ot,we,P)=>{function l(){}P.d(we,{Z:()=>l})},7849:(ot,we,P)=>{P.d(we,{h:()=>L});var l=P(2416),te=P(3410);function L(he){te.z.setTimeout(()=>{const{onUnhandledError:ae}=l.v;if(!ae)throw he;ae(he)})}},4532:(ot,we,P)=>{function l(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(we,{z:()=>l})},655:(ot,we,P)=>{function he(J,le){var ie={};for(var ve in J)Object.prototype.hasOwnProperty.call(J,ve)&&le.indexOf(ve)<0&&(ie[ve]=J[ve]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(ve=Object.getOwnPropertySymbols(J);de<ve.length;de++)le.indexOf(ve[de])<0&&Object.prototype.propertyIsEnumerable.call(J,ve[de])&&(ie[ve[de]]=J[ve[de]])}return ie}function ue(J,le,ie,ve){return new(ie||(ie=Promise))(function(Le,vt){function Zt(an){try{tt(ve.next(an))}catch(Fn){vt(Fn)}}function $t(an){try{tt(ve.throw(an))}catch(Fn){vt(Fn)}}function tt(an){an.done?Le(an.value):function de(Le){return Le instanceof ie?Le:new ie(function(vt){vt(Le)})}(an.value).then(Zt,$t)}tt((ve=ve.apply(J,le||[])).next())})}function _e(J){return this instanceof _e?(this.v=J,this):new _e(J)}function Se(J,le,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,ve=ie.apply(J,le||[]),Le=[];return de={},vt("next"),vt("throw"),vt("return"),de[Symbol.asyncIterator]=function(){return this},de;function vt(dn){ve[dn]&&(de[dn]=function(rn){return new Promise(function(Gi,Qt){Le.push([dn,rn,Gi,Qt])>1||Zt(dn,rn)})})}function Zt(dn,rn){try{!function $t(dn){dn.value instanceof _e?Promise.resolve(dn.value.v).then(tt,an):Fn(Le[0][2],dn)}(ve[dn](rn))}catch(Gi){Fn(Le[0][3],Gi)}}function tt(dn){Zt("next",dn)}function an(dn){Zt("throw",dn)}function Fn(dn,rn){dn(rn),Le.shift(),Le.length&&Zt(Le[0][0],Le[0][1])}}function it(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,le=J[Symbol.asyncIterator];return le?le.call(J):(J=function re(J){var le="function"==typeof Symbol&&Symbol.iterator,ie=le&&J[le],ve=0;if(ie)return ie.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ve>=J.length&&(J=void 0),{value:J&&J[ve++],done:!J}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ie={},ve("next"),ve("throw"),ve("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function ve(Le){ie[Le]=J[Le]&&function(vt){return new Promise(function(Zt,$t){!function de(Le,vt,Zt,$t){Promise.resolve($t).then(function(tt){Le({value:tt,done:Zt})},vt)}(Zt,$t,(vt=J[Le](vt)).done,vt.value)})}}}P.d(we,{FC:()=>Se,KL:()=>it,_T:()=>he,mG:()=>ue,qq:()=>_e})},5e3:(ot,we,P)=>{P.d(we,{$8M:()=>vn,$Z:()=>KD,AFp:()=>hE,AaK:()=>ue,BQk:()=>Yu,CHM:()=>Ao,CRH:()=>p0,CZH:()=>Z_,CqO:()=>QD,EJc:()=>iI,EiD:()=>Dm,EpF:()=>lb,F$t:()=>eC,F4k:()=>xp,FYo:()=>ng,FiY:()=>mr,G48:()=>fI,Gf:()=>tE,GfV:()=>Gc,GkF:()=>Bh,Gpc:()=>G,Hsn:()=>jh,Ikx:()=>Je,JOm:()=>O,JVY:()=>qf,L6k:()=>Wf,LAX:()=>Yf,LFG:()=>ut,LSH:()=>ml,Lbi:()=>dd,MAs:()=>Jv,MGl:()=>Rp,NdJ:()=>cb,O4$:()=>zd,OlP:()=>En,Oqu:()=>Up,PXZ:()=>gd,Q6J:()=>Ap,QGY:()=>Sn,Qsj:()=>MS,QtT:()=>id,R0b:()=>or,RDi:()=>uu,Rgc:()=>cg,SBq:()=>Xh,SDv:()=>LC,Sil:()=>pE,Suo:()=>nE,TTD:()=>ds,TgZ:()=>Pa,Tol:()=>Db,Udp:()=>bb,VKq:()=>Xt,VLi:()=>lI,W1O:()=>dg,WLB:()=>r0,X6Q:()=>U0,XFs:()=>Et,Xpm:()=>Dt,Y36:()=>qu,YKP:()=>e0,YNc:()=>HD,Yjl:()=>Qa,Yz7:()=>rn,ZZ4:()=>Z0,_Bn:()=>rd,_UZ:()=>ab,_Vd:()=>tg,_c5:()=>SI,_uU:()=>E_,aQg:()=>mf,c2e:()=>nI,cJS:()=>Qt,cg1:()=>Ob,dDg:()=>ey,deG:()=>dm,dqk:()=>zt,eBb:()=>_m,eFA:()=>P0,ekj:()=>wb,f3M:()=>Ut,g9A:()=>Qc,h0i:()=>nf,hGG:()=>II,hij:()=>jp,iGM:()=>eE,ifc:()=>Kt,ip1:()=>dE,kEZ:()=>s0,kL8:()=>vC,lG2:()=>Hl,mCW:()=>Iu,n5z:()=>uc,oAB:()=>zi,oxw:()=>XD,pB0:()=>Zf,pQV:()=>Ua,q3G:()=>tn,q4F:()=>Kb,qLn:()=>fh,qOj:()=>ir,qZA:()=>Mp,qzn:()=>$o,s9C:()=>Fa,sBO:()=>gI,sIi:()=>Th,s_b:()=>Gs,soG:()=>df,tBr:()=>Qi,tb:()=>M0,tp0:()=>Ia,uIk:()=>wp,vHH:()=>Fe,vpe:()=>Ha,wAp:()=>Mt,xp6:()=>p1,yhl:()=>Aa,ynx:()=>Wu,z2F:()=>F0,z3N:()=>Ls,zSh:()=>dt,zs3:()=>ho});var l=P(7579),te=P(727),L=P(8306),he=P(6451),ae=P(3099);function ye(o){for(let a in o)if(o[a]===ye)return a;throw Error("Could not find renamed property on target object.")}function se(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function ue(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ue).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function pe(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const z=ye({__forward_ref__:ye});function G(o){return o.__forward_ref__=G,o.toString=function(){return ue(this())},o}function re(o){return Ke(o)?o():o}function Ke(o){return"function"==typeof o&&o.hasOwnProperty(z)&&o.__forward_ref__===G}class Fe extends Error{constructor(a,c){super(function $e(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function _e(o){return"string"==typeof o?o:null==o?"":String(o)}function Se(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():_e(o)}function De(o,a){const c=a?` in ${a}`:"";throw new Fe(-201,`No provider for ${Se(o)} found${c}`)}function tt(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}function rn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Qt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ht(o){return Es(o,ss)||Es(o,Er)}function Es(o,a){return o.hasOwnProperty(a)?o[a]:null}function $i(o){return o&&(o.hasOwnProperty(Ks)||o.hasOwnProperty(os))?o[Ks]:null}const ss=ye({\u0275prov:ye}),Ks=ye({\u0275inj:ye}),Er=ye({ngInjectableDef:ye}),os=ye({ngInjectorDef:ye});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let Tr;function Ln(o){const a=Tr;return Tr=o,a}function bo(o,a,c){const d=Ht(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&Et.Optional?null:void 0!==a?a:void De(ue(o),"Injector")}function fi(o){return{toString:o}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),Kt=(()=>{return(o=Kt||(Kt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Kt;var o})();const gt="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,Mi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zt=gt||"undefined"!=typeof global&&global||St||Mi,ki={},j=[],W=ye({\u0275cmp:ye}),K=ye({\u0275dir:ye}),Ie=ye({\u0275pipe:ye}),q=ye({\u0275mod:ye}),ne=ye({\u0275fac:ye}),Oe=ye({__NG_ELEMENT_ID__:ye});let at=0;function Dt(o){return fi(()=>{const c={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||j,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Kt.Emulated,id:"c",styles:o.styles||j,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,m=o.features,b=o.pipes;return d.id+=at++,d.inputs=Ka(o.inputs,c),d.outputs=Ka(o.outputs),m&&m.forEach(D=>D(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(gn):null,d.pipeDefs=b?()=>("function"==typeof b?b():b).map(At):null,d})}function gn(o){return ei(o)||function qi(o){return o[K]||null}(o)}function At(o){return function Ts(o){return o[Ie]||null}(o)}const Xn={};function zi(o){return fi(()=>{const a={type:o.type,bootstrap:o.bootstrap||j,declarations:o.declarations||j,imports:o.imports||j,exports:o.exports||j,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Xn[o.id]=o.type),a})}function Ka(o,a){if(null==o)return ki;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,a&&(a[f]=m)}return c}const Hl=Dt;function Qa(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function ei(o){return o[W]||null}function ti(o,a){const c=o[q]||null;if(!c&&!0===a)throw new Error(`Type ${ue(o)} does not have '\u0275mod' property.`);return c}function Ri(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ar(o){return Array.isArray(o)&&!0===o[1]}function zl(o){return 0!=(8&o.flags)}function Md(o){return 2==(2&o.flags)}function cs(o){return 1==(1&o.flags)}function us(o){return null!==o.template}function ou(o){return 0!=(512&o[2])}function Oi(o,a){return o.hasOwnProperty(ne)?o[ne]:null}class Eo{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ds(){return la}function la(o){return o.type.prototype.ngOnChanges&&(o.setInput=Nf),Ld}function Ld(){const o=To(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===ki)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Nf(o,a,c,d){const f=To(o)||function ca(o,a){return o[pi]=a}(o,{previous:ki,current:null}),m=f.current||(f.current={}),b=f.previous,D=this.declaredInputs[c],E=b[D];m[D]=new Eo(E&&E.currentValue,a,b===ki),o[d]=a}ds.ngInherit=!0;const pi="__ngSimpleChanges__";function To(o){return o[pi]||null}let da;function uu(o){da=o}function hs(){return void 0!==da?da:"undefined"!=typeof document?document:void 0}function fn(o){return!!o.listen}const nl={createRenderer:(o,a)=>hs()};function sn(o){for(;Array.isArray(o);)o=o[0];return o}function io(o,a){return sn(a[o])}function wi(o,a){return sn(a[o.index])}function wn(o,a){return o.data[a]}function Di(o,a){const c=a[o];return Ri(c)?c:c[0]}function Io(o){return 4==(4&o[2])}function Is(o){return 128==(128&o[2])}function $r(o,a){return null==a?null:o[a]}function ps(o){o[18]=0}function ha(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const Tt={lFrame:ga(null),bindingsEnabled:!0};function Kl(){return Tt.bindingsEnabled}function xe(){return Tt.lFrame.lView}function Gt(){return Tt.lFrame.tView}function Ao(o){return Tt.lFrame.contextLView=o,o[8]}function yn(){let o=Ql();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ql(){return Tt.lFrame.currentTNode}function Mo(){const o=Tt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function xr(o,a){const c=Tt.lFrame;c.currentTNode=o,c.isParent=a}function gu(){return Tt.lFrame.isParent}function mu(){Tt.lFrame.isParent=!1}function Pi(){const o=Tt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function so(){return Tt.lFrame.bindingIndex++}function zr(o){const a=Tt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Xl(o){Tt.lFrame.inI18n=o}function ec(o,a){const c=Tt.lFrame;c.bindingIndex=c.bindingRootIndex=o,pa(a)}function pa(o){Tt.lFrame.currentDirectiveIndex=o}function nc(){return Tt.lFrame.currentQueryIndex}function jd(o){Tt.lFrame.currentQueryIndex=o}function Hd(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function ic(o,a,c){if(c&Et.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||c&Et.Host||(f=Hd(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const d=Tt.lFrame=Gd();return d.currentTNode=a,d.lView=o,!0}function xo(o){const a=Gd(),c=o[1];Tt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Gd(){const o=Tt.lFrame,a=null===o?null:o.child;return null===a?ga(o):a}function ga(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function $d(){const o=Tt.lFrame;return Tt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const rc=$d;function fr(){const o=$d();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function gi(){return Tt.lFrame.selectedIndex}function ko(o){Tt.lFrame.selectedIndex=o}function $n(){const o=Tt.lFrame;return wn(o.tView,o.selectedIndex)}function zd(){Tt.lFrame.currentNamespace="svg"}function ol(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:D,ngAfterViewInit:E,ngAfterViewChecked:x,ngOnDestroy:k}=m;b&&(o.contentHooks||(o.contentHooks=[])).push(-c,b),D&&((o.contentHooks||(o.contentHooks=[])).push(c,D),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,D)),E&&(o.viewHooks||(o.viewHooks=[])).push(-c,E),x&&((o.viewHooks||(o.viewHooks=[])).push(c,x),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,x)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(c,k)}}function Ms(o,a,c){Wd(o,a,3,c)}function Ro(o,a,c,d){(3&o[2])===c&&Wd(o,a,c,d)}function ni(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function Wd(o,a,c,d){const m=null!=d?d:-1,b=a.length-1;let D=0;for(let E=void 0!==d?65535&o[18]:0;E<b;E++)if("number"==typeof a[E+1]){if(D=a[E],null!=d&&D>=d)break}else a[E]<0&&(o[18]+=65536),(D<m||-1==m)&&(cm(o,c,a,E),o[18]=(4294901760&o[18])+E+2),E++}function cm(o,a,c,d){const f=c[d]<0,m=c[d+1],D=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(D)}finally{}}}else try{m.call(D)}finally{}}class ma{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ct(o,a,c){const d=fn(o);let f=0;for(;f<c.length;){const m=c[f];if("number"==typeof m){if(0!==m)break;f++;const b=c[f++],D=c[f++],E=c[f++];d?o.setAttribute(a,D,E,b):a.setAttributeNS(b,D,E)}else{const b=m,D=c[++f];ln(b)?d&&o.setProperty(a,b,D):d?o.setAttribute(a,b,D):a.setAttribute(b,D),f++}}return f}function Lt(o){return 3===o||4===o||6===o}function ln(o){return 64===o.charCodeAt(0)}function Cn(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||Yd(o,c,f,null,-1===c||2===c?a[++d]:null)}}return o}function Yd(o,a,c,d,f){let m=0,b=o.length;if(-1===a)b=-1;else for(;m<o.length;){const D=o[m++];if("number"==typeof D){if(D===a){b=-1;break}if(D>a){b=m-1;break}}}for(;m<o.length;){const D=o[m];if("number"==typeof D)break;if(D===c){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==b&&(o.splice(b,0,a),m=b+1),o.splice(m++,0,c),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}function _a(o){return-1!==o}function oo(o){return 32767&o}function xs(o,a){let c=function zn(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let ya=!0;function Wr(o){const a=ya;return ya=o,a}let oc=0;function en(o,a){const c=ks(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,va(d.data,o),va(a,null),va(d.blueprint,null));const f=Fi(o,a),m=o.injectorIndex;if(_a(f)){const b=oo(f),D=xs(f,a),E=D[1].data;for(let x=0;x<8;x++)a[m+x]=D[b+x]|E[b+x]}return a[m+8]=f,m}function va(o,a){o.push(0,0,0,0,0,0,0,0,a)}function ks(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Fi(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){const m=f[1],b=m.type;if(d=2===b?m.declTNode:1===b?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function ba(o,a,c){!function ac(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Oe)&&(d=c[Oe]),null==d&&(d=c[Oe]=oc++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function ms(o,a,c){if(c&Et.Optional)return o;De(a,"NodeInjector")}function ll(o,a,c,d){if(c&Et.Optional&&void 0===d&&(d=null),0==(c&(Et.Self|Et.Host))){const f=o[9],m=Ln(void 0);try{return f?f.get(a,d,c&Et.Optional):bo(a,d,c&Et.Optional)}finally{Ln(m)}}return ms(d,a,c)}function wa(o,a,c,d=Et.Default,f){if(null!==o){const m=function Zi(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Oe)?o[Oe]:void 0;return"number"==typeof a?a>=0?255&a:lc:a}(c);if("function"==typeof m){if(!ic(a,o,d))return d&Et.Host?ms(f,c,d):ll(a,c,d,f);try{const b=m(d);if(null!=b||d&Et.Optional)return b;De(c)}finally{rc()}}else if("number"==typeof m){let b=null,D=ks(o,a),E=-1,x=d&Et.Host?a[16][6]:null;for((-1===D||d&Et.SkipSelf)&&(E=-1===D?Fi(o,a):a[D+8],-1!==E&&qn(d,!1)?(b=a[1],D=oo(E),a=xs(E,a)):D=-1);-1!==D;){const k=a[1];if(pr(m,D,k.data)){const V=cc(D,a,c,b,d,x);if(V!==Yr)return V}E=a[D+8],-1!==E&&qn(d,a[1].data[D+8]===x)&&pr(m,D,a)?(b=k,D=oo(E),a=xs(E,a)):D=-1}}}return ll(a,c,d,f)}const Yr={};function lc(){return new Rs(yn(),xe())}function cc(o,a,c,d,f,m){const b=a[1],D=b.data[o+8],k=Yi(D,b,c,null==d?Md(D)&&ya:d!=b&&0!=(3&D.type),f&Et.Host&&m===D);return null!==k?cl(a,b,k,D):Yr}function Yi(o,a,c,d,f){const m=o.providerIndexes,b=a.data,D=1048575&m,E=o.directiveStart,k=m>>20,H=f?D+k:o.directiveEnd;for(let X=d?D:D+k;X<H;X++){const be=b[X];if(X<E&&c===be||X>=E&&be.type===c)return X}if(f){const X=b[E];if(X&&us(X)&&X.type===c)return E}return null}function cl(o,a,c,d){let f=o[c];const m=a.data;if(function sc(o){return o instanceof ma}(f)){const b=f;b.resolving&&function Qe(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${o}${c}`)}(Se(m[c]));const D=Wr(b.canSeeViewProviders);b.resolving=!0;const E=b.injectImpl?Ln(b.injectImpl):null;ic(o,d,Et.Default);try{f=o[c]=b.factory(void 0,m,o,d),a.firstCreatePass&&c>=d.directiveStart&&function Vy(o,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const b=la(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,b)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],a)}finally{null!==E&&Ln(E),Wr(D),b.resolving=!1,rc()}}return f}function pr(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function qn(o,a){return!(o&Et.Self||o&Et.Host&&a)}class Rs{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return wa(this._tNode,this._lView,a,d,c)}}function uc(o){return fi(()=>{const a=o.prototype.constructor,c=a[ne]||kn(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[ne]||kn(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function kn(o){return Ke(o)?()=>{const a=kn(re(o));return a&&a()}:Oi(o)}function vn(o){return function Li(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(Lt(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===a)return c[f+1];f+=2}}}return null}(yn(),o)}const Da="__parameters__";function bn(o,a,c){return fi(()=>{const d=function Zr(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const b=new f(...m);return D.annotation=b,D;function D(E,x,k){const V=E.hasOwnProperty(Da)?E[Da]:Object.defineProperty(E,Da,{value:[]})[Da];for(;V.length<=k;)V.push(null);return(V[k]=V[k]||[]).push(b),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class En{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=rn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dm=new En("AnalyzeForEntryComponents");function Ki(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),Ki(d,a)):a!==o&&a.push(d)}return a}function gr(o,a){o.forEach(c=>Array.isArray(c)?gr(c,a):a(c))}function dl(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Lo(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Ns(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function Yn(o,a,c){let d=co(o,a);return d>=0?o[1|d]=c:(d=~d,function hl(o,a,c,d){let f=o.length;if(f==a)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function fc(o,a){const c=co(o,a);if(c>=0)return o[1|c]}function co(o,a){return function Ps(o,a,c){let d=0,f=o.length>>c;for(;f!==d;){const m=d+(f-d>>1),b=o[m<<c];if(a===b)return m<<c;b>a?f=m:d=m+1}return~(f<<c)}(o,a,1)}const Bo={},Ea="__NG_DI_FLAG__",Ta="ngTempTokenPath",S=/\n/gm,B="__source",ee=ye({provide:String,useValue:ye});let oe;function Ne(o){const a=oe;return oe=o,a}function Pe(o,a=Et.Default){if(void 0===oe)throw new Fe(203,"");return null===oe?bo(o,void 0,a):oe.get(o,a&Et.Optional?null:void 0,a)}function ut(o,a=Et.Default){return(function Mn(){return Tr}()||Pe)(re(o),a)}const Ut=ut;function Rt(o){const a=[];for(let c=0;c<o.length;c++){const d=re(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Fe(900,"");let f,m=Et.Default;for(let b=0;b<d.length;b++){const D=d[b],E=si(D);"number"==typeof E?-1===E?f=D.token:m|=E:f=D}a.push(ut(f,m))}else a.push(ut(d))}return a}function Zn(o,a){return o[Ea]=a,o.prototype[Ea]=a,o}function si(o){return o[Ea]}const Qi=Zn(bn("Inject",o=>({token:o})),-1),mr=Zn(bn("Optional"),8),Ia=Zn(bn("SkipSelf"),4);let Ho;function fl(o){var a;return(null===(a=function th(){if(void 0===Ho&&(Ho=null,zt.trustedTypes))try{Ho=zt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Ho}())||void 0===a?void 0:a.createHTML(o))||o}class Go{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ih extends Go{getTypeName(){return"HTML"}}class Gy extends Go{getTypeName(){return"Style"}}class Su extends Go{getTypeName(){return"Script"}}class $y extends Go{getTypeName(){return"URL"}}class zy extends Go{getTypeName(){return"ResourceURL"}}function Ls(o){return o instanceof Go?o.changingThisBreaksApplicationSecurity:o}function $o(o,a){const c=Aa(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function Aa(o){return o instanceof Go&&o.getTypeName()||null}function qf(o){return new ih(o)}function Wf(o){return new Gy(o)}function _m(o){return new Su(o)}function Yf(o){return new $y(o)}function Zf(o){return new zy(o)}function Kf(o){const a=new qy(o);return function vm(){try{return!!(new window.DOMParser).parseFromString(fl(""),"text/html")}catch(o){return!1}}()?new ym(a):a}class ym{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(fl(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class qy{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=fl(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=fl(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const b=c.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&a.removeAttribute(b)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const rh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Iu(o){return(o=String(o)).match(rh)||o.match(zo)?o:"unsafe:"+o}function Qf(o){return(o=String(o)).split(",").map(a=>Iu(a.trim())).join(", ")}function Kr(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Au(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const sh=Kr("area,br,col,hr,img,wbr"),bm=Kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oh=Kr("rp,rt"),Mu=Au(sh,Au(bm,Kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Au(oh,Kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Au(oh,bm)),Jf=Kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xf=Kr("srcset"),wc=Au(Jf,Xf,Kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wm=Kr("script,style,template");class pl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!Mu.hasOwnProperty(c))return this.sanitizedSomething=!0,!wm.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),b=m.name,D=b.toLowerCase();if(!wc.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let E=m.value;Jf[D]&&(E=Iu(E)),Xf[D]&&(E=Qf(E)),this.buf.push(" ",b,'="',ku(E),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();Mu.hasOwnProperty(c)&&!sh.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(ku(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const xu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wy=/([^\#-~ |!])/g;function ku(o){return o.replace(/&/g,"&amp;").replace(xu,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Wy,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gl;function Dm(o,a){let c=null;try{gl=gl||Kf(o);let d=a?String(a):"";c=gl.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=gl.getInertBodyElement(d)}while(d!==m);return fl((new pl).sanitizeChildren(ep(c)||c))}finally{if(c){const d=ep(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ep(o){return"content"in o&&function Dc(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var tn=(()=>((tn=tn||{})[tn.NONE=0]="NONE",tn[tn.HTML=1]="HTML",tn[tn.STYLE=2]="STYLE",tn[tn.SCRIPT=3]="SCRIPT",tn[tn.URL=4]="URL",tn[tn.RESOURCE_URL=5]="RESOURCE_URL",tn))();function ml(o){const a=function Ma(){const o=xe();return o&&o[12]}();return a?a.sanitize(tn.URL,o)||"":$o(o,"URL")?Ls(o):Iu(_e(o))}const dh="__ngContext__";function Ci(o,a){o[dh]=a}function tp(o){const a=function Cc(o){return o[dh]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Ra(o){return o.ngOriginalError}function nv(o,...a){o.error(...a)}class fh{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),d=function tv(o){return o&&o.ngErrorLogger||nv}(a);d(this._console,"ERROR",a),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Ra(a);for(;c&&Ra(c);)c=Ra(c);return c||null}}const rp=/^>|^->|<!--|-->|--!>|<!-$/g,sp=/(<|>)/;const op=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt))();function y(o){return o instanceof Function?o():o}var O=(()=>((O=O||{})[O.Important=1]="Important",O[O.DashCase=2]="DashCase",O))();let Q;function ge(o,a){return Q(o,a)}function wt(o){const a=o[3];return Ar(a)?a[3]:a}function _r(o){return ap(o[13])}function vl(o){return ap(o[4])}function ap(o){for(;null!==o&&!Ar(o);)o=o[4];return o}function bl(o,a,c,d,f){if(null!=d){let m,b=!1;Ar(d)?m=d:Ri(d)&&(b=!0,d=d[0]);const D=sn(d);0===o&&null!==c?null==f?cv(a,c,D):Vs(a,c,D,f||null,!0):1===o&&null!==c?Vs(a,c,D,f||null,!0):2===o?fv(a,D,b):3===o&&a.destroyNode(D),null!=m&&function a1(o,a,c,d,f){const m=c[7];m!==sn(c)&&bl(a,o,d,m,f);for(let D=10;D<c.length;D++){const E=c[D];Fm(E[1],E,o,a,d,m)}}(a,o,m,c,f)}}function ph(o,a){return fn(o)?o.createText(a):o.createTextNode(a)}function Nu(o,a,c){fn(o)?o.setValue(a,c):a.textContent=c}function km(o,a){return o.createComment(function uo(o){return o.replace(rp,a=>a.replace(sp,"\u200b$1\u200b"))}(a))}function gh(o,a,c){if(fn(o))return o.createElement(a,c);{const d=null!==c?function cu(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?o.createElement(a):o.createElementNS(d,a)}}function Ww(o,a){const c=o[9],d=c.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,ha(f,-1)),c.splice(d,1)}function ov(o,a){if(o.length<=10)return;const c=10+a,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&Ww(f,d),a>0&&(o[c-1][4]=d[4]);const m=Lo(o,10+a);!function Xi(o,a){Fm(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const b=m[19];null!==b&&b.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function av(o,a){if(!(256&a[2])){const c=a[11];fn(c)&&c.destroyNode&&Fm(o,a,c,3,null,null),function Ou(o){let a=o[13];if(!a)return lv(o[1],o);for(;a;){let c=null;if(Ri(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)Ri(a)&&lv(a[1],a),a=a[3];null===a&&(a=o),Ri(a)&&lv(a[1],a),c=a&&a[4]}a=c}}(a)}}function lv(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function Zw(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof ma)){const m=c[d+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const D=f[m[b]],E=m[b+1];try{E.call(D)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function Yw(o,a){const c=o.cleanup,d=a[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const b=c[m+1],D="function"==typeof b?b(a):sn(a[b]),E=d[f=c[m+2]],x=c[m+3];"boolean"==typeof x?D.removeEventListener(c[m],E,x):x>=0?d[f=x]():d[f=-x].unsubscribe(),m+=2}else{const b=d[f=c[m+1]];c[m].call(b)}if(null!==d){for(let m=f+1;m<d.length;m++)d[m]();a[7]=null}}(o,a),1===a[1].type&&fn(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&Ar(a[3])){c!==a[3]&&Ww(c,a);const d=a[19];null!==d&&d.detachView(o)}}}function Om(o,a,c){return r1(o,a.parent,c)}function r1(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===Kt.None||f===Kt.Emulated)return null}return wi(d,c)}function Vs(o,a,c,d,f){fn(o)?o.insertBefore(a,c,d,f):a.insertBefore(c,d,f)}function cv(o,a,c){fn(o)?o.appendChild(a,c):a.appendChild(c)}function Kw(o,a,c,d,f){null!==d?Vs(o,a,c,d,f):cv(o,a,c)}function lp(o,a){return fn(o)?o.parentNode(a):a.parentNode}function Qw(o,a,c){return uv(o,a,c)}function Jw(o,a,c){return 40&o.type?wi(o,c):null}let dv,uv=Jw;function Xw(o,a){uv=o,dv=a}function Pm(o,a,c,d){const f=Om(o,d,a),m=a[11],D=Qw(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)Kw(m,f,c[E],D,!1);else Kw(m,f,c,D,!1);void 0!==dv&&dv(m,d,a,c,f)}function _h(o,a){if(null!==a){const c=a.type;if(3&c)return wi(a,o);if(4&c)return hv(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return _h(o,d);{const f=o[a.index];return Ar(f)?hv(-1,f):sn(f)}}if(32&c)return ge(a,o)()||sn(o[a.index]);{const d=eD(o,a);return null!==d?Array.isArray(d)?d[0]:_h(wt(o[16]),d):_h(o,a.next)}}return null}function eD(o,a){return null!==a?o[16][6].projection[a.projection]:null}function hv(o,a){const c=10+o+1;if(c<a.length){const d=a[c],f=d[1].firstChild;if(null!==f)return _h(d,f)}return a[7]}function fv(o,a,c){const d=lp(o,a);d&&function s1(o,a,c,d){fn(o)?o.removeChild(a,c,d):a.removeChild(c)}(o,d,a,c)}function pv(o,a,c,d,f,m,b){for(;null!=c;){const D=d[c.index],E=c.type;if(b&&0===a&&(D&&Ci(sn(D),d),c.flags|=4),64!=(64&c.flags))if(8&E)pv(o,a,c.child,d,f,m,!1),bl(a,o,f,D,m);else if(32&E){const x=ge(c,d);let k;for(;k=x();)bl(a,o,f,k,m);bl(a,o,f,D,m)}else 16&E?cp(o,a,d,c,f,m):bl(a,o,f,D,m);c=b?c.projectionNext:c.next}}function Fm(o,a,c,d,f,m){pv(c,d,o.firstChild,a,f,m,!1)}function cp(o,a,c,d,f,m){const b=c[16],E=b[6].projection[d.projection];if(Array.isArray(E))for(let x=0;x<E.length;x++)bl(a,o,f,E[x],m);else pv(o,a,E,b[3],f,m,!0)}function mv(o,a,c){fn(o)?o.setAttribute(a,"style",c):a.style.cssText=c}function Lm(o,a,c){fn(o)?""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c):a.className=c}function _v(o,a,c){let d=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}c=f+1}}const er="ng-template";function nD(o,a,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==_v(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function up(o){return 4===o.type&&o.value!==er}function c1(o,a,c){return a===(4!==o.type||c?o.value:er)}function Ax(o,a,c){let d=4;const f=o.attrs||[],m=function d1(o){for(let a=0;a<o.length;a++)if(Lt(o[a]))return a;return o.length}(f);let b=!1;for(let D=0;D<a.length;D++){const E=a[D];if("number"!=typeof E){if(!b)if(4&d){if(d=2|1&d,""!==E&&!c1(o,E,c)||""===E&&1===a.length){if(Wo(d))return!1;b=!0}}else{const x=8&d?E:a[++D];if(8&d&&null!==o.attrs){if(!nD(o.attrs,x,c)){if(Wo(d))return!1;b=!0}continue}const V=yv(8&d?"class":E,f,up(o),c);if(-1===V){if(Wo(d))return!1;b=!0;continue}if(""!==x){let H;H=V>m?"":f[V+1].toLowerCase();const X=8&d?H:null;if(X&&-1!==_v(X,x,0)||2&d&&x!==H){if(Wo(d))return!1;b=!0}}}}else{if(!b&&!Wo(d)&&!Wo(E))return!1;if(b&&Wo(E))continue;b=!1,d=E|1&d}}return Wo(d)||b}function Wo(o){return 0==(1&o)}function yv(o,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let m=!1;for(;f<a.length;){const b=a[f];if(b===o)return f;if(3===b||6===b)m=!0;else{if(1===b||2===b){let D=a[++f];for(;"string"==typeof D;)D=a[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=m?1:2}return-1}return function h1(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function u1(o,a,c=!1){for(let d=0;d<a.length;d++)if(Ax(o,a[d],c))return!0;return!1}function xx(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function f1(o,a){return o?":not("+a.trim()+")":a}function kx(o){let a=o[0],c=1,d=2,f="",m=!1;for(;c<o.length;){let b=o[c];if("string"==typeof b)if(2&d){const D=o[++c];f+="["+b+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?f+="."+b:4&d&&(f+=" "+b);else""!==f&&!Wo(b)&&(a+=f1(m,f),f=""),d=b,m=m||!Wo(d);c++}return""!==f&&(a+=f1(m,f)),a}const jt={};function p1(o){g1(Gt(),xe(),gi()+o,!1)}function g1(o,a,c,d){if(!d)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Ms(a,m,c)}else{const m=o.preOrderHooks;null!==m&&Ro(a,m,0,c)}ko(c)}function Na(o,a){return o<<17|a<<2}function ys(o){return o>>17&32767}function Vm(o){return 2|o}function wl(o){return(131068&o)>>2}function vv(o,a){return-131069&o|a<<2}function Bs(o){return 1|o}function Km(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],m=c[d+1];if(-1!==m){const b=o.data[m];jd(f),b.contentQueries(2,a[m],m)}}}function hp(o,a,c,d,f,m,b,D,E,x){const k=a.blueprint.slice();return k[0]=f,k[2]=140|d,ps(k),k[3]=k[15]=o,k[8]=c,k[10]=b||o&&o[10],k[11]=D||o&&o[11],k[12]=E||o&&o[12]||null,k[9]=x||o&&o[9]||null,k[6]=m,k[16]=2==a.type?o[16]:k,k}function El(o,a,c,d,f){let m=o.data[a];if(null===m)m=fp(o,a,c,d,f),function yu(){return Tt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const b=Mo();m.injectorIndex=null===b?-1:b.injectorIndex}return xr(m,!0),m}function fp(o,a,c,d,f){const m=Ql(),b=gu(),E=o.data[a]=function E1(o,a,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,c,a,d,f);return null===o.firstChild&&(o.firstChild=E),null!==m&&(b?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}function Mc(o,a,c,d){if(0===c)return-1;const f=a.length;for(let m=0;m<c;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function Fu(o,a,c){xo(a);try{const d=o.viewQuery;null!==d&&t_(1,d,c);const f=o.template;null!==f&&Av(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Km(o,a),o.staticViewQueries&&t_(2,o.viewQuery,c);const m=o.components;null!==m&&function w1(o,a){for(let c=0;c<a.length;c++)Kx(o,a[c])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,fr()}}function Lu(o,a,c,d){const f=a[2];if(256!=(256&f)){xo(a);try{ps(a),function Jl(o){return Tt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Av(o,a,c,2,d);const b=3==(3&f);if(b){const x=o.preOrderCheckHooks;null!==x&&Ms(a,x,null)}else{const x=o.preOrderHooks;null!==x&&Ro(a,x,0,null),ni(a,0)}if(function Yx(o){for(let a=_r(o);null!==a;a=vl(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const f=c[d],m=f[3];0==(1024&f[2])&&ha(m,1),f[2]|=1024}}}(a),function N1(o){for(let a=_r(o);null!==a;a=vl(a))for(let c=10;c<a.length;c++){const d=a[c],f=d[1];Is(d)&&Lu(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&Km(o,a),b){const x=o.contentCheckHooks;null!==x&&Ms(a,x)}else{const x=o.contentHooks;null!==x&&Ro(a,x,1),ni(a,1)}!function uD(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)ko(~f);else{const m=f,b=c[++d],D=c[++d];ec(b,m),D(2,a[m])}}}finally{ko(-1)}}(o,a);const D=o.components;null!==D&&function b1(o,a){for(let c=0;c<a.length;c++)Zx(o,a[c])}(a,D);const E=o.viewQuery;if(null!==E&&t_(2,E,d),b){const x=o.viewCheckHooks;null!==x&&Ms(a,x)}else{const x=o.viewHooks;null!==x&&Ro(a,x,2),ni(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-73,1024&a[2]&&(a[2]&=-1025,ha(a[3],-1))}finally{fr()}}}function D1(o,a,c,d){const f=a[10],b=Io(a);try{!b&&f.begin&&f.begin(),b&&Fu(o,a,d),Lu(o,a,c,d)}finally{!b&&f.end&&f.end()}}function Av(o,a,c,d,f){const m=gi(),b=2&d;try{ko(-1),b&&a.length>20&&g1(o,a,20,!1),c(d,f)}finally{ko(m)}}function pp(o,a,c){if(zl(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const b=o.data[m];b.contentQueries&&b.contentQueries(1,c[m],m)}}}function Mv(o,a,c){!Kl()||(function $x(o,a,c,d){const f=c.directiveStart,m=c.directiveEnd;o.firstCreatePass||en(c,a),Ci(d,a);const b=c.initialInputs;for(let D=f;D<m;D++){const E=o.data[D],x=us(E);x&&Nv(a,c,E);const k=cl(a,o,D,c);Ci(k,a),null!==b&&Wx(0,D-f,k,E,0,b),x&&(Di(c.index,a)[8]=k)}}(o,a,c,wi(c,a)),128==(128&c.flags)&&function zx(o,a,c){const d=c.directiveStart,f=c.directiveEnd,b=c.index,D=function vu(){return Tt.lFrame.currentDirectiveIndex}();try{ko(b);for(let E=d;E<f;E++){const x=o.data[E],k=a[E];pa(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Xm(x,k)}}finally{ko(-1),pa(D)}}(o,a,c))}function xv(o,a,c=wi){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const b=d[m+1],D=-1===b?c(a,o):o[b];o[f++]=D}}}function dD(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Qm(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Qm(o,a,c,d,f,m,b,D,E,x){const k=20+d,V=k+f,H=function C1(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:jt);return c}(k,V),X="function"==typeof x?x():x;return H[1]={type:o,blueprint:H,template:c,queries:null,viewQuery:D,declTNode:a,data:H.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:E,consts:X,incompleteFirstPass:!1}}function pD(o,a,c,d){const f=Bv(a);null===c?f.push(d):(f.push(c),o.firstCreatePass&&n_(o).push(d,f.length-1))}function gp(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,f):c[d]=[a,f]}return c}function Jr(o,a,c,d,f,m,b,D){const E=wi(a,c);let k,x=a.inputs;!D&&null!=x&&(k=x[d])?(vh(o,c,k,d,f),Md(a)&&function T1(o,a){const c=Di(a,o);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(d=function mD(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=b?b(f,a.value||"",d):f,fn(m)?m.setProperty(E,d,f):ln(d)||(E.setProperty?E.setProperty(d,f):E[d]=f))}function Jm(o,a,c,d){let f=!1;if(Kl()){const m=function qx(o,a,c){const d=o.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const b=d[m];u1(c,b.selectors,!1)&&(f||(f=[]),ba(en(c,a),o,b.type),us(b)?(yD(o,c),f.unshift(b)):f.push(b))}return f}(o,a,c),b=null===d?null:{"":-1};if(null!==m){f=!0,Rv(c,o.data.length,m.length);for(let k=0;k<m.length;k++){const V=m[k];V.providersResolver&&V.providersResolver(V)}let D=!1,E=!1,x=Mc(o,a,m.length,null);for(let k=0;k<m.length;k++){const V=m[k];c.mergedAttrs=Cn(c.mergedAttrs,V.hostAttrs),e_(o,c,a,x,V),k1(x,V,b),null!==V.contentQueries&&(c.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(c.flags|=128);const H=V.type.prototype;!D&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),D=!0),!E&&(H.ngOnChanges||H.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),E=!0),x++}!function gD(o,a){const d=a.directiveEnd,f=o.data,m=a.attrs,b=[];let D=null,E=null;for(let x=a.directiveStart;x<d;x++){const k=f[x],V=k.inputs,H=null===m||up(a)?null:R1(V,m);b.push(H),D=gp(V,x,D),E=gp(k.outputs,x,E)}null!==D&&(D.hasOwnProperty("class")&&(a.flags|=16),D.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=D,a.outputs=E}(o,c)}b&&function vD(o,a,c){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=c[a[f+1]];if(null==m)throw new Fe(-301,!1);d.push(a[f],m)}}}(c,d,b)}return c.mergedAttrs=Cn(c.mergedAttrs,c.attrs),f}function M1(o,a,c,d,f,m){const b=m.hostBindings;if(b){let D=o.hostBindingOpCodes;null===D&&(D=o.hostBindingOpCodes=[]);const E=~a.index;(function x1(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(D)!=E&&D.push(E),D.push(d,f,b)}}function Xm(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function yD(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function k1(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;us(a)&&(c[""]=o)}}function Rv(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function e_(o,a,c,d,f){o.data[d]=f;const m=f.factory||(f.factory=Oi(f.type)),b=new ma(m,us(f),null);o.blueprint[d]=b,c[d]=b,M1(o,a,0,d,Mc(o,c,f.hostVars,jt),f)}function Nv(o,a,c){const d=wi(a,o),f=dD(c),m=o[10],b=Pv(o,hp(o,f,null,c.onPush?64:16,d,a,m,m.createRenderer(d,c),null,null));o[a.index]=b}function mp(o,a,c,d,f,m,b){if(null==m)fn(o)?o.removeAttribute(a,f,c):a.removeAttribute(f);else{const D=null==b?_e(m):b(m,d||"",f);fn(o)?o.setAttribute(a,f,D,c):c?a.setAttributeNS(c,f,D):a.setAttribute(f,D)}}function Wx(o,a,c,d,f,m){const b=m[a];if(null!==b){const D=d.setInput;for(let E=0;E<b.length;){const x=b[E++],k=b[E++],V=b[E++];null!==D?d.setInput(c,V,x,k):c[k]=V}}}function R1(o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return c}function bD(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function Zx(o,a){const c=Di(a,o);if(Is(c)){const d=c[1];80&c[2]?Lu(d,c,d.template,c[8]):c[5]>0&&Ov(c)}}function Ov(o){for(let d=_r(o);null!==d;d=vl(d))for(let f=10;f<d.length;f++){const m=d[f];if(1024&m[2]){const b=m[1];Lu(b,m,b.template,m[8])}else m[5]>0&&Ov(m)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Di(c[d],o);Is(f)&&f[5]>0&&Ov(f)}}function Kx(o,a){const c=Di(a,o),d=c[1];(function Qx(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),Fu(d,c,c[8])}function Pv(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function wD(o){for(;o;){o[2]|=64;const a=wt(o);if(ou(o)&&!a)return o;o=a}return null}function Vv(o){!function Fv(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],d=tp(c),f=d[1];D1(f,d,f.template,c)}}(o[8])}function t_(o,a,c){jd(0),a(o,c)}const DD=(()=>Promise.resolve(null))();function Bv(o){return o[7]||(o[7]=[])}function n_(o){return o.cleanup||(o.cleanup=[])}function i_(o,a){const c=o[9],d=c?c.get(fh,null):null;d&&d.handleError(a)}function vh(o,a,c,d,f){for(let m=0;m<c.length;){const b=c[m++],D=c[m++],E=a[b],x=o.data[b];null!==x.setInput?x.setInput(E,f,d,D):E[D]=f}}function Vu(o,a,c){let d=c?o.styles:null,f=c?o.classes:null,m=0;if(null!==a)for(let b=0;b<a.length;b++){const D=a[b];"number"==typeof D?m=D:1==m?f=pe(f,D):2==m&&(d=pe(d,D+": "+a[++b]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}const Uv=new En("INJECTOR",-1);class Oa{get(a,c=Bo){if(c===Bo){const d=new Error(`NullInjectorError: No provider for ${ue(a)}!`);throw d.name="NullInjectorError",d}return c}}const dt=new En("Set Injector scope."),Bu={},Pt={};let bh;function r_(){return void 0===bh&&(bh=new Oa),bh}function wh(o,a=null,c=null,d){const f=CD(o,a,c,d);return f._resolveInjectorDefTypes(),f}function CD(o,a=null,c=null,d){return new jv(o,c,a||r_(),d)}class jv{constructor(a,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&gr(c,D=>this.processProvider(D,a,c)),gr([a],D=>this.processInjectorType(D,[],m)),this.records.set(Uv,Sl(void 0,this));const b=this.records.get(dt);this.scope=null!=b?b.value:null,this.source=f||("object"==typeof a?null:ue(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=Bo,d=Et.Default){this.assertNotDestroyed();const f=Ne(this),m=Ln(void 0);try{if(!(d&Et.SkipSelf)){let D=this.records.get(a);if(void 0===D){const E=function SD(o){return"function"==typeof o||"object"==typeof o&&o instanceof En}(a)&&Ht(a);D=E&&this.injectableDefInScope(E)?Sl(Hv(a),Bu):null,this.records.set(a,D)}if(null!=D)return this.hydrate(a,D)}return(d&Et.Self?r_():this.parent).get(a,c=d&Et.Optional&&c===Bo?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[Ta]=b[Ta]||[]).unshift(ue(a)),f)throw b;return function Sa(o,a,c,d){const f=o[Ta];throw a[B]&&f.unshift(a[B]),o.message=function Fs(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=ue(a);if(Array.isArray(a))f=a.map(ue).join(" -> ");else if("object"==typeof a){let m=[];for(let b in a)if(a.hasOwnProperty(b)){let D=a[b];m.push(b+":"+("string"==typeof D?JSON.stringify(D):ue(D)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(S,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[Ta]=null,o}(b,a,"R3InjectorError",this.source)}throw b}finally{Ln(m),Ne(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,f)=>a.push(ue(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processInjectorType(a,c,d){if(!(a=re(a)))return!1;let f=$i(a);const m=null==f&&a.ngModule||void 0,b=void 0===m?a:m,D=-1!==d.indexOf(b);if(void 0!==m&&(f=$i(m)),null==f)return!1;if(null!=f.imports&&!D){let k;d.push(b);try{gr(f.imports,V=>{this.processInjectorType(V,c,d)&&(void 0===k&&(k=[]),k.push(V))})}finally{}if(void 0!==k)for(let V=0;V<k.length;V++){const{ngModule:H,providers:X}=k[V];gr(X,be=>this.processProvider(be,H,X||j))}}this.injectorDefTypes.add(b);const E=Oi(b)||(()=>new b);this.records.set(b,Sl(E,Bu));const x=f.providers;if(null!=x&&!D){const k=a;gr(x,V=>this.processProvider(V,k,x))}return void 0!==m&&void 0!==a.providers}processProvider(a,c,d){let f=Dh(a=re(a))?a:re(a&&a.provide);const m=function U1(o,a,c){return nr(o)?Sl(void 0,o.useValue):Sl(tr(o),Bu)}(a);if(Dh(a)||!0!==a.multi)this.records.get(f);else{let b=this.records.get(f);b||(b=Sl(void 0,Bu,!0),b.factory=()=>Rt(b.multi),this.records.set(f,b)),f=a,b.multi.push(a)}this.records.set(f,m)}hydrate(a,c){return c.value===Bu&&(c.value=Pt,c.value=c.factory()),"object"==typeof c.value&&c.value&&function H1(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=re(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Hv(o){const a=Ht(o),c=null!==a?a.factory:Oi(o);if(null!==c)return c;if(o instanceof En)throw new Fe(204,!1);if(o instanceof Function)return function B1(o){const a=o.length;if(a>0)throw Ns(a,"?"),new Fe(204,!1);const c=function Cr(o){const a=o&&(o[ss]||o[Er]);if(a){const c=function Ai(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Fe(204,!1)}function tr(o,a,c){let d;if(Dh(o)){const f=re(o);return Oi(f)||Hv(f)}if(nr(o))d=()=>re(o.useValue);else if(function j1(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Rt(o.deps||[]));else if(function xc(o){return!(!o||!o.useExisting)}(o))d=()=>ut(re(o.useExisting));else{const f=re(o&&(o.useClass||o.provide));if(!function TD(o){return!!o.deps}(o))return Oi(f)||Hv(f);d=()=>new f(...Rt(o.deps))}return d}function Sl(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function nr(o){return null!==o&&"object"==typeof o&&ee in o}function Dh(o){return"function"==typeof o}let ho=(()=>{class o{static create(c,d){var f;if(Array.isArray(c))return wh({name:""},d,c,"");{const m=null!==(f=c.name)&&void 0!==f?f:"";return wh({name:m},c.parent,c.providers,m)}}}return o.THROW_IF_NOT_FOUND=Bo,o.NULL=new Oa,o.\u0275prov=rn({token:o,providedIn:"any",factory:()=>ut(Uv)}),o.__NG_ELEMENT_ID__=-1,o})();function FD(o,a){ol(tp(o)[1],yn())}function ir(o){let a=function LD(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let f;if(us(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Fe(903,"");f=a.\u0275dir}if(f){if(c){d.push(f);const b=o;b.inputs=Yv(o.inputs),b.declaredInputs=Yv(o.declaredInputs),b.outputs=Yv(o.outputs);const D=f.hostBindings;D&&Y1(o,D);const E=f.viewQuery,x=f.contentQueries;if(E&&bp(o,E),x&&W1(o,x),se(o.inputs,f.inputs),se(o.declaredInputs,f.declaredInputs),se(o.outputs,f.outputs),us(f)&&f.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let b=0;b<m.length;b++){const D=m[b];D&&D.ngInherit&&D(o),D===ir&&(c=!1)}}a=Object.getPrototypeOf(a)}!function vp(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Cn(f.hostAttrs,c=Cn(c,f.hostAttrs))}}(d)}function Yv(o){return o===ki?{}:o===j?[]:o}function bp(o,a){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function W1(o,a){const c=o.contentQueries;o.contentQueries=c?(d,f,m)=>{a(d,f,m),c(d,f,m)}:a}function Y1(o,a){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}let Eh=null;function kc(){if(!Eh){const o=zt.Symbol;if(o&&o.iterator)Eh=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Eh=d)}}}return Eh}function Th(o){return!!u_(o)&&(Array.isArray(o)||!(o instanceof Map)&&kc()in o)}function u_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Zo(o,a,c){return o[a]=c}function yr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function ju(o,a,c,d){const f=yr(o,a,c);return yr(o,a+1,d)||f}function wp(o,a,c,d){const f=xe();return yr(f,so(),a)&&(Gt(),function Tl(o,a,c,d,f,m){const b=wi(o,a);mp(a[11],b,m,o.value,c,d,f)}($n(),f,o,a,c,d)),wp}function ai(o,a,c,d){return yr(o,so(),c)?a+_e(c)+d:jt}function HD(o,a,c,d,f,m,b,D){const E=xe(),x=Gt(),k=o+20,V=x.firstCreatePass?function jD(o,a,c,d,f,m,b,D,E){const x=a.consts,k=El(a,o,4,b||null,$r(x,D));Jm(a,c,k,$r(x,E)),ol(a,k);const V=k.tViews=Qm(2,k,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,x);return null!==a.queries&&(a.queries.template(a,k),V.queries=a.queries.embeddedTView(k)),k}(k,x,E,a,c,d,f,m,b):x.data[k];xr(V,!1);const H=E[11].createComment("");Pm(x,E,H,V),Ci(H,E),Pv(E,E[k]=bD(H,E,H,V)),cs(V)&&Mv(x,E,V),null!=b&&xv(E,V,D)}function Jv(o){return function fs(o,a){return o[a]}(function Ud(){return Tt.lFrame.contextLView}(),20+o)}function qu(o,a=Et.Default){const c=xe();return null===c?ut(o,a):wa(yn(),c,re(o),a)}function KD(){throw new Error("invalid")}function Ap(o,a,c){const d=xe();return yr(d,so(),a)&&Jr(Gt(),$n(),d,o,a,d[11],c,!1),Ap}function Nc(o,a,c,d,f){const b=f?"class":"style";vh(o,c,a.inputs[b],b,d)}function Pa(o,a,c,d){const f=xe(),m=Gt(),b=20+o,D=f[11],E=f[b]=gh(D,a,function lm(){return Tt.lFrame.currentNamespace}()),x=m.firstCreatePass?function ob(o,a,c,d,f,m,b){const D=a.consts,x=El(a,o,2,f,$r(D,m));return Jm(a,c,x,$r(D,b)),null!==x.attrs&&Vu(x,x.attrs,!1),null!==x.mergedAttrs&&Vu(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(b,m,f,0,a,c,d):m.data[b];xr(x,!0);const k=x.mergedAttrs;null!==k&&ct(D,E,k);const V=x.classes;null!==V&&Lm(D,E,V);const H=x.styles;return null!==H&&mv(D,E,H),64!=(64&x.flags)&&Pm(m,f,E,x),0===function sl(){return Tt.lFrame.elementDepthCount}()&&Ci(E,f),function fu(){Tt.lFrame.elementDepthCount++}(),cs(x)&&(Mv(m,f,x),pp(m,x,f)),null!==d&&xv(f,x),Pa}function Mp(){let o=yn();gu()?mu():(o=o.parent,xr(o,!1));const a=o;!function Zl(){Tt.lFrame.elementDepthCount--}();const c=Gt();return c.firstCreatePass&&(ol(c,o),zl(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function um(o){return 0!=(16&o.flags)}(a)&&Nc(c,a,xe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function qr(o){return 0!=(32&o.flags)}(a)&&Nc(c,a,xe(),a.stylesWithoutHost,!1),Mp}function ab(o,a,c,d){return Pa(o,a,c,d),Mp(),ab}function Wu(o,a,c){const d=xe(),f=Gt(),m=o+20,b=f.firstCreatePass?function Al(o,a,c,d,f){const m=a.consts,b=$r(m,d),D=El(a,o,8,"ng-container",b);return null!==b&&Vu(D,b,!0),Jm(a,c,D,$r(m,f)),null!==a.queries&&a.queries.elementStart(a,D),D}(m,f,d,a,c):f.data[m];xr(b,!0);const D=d[m]=d[11].createComment("");return Pm(f,d,D,b),Ci(D,d),cs(b)&&(Mv(f,d,b),pp(f,b,d)),null!=c&&xv(d,b),Wu}function Yu(){let o=yn();const a=Gt();return gu()?mu():(o=o.parent,xr(o,!1)),a.firstCreatePass&&(ol(a,o),zl(o)&&a.queries.elementEnd(o)),Yu}function Bh(o,a,c){return Wu(o,a,c),Yu(),Bh}function lb(){return xe()}function Sn(o){return!!o&&"function"==typeof o.then}function xp(o){return!!o&&"function"==typeof o.subscribe}const QD=xp;function cb(o,a,c,d){const f=xe(),m=Gt(),b=yn();return function JD(o,a,c,d,f,m,b,D){const E=cs(d),k=o.firstCreatePass&&n_(o),V=a[8],H=Bv(a);let X=!0;if(3&d.type||D){const We=wi(d,a),ht=D?D(We):We,Me=H.length,Ct=D?Wt=>D(sn(Wt[d.index])):d.index;if(fn(c)){let Wt=null;if(!D&&E&&(Wt=function kp(o,a,c,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const b=f[m];if(b===c&&f[m+1]===d){const D=a[7],E=f[m+2];return D.length>E?D[E]:null}"string"==typeof b&&(m+=2)}return null}(o,a,f,d.index)),null!==Wt)(Wt.__ngLastListenerFn__||Wt).__ngNextListenerFn__=m,Wt.__ngLastListenerFn__=m,X=!1;else{m=db(d,a,V,m,!1);const pn=c.listen(ht,f,m);H.push(m,pn),k&&k.push(f,Ct,Me,Me+1)}}else m=db(d,a,V,m,!0),ht.addEventListener(f,m,b),H.push(m),k&&k.push(f,Ct,Me,b)}else m=db(d,a,V,m,!1);const be=d.outputs;let He;if(X&&null!==be&&(He=be[f])){const We=He.length;if(We)for(let ht=0;ht<We;ht+=2){const es=a[He[ht]][He[ht+1]].subscribe(m),_d=H.length;H.push(m,es),k&&k.push(f,d.index,_d,-(_d+1))}}}(m,f,f[11],b,o,a,!!c,d),cb}function ub(o,a,c,d){try{return!1!==c(d)}catch(f){return i_(o,f),!1}}function db(o,a,c,d,f){return function m(b){if(b===Function)return d;const D=2&o.flags?Di(o.index,a):a;0==(32&a[2])&&wD(D);let E=ub(a,0,d,b),x=m.__ngNextListenerFn__;for(;x;)E=ub(a,0,x,b)&&E,x=x.__ngNextListenerFn__;return f&&!1===E&&(b.preventDefault(),b.returnValue=!1),E}}function XD(o=1){return function Pf(o){return(Tt.lFrame.contextLView=function bu(o,a){for(;o>0;)a=a[15],o--;return a}(o,Tt.lFrame.contextLView))[8]}(o)}function rS(o,a){let c=null;const d=function Mx(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?u1(o,m,!0):xx(d,m))return f}else c=f}return c}function eC(o){const a=xe()[16][6];if(!a.projection){const d=a.projection=Ns(o?o.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const b=o?rS(m,o):0;null!==b&&(f[b]?f[b].projectionNext=m:d[b]=m,f[b]=m),m=m.next}}}function jh(o,a=0,c){const d=xe(),f=Gt(),m=El(f,20+o,16,null,c||null);null===m.projection&&(m.projection=a),mu(),64!=(64&m.flags)&&function gv(o,a,c){cp(a[11],0,a,c,Om(o,c,a),Qw(c.parent||a[6],c,a))}(f,d,m)}function Fa(o,a,c){return Rp(o,"",a,"",c),Fa}function Rp(o,a,c,d,f){const m=xe(),b=ai(m,a,c,d);return b!==jt&&Jr(Gt(),$n(),m,o,b,m[11],f,!1),Rp}function yb(o,a,c,d,f){const m=o[c+1],b=null===a;let D=d?ys(m):wl(m),E=!1;for(;0!==D&&(!1===E||b);){const k=o[D+1];rC(o[D],a)&&(E=!0,o[D+1]=d?Bs(k):Vm(k)),D=d?ys(k):wl(k)}E&&(o[c+1]=d?Vm(m):Bs(m))}function rC(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&co(o,a)>=0}const mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sC(o){return o.substring(mi.key,mi.keyEnd)}function Np(o,a){const c=mi.textEnd;return c===a?-1:(a=mi.keyEnd=function Fp(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,mi.key=a,c),Ku(o,a,c))}function Ku(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function bb(o,a,c){return ws(o,a,c,!1),bb}function wb(o,a){return ws(o,a,null,!0),wb}function Db(o){!function fo(o,a,c,d){const f=Gt(),m=zr(2);f.firstUpdatePass&&Cb(f,null,m,d);const b=xe();if(c!==jt&&yr(b,m,c)){const D=f.data[gi()];if(Sb(D,d)&&!Va(f,m)){let E=d?D.classesWithoutHost:D.stylesWithoutHost;null!==E&&(c=pe(E,c||"")),Nc(f,D,b,c,d)}else!function C_(o,a,c,d,f,m,b,D){f===jt&&(f=j);let E=0,x=0,k=0<f.length?f[0]:null,V=0<m.length?m[0]:null;for(;null!==k||null!==V;){const H=E<f.length?f[E+1]:void 0,X=x<m.length?m[x+1]:void 0;let He,be=null;k===V?(E+=2,x+=2,H!==X&&(be=V,He=X)):null===V||null!==k&&k<V?(E+=2,be=k):(x+=2,be=V,He=X),null!==be&&uC(o,a,c,d,be,He,b,D),k=E<f.length?f[E]:null,V=x<m.length?m[x]:null}}(f,D,b,b[11],b[m+1],b[m+1]=function cC(o,a,c){if(null==c||""===c)return j;const d=[],f=Ls(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(d,m,f[m]);else"string"==typeof f&&a(d,f);return d}(o,a,c),d,m)}}(Yn,Ko,o,!0)}function Ko(o,a){for(let c=function aS(o){return function w_(o){mi.key=0,mi.keyEnd=0,mi.value=0,mi.valueEnd=0,mi.textEnd=o.length}(o),Np(o,Ku(o,0,mi.textEnd))}(a);c>=0;c=Np(a,c))Yn(o,sC(a),!0)}function ws(o,a,c,d){const f=xe(),m=Gt(),b=zr(2);m.firstUpdatePass&&Cb(m,o,b,d),a!==jt&&yr(f,b,a)&&uC(m,m.data[gi()],f,f[11],o,f[b+1]=function dC(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ue(Ls(o)))),o}(a,c),d,b)}function Va(o,a){return a>=o.expandoStartIndex}function Cb(o,a,c,d){const f=o.data;if(null===f[c+1]){const m=f[gi()],b=Va(o,c);Sb(m,d)&&null===a&&!b&&(a=!1),a=function lS(o,a,c,d){const f=function tc(o){const a=Tt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=Oc(c=Bp(null,o,a,c,d),a.attrs,d),m=null);else{const b=a.directiveStylingLast;if(-1===b||o[b]!==f)if(c=Bp(f,o,a,c,d),null===m){let E=function Eb(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==wl(d))return o[ys(d)]}(o,a,d);void 0!==E&&Array.isArray(E)&&(E=Bp(null,o,a,E[1],d),E=Oc(E,a.attrs,d),function Vp(o,a,c,d){o[ys(c?a.classBindings:a.styleBindings)]=d}(o,a,d,E))}else m=function lC(o,a,c){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=Oc(d,o[m].hostAttrs,c);return Oc(d,a.attrs,c)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),c}(f,m,a,d),function mb(o,a,c,d,f,m){let b=m?a.classBindings:a.styleBindings,D=ys(b),E=wl(b);o[d]=c;let k,x=!1;if(Array.isArray(c)){const V=c;k=V[1],(null===k||co(V,k)>0)&&(x=!0)}else k=c;if(f)if(0!==E){const H=ys(o[D+1]);o[d+1]=Na(H,D),0!==H&&(o[H+1]=vv(o[H+1],d)),o[D+1]=function Ac(o,a){return 131071&o|a<<17}(o[D+1],d)}else o[d+1]=Na(D,0),0!==D&&(o[D+1]=vv(o[D+1],d)),D=d;else o[d+1]=Na(E,0),0===D?D=d:o[E+1]=vv(o[E+1],d),E=d;x&&(o[d+1]=Vm(o[d+1])),yb(o,k,d,!0),yb(o,k,d,!1),function _b(o,a,c,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&co(m,a)>=0&&(c[d+1]=Bs(c[d+1]))}(a,k,o,d,m),b=Na(D,E),m?a.classBindings=b:a.styleBindings=b}(f,m,a,c,b,d)}}function Bp(o,a,c,d,f){let m=null;const b=c.directiveEnd;let D=c.directiveStylingLast;for(-1===D?D=c.directiveStart:D++;D<b&&(m=a[D],d=Oc(d,m.hostAttrs,f),m!==o);)D++;return null!==o&&(c.directiveStylingLast=D),d}function Oc(o,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?f=b:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Yn(o,b,!!c||a[++m]))}return void 0===o?null:o}function uC(o,a,c,d,f,m,b,D){if(!(3&a.type))return;const E=o.data,x=E[D+1];Pc(function Vi(o){return 1==(1&o)}(x)?Tb(E,a,c,f,wl(x),b):void 0)||(Pc(m)||function qt(o){return 2==(2&o)}(x)&&(m=Tb(E,null,c,f,D,b)),function l1(o,a,c,d,f){const m=fn(o);if(a)f?m?o.addClass(c,d):c.classList.add(d):m?o.removeClass(c,d):c.classList.remove(d);else{let b=-1===d.indexOf("-")?void 0:O.DashCase;if(null==f)m?o.removeStyle(c,d,b):c.style.removeProperty(d);else{const D="string"==typeof f&&f.endsWith("!important");D&&(f=f.slice(0,-10),b|=O.Important),m?o.setStyle(c,d,f,b):c.style.setProperty(d,f,D?"important":"")}}}(d,b,io(gi(),c),f,m))}function Tb(o,a,c,d,f,m){const b=null===a;let D;for(;f>0;){const E=o[f],x=Array.isArray(E),k=x?E[1]:E,V=null===k;let H=c[f+1];H===jt&&(H=V?j:void 0);let X=V?fc(H,d):k===d?H:void 0;if(x&&!Pc(X)&&(X=fc(E,d)),Pc(X)&&(D=X,b))return D;const be=o[f+1];f=b?ys(be):wl(be)}if(null!==a){let E=m?a.residualClasses:a.residualStyles;null!=E&&(D=fc(E,d))}return D}function Pc(o){return void 0!==o}function Sb(o,a){return 0!=(o.flags&(a?16:32))}function E_(o,a=""){const c=xe(),d=Gt(),f=o+20,m=d.firstCreatePass?El(d,f,1,a,null):d.data[f],b=c[f]=ph(c[11],a);Pm(d,c,b,m),xr(m,!1)}function Up(o){return jp("",o,""),Up}function jp(o,a,c){const d=xe(),f=ai(d,o,a,c);return f!==jt&&function Yo(o,a,c){const d=io(a,o);Nu(o[11],d,c)}(d,gi(),f),jp}function Je(o,a,c){const d=xe();return yr(d,so(),a)&&Jr(Gt(),$n(),d,o,a,d[11],c,!0),Je}const Re=void 0;var yC=["en",[["a","p"],["AM","PM"],Re],[["AM","PM"],Re,Re],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Re,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Re,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Re,"{1} 'at' {0}",Re],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rr(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let zh={};function Ob(o){const a=function Hs(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Pb(a);if(c)return c;const d=a.split("-")[0];if(c=Pb(d),c)return c;if("en"===d)return yC;throw new Error(`Missing locale data for the locale "${o}".`)}function vC(o){return Ob(o)[Mt.PluralCase]}function Pb(o){return o in zh||(zh[o]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[o]),zh[o]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const gS=["zero","one","two","few","many"],Ft="en-US",Gp={marker:"element"},jn={marker:"ICU"};var lt=(()=>((lt=lt||{})[lt.SHIFT=2]="SHIFT",lt[lt.APPEND_EAGERLY=1]="APPEND_EAGERLY",lt[lt.COMMENT=2]="COMMENT",lt))();let Vc=Ft;function Jt(o,a,c){const d=a.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?Jw(o,0,c):sn(c[f])}function DC(o,a,c,d,f){const m=a.insertBeforeIndex;if(Array.isArray(m)){let b=d,D=null;if(3&a.type||(D=b,b=f),null!==b&&0==(2&a.flags))for(let E=1;E<m.length;E++)Vs(o,b,c[m[E]],D,!1)}}function Ti(o,a){if(o.push(a),o.length>1)for(let c=o.length-2;c>=0;c--){const d=o[c];Qu(d)||_S(d,a)&&null===Bi(d)&&yS(d,a.index)}}function Qu(o){return!(64&o.type)}function _S(o,a){return Qu(a)||o.index>a.index}function Bi(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function yS(o,a){const c=o.insertBeforeIndex;Array.isArray(c)?c[0]=a:(Xw(Jt,DC),o.insertBeforeIndex=a)}function po(o,a){const c=o.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function Fb(o,a,c){const d=fp(o,c,64,null,null);return Ti(a,d),d}function zp(o,a){const c=a[o.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function Wh(o){return o>>>17}function CC(o){return(131070&o)>>>1}let Ml=0,Yh=0;function Uc(o,a,c,d){const f=c[11];let b,m=null;for(let D=0;D<a.length;D++){const E=a[D];if("string"==typeof E){const x=a[++D];null===c[x]&&(c[x]=ph(f,E))}else if("number"==typeof E)switch(1&E){case 0:const x=Wh(E);let k,V;if(null===m&&(m=x,b=lp(f,d)),x===m?(k=d,V=b):(k=null,V=sn(c[x])),null!==V){const He=CC(E);Vs(f,V,c[He],k,!1);const ht=po(o,He);if(null!==ht&&"object"==typeof ht){const Me=zp(ht,c);null!==Me&&Uc(o,ht.create[Me],c,c[ht.anchorIdx])}}break;case 1:const X=a[++D],be=a[++D];mp(f,io(E>>>1,c),null,null,X,be,null)}else switch(E){case jn:const x=a[++D],k=a[++D];null===c[k]&&Ci(c[k]=km(f,x),c);break;case Gp:const V=a[++D],H=a[++D];null===c[H]&&Ci(c[H]=gh(f,V,null),c)}}}function Qo(o,a,c,d,f){for(let m=0;m<c.length;m++){const b=c[m],D=c[++m];if(b&f){let E="";for(let x=m+1;x<=m+D;x++){const k=c[x];if("string"==typeof k)E+=k;else if("number"==typeof k)if(k<0)E+=_e(a[d-k]);else{const V=k>>>2;switch(3&k){case 1:const H=c[++x],X=c[++x],be=o.data[V];"string"==typeof be?mp(a[11],a[V],null,be,H,E,X):Jr(o,be,a,H,E,a[11],X,!1);break;case 0:const He=a[V];null!==He&&Nu(a[11],He,E);break;case 2:jc(o,po(o,V),a,E);break;case 3:Zh(o,po(o,V),d,a)}}}}else{const E=c[m+1];if(E>0&&3==(3&E)){const k=po(o,E>>>2);a[k.currentCaseLViewIndex]<0&&Zh(o,k,d,a)}}m+=D}}function Zh(o,a,c,d){let f=d[a.currentCaseLViewIndex];if(null!==f){let m=Ml;f<0&&(f=d[a.currentCaseLViewIndex]=~f,m=-1),Qo(o,d,a.update[f],c,m)}}function jc(o,a,c,d){const f=function Kh(o,a){let c=o.cases.indexOf(a);if(-1===c)switch(o.type){case 1:{const d=function bC(o,a){const c=vC(a)(parseInt(o,10)),d=gS[c];return void 0!==d?d:"other"}(a,function $p(){return Vc}());c=o.cases.indexOf(d),-1===c&&"other"!==d&&(c=o.cases.indexOf("other"));break}case 0:c=o.cases.indexOf("other")}return-1===c?null:c}(a,d);if(zp(a,c)!==f&&(Lb(o,a,c),c[a.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const b=c[a.anchorIdx];b&&Uc(o,a.create[f],c,b)}}function Lb(o,a,c){let d=zp(a,c);if(null!==d){const f=a.remove[d];for(let m=0;m<f.length;m++){const b=f[m];if(b>0){const D=io(b,c);null!==D&&fv(c[11],D)}else Lb(o,po(o,~b),c)}}}function Vb(){const o=[];let c,d,a=-1;function m(D,E){a=0;const x=zp(D,E);d=null!==x?D.remove[x]:j}function b(){if(a<d.length){const D=d[a++];return D>0?c[D]:(o.push(a,d),m(c[1].data[~D],c),b())}return 0===o.length?null:(d=o.pop(),a=o.pop(),b())}return function f(D,E){for(c=E;o.length;)o.pop();return m(D.value,E),b}}const Xu=/\ufffd(\d+):?\d*\ufffd/gi,TC=/\ufffd(\d+)\ufffd/,SC=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,IC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,AC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ur=/\uE500/g;function Zp(o,a,c,d,f,m,b){const D=Mc(o,d,1,null);let E=D<<lt.SHIFT,x=Mo();a===x&&(x=null),null===x&&(E|=lt.APPEND_EAGERLY),b&&(E|=lt.COMMENT,function Ge(o){void 0===Q&&(Q=o())}(Vb)),f.push(E,null===m?"":m);const k=fp(o,D,b?32:1,null===m?"":m,null);Ti(c,k);const V=k.index;return xr(k,!1),null!==x&&a!==x&&function Ju(o,a){let c=o.insertBeforeIndex;null===c?(Xw(Jt,DC),c=o.insertBeforeIndex=[null,a]):(function Ce(o,a,c){o!=a&&tt(c,o,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(x,V),k}function Ub(o,a,c,d,f,m,b){const D=b.match(Xu),E=Zp(o,a,c,m,d,D?null:b,!1);D&&xl(f,b,E.index,null,0,null)}function xl(o,a,c,d,f,m){const b=o.length,D=b+1;o.push(null,null);const E=b+2,x=a.split(Xu);let k=0;for(let V=0;V<x.length;V++){const H=x[V];if(1&V){const X=f+parseInt(H,10);o.push(-1-X),k|=jb(X)}else""!==H&&o.push(H)}return o.push(c<<2|(d?1:0)),d&&o.push(d,m),o[b]=k,o[D]=o.length-E,k}function jb(o){return 1<<Math.min(o,31)}function go(o){let a,m,c="",d=0,f=!1;for(;null!==(a=IC.exec(o));)f?a[0]===`\ufffd/*${m}\ufffd`&&(d=a.index,f=!1):(c+=o.substring(d,a.index+a[0].length),m=a[1],f=!0);return c+=o.substr(d),c}function ci(o,a,c,d,f,m){let b=0;const D={type:f.type,currentCaseLViewIndex:Mc(o,a,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function kC(o,a,c){o.push(jb(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,f,m),function li(o,a,c){const d=o.data[a];null===d?o.data[a]=c:d.value=c}(o,m,D);const E=f.values;for(let x=0;x<E.length;x++){const k=E[x],V=[];for(let H=0;H<k.length;H++){const X=k[H];if("string"!=typeof X){const be=V.push(X)-1;k[H]=`\x3c!--\ufffd${be}\ufffd--\x3e`}}b=In(o,D,a,c,d,f.cases[x],k.join(""),V)|b}b&&function nd(o,a,c){o.push(a,1,c<<2|3)}(c,b,m)}function k_(o){const a=[],c=[];let d=1,f=0;const m=Ui(o=o.replace(SC,function(b,D,E){return d="select"===E?0:1,f=parseInt(D.substr(1),10),""}));for(let b=0;b<m.length;){let D=m[b++].trim();1===d&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&a.push(D);const E=Ui(m[b++]);a.length>c.length&&c.push(E)}return{type:d,mainBinding:f,cases:a,values:c}}function Ui(o){if(!o)return[];let a=0;const c=[],d=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(o);){const D=m.index;if("}"==m[0]){if(c.pop(),0==c.length){const E=o.substring(a,D);SC.test(E)?d.push(k_(E)):d.push(E),a=D+1}}else{if(0==c.length){const E=o.substring(a,D);d.push(E),a=D+1}c.push("{")}}const b=o.substring(a);return d.push(b),d}function In(o,a,c,d,f,m,b,D){const E=[],x=[],k=[];a.cases.push(m),a.create.push(E),a.remove.push(x),a.update.push(k);const H=Kf(hs()).getInertBodyElement(b),X=ep(H)||H;return X?Hb(o,a,c,d,E,x,k,X,f,D,0):0}function Hb(o,a,c,d,f,m,b,D,E,x,k){let V=0,H=D.firstChild;for(;H;){const X=Mc(o,c,1,null);switch(H.nodeType){case Node.ELEMENT_NODE:const be=H,He=be.tagName.toLowerCase();if(Mu.hasOwnProperty(He)){Gb(f,Gp,He,E,X),o.data[X]=He;const Ct=be.attributes;for(let Wt=0;Wt<Ct.length;Wt++){const pn=Ct.item(Wt),es=pn.name.toLowerCase();pn.value.match(Xu)?wc.hasOwnProperty(es)&&xl(b,pn.value,X,pn.name,0,Jf[es]?Iu:Xf[es]?Qf:null):Qp(f,X,pn)}V=Hb(o,a,c,d,f,m,b,H,X,x,k+1)|V,td(m,X,k)}break;case Node.TEXT_NODE:const We=H.textContent||"",ht=We.match(Xu);Gb(f,null,ht?"":We,E,X),td(m,X,k),ht&&(V=xl(b,We,X,null,0,null)|V);break;case Node.COMMENT_NODE:const Me=TC.exec(H.textContent||"");if(Me){const Wt=x[parseInt(Me[1],10)];Gb(f,jn,"",E,X),ci(o,c,d,E,Wt,X),wS(m,X,k)}}H=H.nextSibling}return V}function td(o,a,c){0===c&&o.push(a)}function wS(o,a,c){0===c&&(o.push(~a),o.push(a))}function Gb(o,a,c,d,f){null!==a&&o.push(a),o.push(c,f,function qp(o,a,c){return o|a<<17|c<<1}(0,d,f))}function Qp(o,a,c){o.push(a<<1|1,c.name,c.value)}function PC(o,a,c=-1){const d=Gt(),f=xe(),m=20+o,b=$r(d.consts,a),D=Mo();d.firstCreatePass&&function Nn(o,a,c,d,f,m){const b=Mo(),D=[],E=[],x=[[]];f=function xC(o,a){if(function bS(o){return-1===o}(a))return go(o);{const c=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,d=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return go(o.substring(c,d))}}(f,m);const k=function MC(o){return o.replace(Ur," ")}(f).split(AC);for(let V=0;V<k.length;V++){let H=k[V];if(0==(1&V)){const X=Ui(H);for(let be=0;be<X.length;be++){let He=X[be];if(0==(1&be)){const We=He;""!==We&&Ub(o,b,x[0],D,E,c,We)}else{const We=He;if("object"!=typeof We)throw new Error(`Unable to parse ICU expression in "${f}" message.`);ci(o,c,E,a,We,Zp(o,b,x[0],c,D,"",!0).index)}}}else{const X=47===H.charCodeAt(0),He=(H.charCodeAt(X?1:0),20+Number.parseInt(H.substring(X?2:1)));if(X)x.shift(),xr(Mo(),!1);else{const We=Fb(o,x[0],He);x.unshift([]),xr(We,!0)}}}o.data[d]={create:D,update:E}}(d,null===D?0:D.index,f,m,b,c);const E=d.data[m],k=r1(d,D===f[6]?null:D,f);(function M_(o,a,c,d){const f=o[11];for(let m=0;m<a.length;m++){const b=a[m++],D=a[m],E=(b&lt.COMMENT)===lt.COMMENT,x=(b&lt.APPEND_EAGERLY)===lt.APPEND_EAGERLY,k=b>>>lt.SHIFT;let V=o[k];null===V&&(V=o[k]=E?f.createComment(D):ph(f,D)),x&&null!==c&&Vs(f,c,V,d,!1)}})(f,E.create,k,D&&8&D.type?f[D.index]:null),Xl(!0)}function LC(o,a,c){PC(o,a,c),function FC(){Xl(!1)}()}function Ua(o){return function Ze(o){o&&(Ml|=1<<Math.min(Yh,31)),Yh++}(yr(xe(),so(),o)),Ua}function id(o){!function Bc(o,a,c){if(Yh>0){const d=o.data[c];Qo(o,a,Array.isArray(d)?d:d.update,function kr(){return Tt.lFrame.bindingIndex}()-Yh-1,Ml)}Ml=0,Yh=0}(Gt(),xe(),o+20)}function N_(o,a,c,d,f){if(o=re(o),Array.isArray(o))for(let m=0;m<o.length;m++)N_(o[m],a,c,d,f);else{const m=Gt(),b=xe();let D=Dh(o)?o:re(o.provide),E=tr(o);const x=yn(),k=1048575&x.providerIndexes,V=x.directiveStart,H=x.providerIndexes>>20;if(Dh(o)||!o.multi){const X=new ma(E,f,qu),be=Hc(D,a,f?k:k+H,V);-1===be?(ba(en(x,b),m,D),Jo(m,o,a.length),a.push(D),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),c.push(X),b.push(X)):(c[be]=X,b[be]=X)}else{const X=Hc(D,a,k+H,V),be=Hc(D,a,k,k+H),He=X>=0&&c[X],We=be>=0&&c[be];if(f&&!We||!f&&!He){ba(en(x,b),m,D);const ht=function qb(o,a,c,d,f){const m=new ma(o,c,qu);return m.multi=[],m.index=a,m.componentProviders=0,$b(m,f,d&&!c),m}(f?zb:IS,c.length,f,d,E);!f&&We&&(c[be].providerFactory=ht),Jo(m,o,a.length,0),a.push(D),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),c.push(ht),b.push(ht)}else Jo(m,o,X>-1?X:be,$b(c[f?be:X],E,!f&&d));!f&&d&&We&&c[be].componentProviders++}}}function Jo(o,a,c,d){const f=Dh(a),m=function ED(o){return!!o.useClass}(a);if(f||m){const E=(m?re(a.useClass):a).prototype.ngOnDestroy;if(E){const x=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const k=x.indexOf(c);-1===k?x.push(c,[d,E]):x[k+1].push(d,E)}else x.push(c,E)}}}function $b(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Hc(o,a,c,d){for(let f=c;f<d;f++)if(a[f]===o)return f;return-1}function IS(o,a,c,d){return Xp(this.multi,[])}function zb(o,a,c,d){const f=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,D=cl(c,c[1],this.providerFactory.index,d);m=D.slice(0,b),Xp(f,m);for(let E=b;E<D.length;E++)m.push(D[E])}else m=[],Xp(f,m);return m}function Xp(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function rd(o,a=[]){return c=>{c.providersResolver=(d,f)=>function VC(o,a,c){const d=Gt();if(d.firstCreatePass){const f=us(o);N_(c,d.data,d.blueprint,f,!0),N_(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class Wb{}class Zb{resolveComponentFactory(a){throw function eg(o){const a=Error(`No component factory found for ${ue(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let tg=(()=>{class o{}return o.NULL=new Zb,o})();function UC(){return Jh(yn(),xe())}function Jh(o,a){return new Xh(wi(o,a))}let Xh=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=UC,o})();function jC(o){return o instanceof Xh?o.nativeElement:o}class ng{}let MS=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function HC(){const o=xe(),c=Di(yn().index,o);return function xS(o){return o[11]}(Ri(c)?c:o)}(),o})(),ef=(()=>{class o{}return o.\u0275prov=rn({token:o,providedIn:"root",factory:()=>null}),o})();class Gc{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Kb=new Gc("13.3.9"),kl={};function ig(o,a,c,d,f=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&d.push(sn(m)),Ar(m))for(let D=10;D<m.length;D++){const E=m[D],x=E[1].firstChild;null!==x&&ig(E[1],E,x,d)}const b=c.type;if(8&b)ig(o,a,c.child,d);else if(32&b){const D=ge(c,a);let E;for(;E=D();)d.push(E)}else if(16&b){const D=eD(a,c);if(Array.isArray(D))d.push(...D);else{const E=wt(a[16]);ig(E[1],E,D,d,!0)}}c=f?c.projectionNext:c.next}return d}class ja{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return ig(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Ar(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(ov(a,d),Lo(c,d))}this._attachedToViewContainer=!1}av(this._lView[1],this._lView)}onDestroy(a){pD(this._lView[1],this._lView,null,a)}markForCheck(){wD(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Lv(o,a,c){const d=a[10];d.begin&&d.begin();try{Lu(o,a,o.template,c)}catch(f){throw i_(a,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Nm(o,a){Fm(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=a}}class GC extends ja{constructor(a){super(a),this._view=a}detectChanges(){Vv(this._view)}checkNoChanges(){}get context(){return null}}class Qb extends tg{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=ei(a);return new ui(c,this.ngModule)}}function tf(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class ui extends Wb{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Rx(o){return o.map(kx).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return tf(this.componentDef.inputs)}get outputs(){return tf(this.componentDef.outputs)}create(a,c,d,f){const m=(f=f||this.ngModule)?function RS(o,a){return{get:(c,d,f)=>{const m=o.get(c,kl,f);return m!==kl||d===kl?m:a.get(c,d,f)}}}(a,f.injector):a,b=m.get(ng,nl),D=m.get(ef,null),E=b.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=d?function fD(o,a,c){if(fn(o))return o.selectRootElement(a,c===Kt.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(E,d,this.componentDef.encapsulation):gh(b.createRenderer(null,this.componentDef),x,function kS(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(x)),V=this.componentDef.onPush?576:528,H=function a_(o,a){return{components:[],scheduler:o||op,clean:DD,playerHandler:a||null,flags:0}}(),X=Qm(0,null,null,1,0,null,null,null,null,null),be=hp(null,X,H,V,null,null,b,E,D,m);let He,We;xo(be);try{const ht=function OD(o,a,c,d,f,m){const b=c[1];c[20]=o;const E=El(b,20,2,"#host",null),x=E.mergedAttrs=a.hostAttrs;null!==x&&(Vu(E,x,!0),null!==o&&(ct(f,o,x),null!==E.classes&&Lm(f,o,E.classes),null!==E.styles&&mv(f,o,E.styles)));const k=d.createRenderer(o,a),V=hp(c,dD(a),null,a.onPush?64:16,c[20],E,d,k,m||null,null);return b.firstCreatePass&&(ba(en(E,c),b,a.type),yD(b,E),Rv(E,c.length,1)),Pv(c,V),c[20]=V}(k,this.componentDef,be,b,E);if(k)if(d)ct(E,k,["ng-version",Kb.full]);else{const{attrs:Me,classes:Ct}=function Nx(o){const a=[],c=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++d]):8===f&&c.push(m);else{if(!Wo(f))break;f=m}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Me&&ct(E,k,Me),Ct&&Ct.length>0&&Lm(E,k,Ct.join(" "))}if(We=wn(X,20),void 0!==c){const Me=We.projection=[];for(let Ct=0;Ct<this.ngContentSelectors.length;Ct++){const Wt=c[Ct];Me.push(null!=Wt?Array.from(Wt):null)}}He=function PD(o,a,c,d,f){const m=c[1],b=function _D(o,a,c){const d=yn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),e_(o,d,a,Mc(o,a,1,null),c));const f=cl(a,o,d.directiveStart,d);Ci(f,a);const m=wi(d,a);return m&&Ci(m,a),f}(m,c,a);if(d.components.push(b),o[8]=b,f&&f.forEach(E=>E(b,a)),a.contentQueries){const E=yn();a.contentQueries(1,b,E.directiveStart)}const D=yn();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ko(D.index),M1(c[1],D,0,D.directiveStart,D.directiveEnd,a),Xm(a,b)),b}(ht,this.componentDef,be,H,[FD]),Fu(X,be,null)}finally{fr()}return new NS(this.componentType,He,Jh(We,be),be,We)}}class NS extends class mo{}{constructor(a,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new GC(f),this.componentType=a}get injector(){return new Rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class nf{}class e0{}const sd=new Map;class L_ extends nf{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Qb(this);const d=ti(a);this._bootstrapComponents=y(d.bootstrap),this._r3Injector=CD(a,c,[{provide:nf,useValue:this},{provide:tg,useValue:this.componentFactoryResolver}],ue(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=ho.THROW_IF_NOT_FOUND,d=Et.Default){return a===ho||a===nf||a===Uv?this:this._r3Injector.get(a,c,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class n0 extends e0{constructor(a){super(),this.moduleType=a,null!==ti(a)&&function $C(o){const a=new Set;!function c(d){const f=ti(d,!0),m=f.id;null!==m&&(function $c(o,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${o} - ${ue(a)} vs ${ue(a.name)}`)}(m,sd.get(m),d),sd.set(m,d));const b=y(f.imports);for(const D of b)a.has(D)||(a.add(D),c(D))}(o)}(a)}create(a){return new L_(this.moduleType,a)}}function Xt(o,a,c,d){return function zC(o,a,c,d,f,m){const b=a+c;return yr(o,b,f)?Zo(o,b+1,m?d.call(m,f):d(f)):sg(o,b+1)}(xe(),Pi(),o,a,c,d)}function r0(o,a,c,d,f){return function un(o,a,c,d,f,m,b){const D=a+c;return ju(o,D,f,m)?Zo(o,D+2,b?d.call(b,f,m):d(f,m)):sg(o,D+2)}(xe(),Pi(),o,a,c,d,f)}function s0(o,a,c,d,f,m){return function qC(o,a,c,d,f,m,b,D){const E=a+c;return function Sh(o,a,c,d,f){const m=ju(o,a,c,d);return yr(o,a+2,f)||m}(o,E,f,m,b)?Zo(o,E+3,D?d.call(D,f,m,b):d(f,m,b)):sg(o,E+3)}(xe(),Pi(),o,a,c,d,f,m)}function sg(o,a){const c=o[a];return c===jt?void 0:c}function a0(o){return a=>{setTimeout(o,void 0,a)}}const Ha=class VS extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){var f,m,b;let D=a,E=c||(()=>null),x=d;if(a&&"object"==typeof a){const V=a;D=null===(f=V.next)||void 0===f?void 0:f.bind(V),E=null===(m=V.error)||void 0===m?void 0:m.bind(V),x=null===(b=V.complete)||void 0===b?void 0:b.bind(V)}this.__isAsync&&(E=a0(E),D&&(D=a0(D)),x&&(x=a0(x)));const k=super.subscribe({next:D,error:E,complete:x});return a instanceof te.w0&&a.add(k),k}};function lg(){return this._results[kc()]()}class B_{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=kc(),d=B_.prototype;d[c]||(d[c]=lg)}get changes(){return this._changes||(this._changes=new Ha)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=Ki(a);(this._changesDetected=!function Lf(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=a[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let cg=(()=>{class o{}return o.__NG_ELEMENT_ID__=QC,o})();const sr=cg,l0=class extends sr{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a){const c=this._declarationTContainer.tViews,d=hp(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(c)),Fu(c,d,a),new ja(d)}};function QC(){return qc(yn(),xe())}function qc(o,a){return 4&o.type?new l0(a,o,Jh(o,a)):null}let Gs=(()=>{class o{}return o.__NG_ELEMENT_ID__=c0,o})();function c0(){return d0(yn(),xe())}const JC=Gs,af=class extends JC{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return Jh(this._hostTNode,this._hostLView)}get injector(){return new Rs(this._hostTNode,this._hostLView)}get parentInjector(){const a=Fi(this._hostTNode,this._hostLView);if(_a(a)){const c=xs(a,this._hostLView),d=oo(a);return new Rs(c[1].data[d+8],c)}return new Rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=u0(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){const f=a.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(a,c,d,f,m){const b=a&&!function hc(o){return"function"==typeof o}(a);let D;if(b)D=c;else{const V=c||{};D=V.index,d=V.injector,f=V.projectableNodes,m=V.ngModuleRef}const E=b?a:new ui(ei(a)),x=d||this.parentInjector;if(!m&&null==E.ngModule){const H=(b?x:this.parentInjector).get(nf,null);H&&(m=H)}const k=E.create(x,f,void 0,m);return this.insert(k.hostView,D),k}insert(a,c){const d=a._lView,f=d[1];if(function rl(o){return Ar(o[3])}(d)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const V=d[3],H=new af(V,V[6],V[3]);H.detach(H.indexOf(a))}}const m=this._adjustIndex(c),b=this._lContainer;!function Pu(o,a,c,d){const f=10+d,m=c.length;d>0&&(c[f-1][4]=a),d<m-10?(a[4]=c[f],dl(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const b=a[17];null!==b&&c!==b&&function mh(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(b,a);const D=a[19];null!==D&&D.insertView(o),a[2]|=128}(f,d,b,m);const D=hv(m,b),E=d[11],x=lp(E,b[7]);return null!==x&&function Rm(o,a,c,d,f,m){d[0]=f,d[6]=a,Fm(o,d,c,1,f,m)}(f,b[6],E,d,x,D),a.attachToViewContainerRef(),dl(U_(b),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=u0(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=ov(this._lContainer,c);d&&(Lo(U_(this._lContainer),c),av(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=ov(this._lContainer,c);return d&&null!=Lo(U_(this._lContainer),c)?new ja(d):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function u0(o){return o[8]}function U_(o){return o[8]||(o[8]=[])}function d0(o,a){let c;const d=a[o.index];if(Ar(d))c=d;else{let f;if(8&o.type)f=sn(d);else{const m=a[11];f=m.createComment("");const b=wi(o,a);Vs(m,lp(m,b),f,function o1(o,a){return fn(o)?o.nextSibling(a):a.nextSibling}(m,b),!1)}a[o.index]=c=bD(d,a,f,o),Pv(a,c)}return new af(c,o,a)}class ug{constructor(a){this.queryList=a,this.matches=null}clone(){return new ug(this.queryList)}setDirty(){this.queryList.setDirty()}}class h0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const b=c.getByIndex(m);f.push(this.queries[b.indexInDeclarationView].clone())}return new h0(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==m0(a,c).matches&&this.queries[c].setDirty()}}class f0{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class H_{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new H_(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class G_{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new G_(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,c,jS(c,m)),this.matchTNodeWithReadOption(a,c,Yi(c,a,m,!1,!1))}else d===cg?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Yi(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Xh||f===Gs||f===cg&&4&c.type)this.addMatch(c.index,-2);else{const m=Yi(c,a,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function jS(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function HS(o,a,c,d){return-1===c?function XC(o,a){return 11&o.type?Jh(o,a):4&o.type?qc(o,a):null}(a,o):-2===c?function GS(o,a,c){return c===Xh?Jh(a,o):c===cg?qc(a,o):c===Gs?d0(a,o):void 0}(o,a,d):cl(o,o[1],c,a)}function od(o,a,c,d){const f=a[19].queries[d];if(null===f.matches){const m=o.data,b=c.matches,D=[];for(let E=0;E<b.length;E+=2){const x=b[E];D.push(x<0?null:HS(a,m[x],b[E+1],c.metadata.read))}f.matches=D}return f.matches}function Wc(o,a,c,d){const f=o.queries.getByIndex(c),m=f.matches;if(null!==m){const b=od(o,a,f,c);for(let D=0;D<m.length;D+=2){const E=m[D];if(E>0)d.push(b[D/2]);else{const x=m[D+1],k=a[-E];for(let V=10;V<k.length;V++){const H=k[V];H[17]===H[3]&&Wc(H[1],H,x,d)}if(null!==k[9]){const V=k[9];for(let H=0;H<V.length;H++){const X=V[H];Wc(X[1],X,x,d)}}}}}return d}function eE(o){const a=xe(),c=Gt(),d=nc();jd(d+1);const f=m0(c,d);if(o.dirty&&Io(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?Wc(c,a,d,[]):od(c,a,f,d);o.reset(m,jC),o.notifyOnChanges()}return!0}return!1}function tE(o,a,c){const d=Gt();d.firstCreatePass&&(g0(d,new f0(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),iE(d,xe(),a)}function nE(o,a,c,d){const f=Gt();if(f.firstCreatePass){const m=yn();g0(f,new f0(a,c,d),m.index),function Ga(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}iE(f,xe(),c)}function p0(){return function Xr(o,a){return o[19].queries[a].queryList}(xe(),nc())}function iE(o,a,c){const d=new B_(4==(4&c));pD(o,a,d,d.destroy),null===a[19]&&(a[19]=new h0),a[19].queries.push(new ug(d))}function g0(o,a,c){null===o.queries&&(o.queries=new H_),o.queries.track(new G_(a,c))}function m0(o,a){return o.queries.getByIndex(a)}function dg(o,a){return qc(o,a)}function Kc(...o){}const dE=new En("Application Initializer");let Z_=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Kc,this.reject=Kc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Sn(m))c.push(m);else if(QD(m)){const b=new Promise((D,E)=>{m.subscribe({complete:D,error:E})});c.push(b)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(ut(dE,8))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const hE=new En("AppId",{providedIn:"root",factory:function fE(){return`${ud()}${ud()}${ud()}`}});function ud(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qc=new En("Platform Initializer"),dd=new En("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),M0=new En("appBootstrapListener");let nI=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const df=new En("LocaleId",{providedIn:"root",factory:()=>Ut(df,Et.Optional|Et.SkipSelf)||function x0(){return"undefined"!=typeof $localize&&$localize.locale||Ft}()}),iI=new En("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Q_{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let pE=(()=>{class o{compileModuleSync(c){return new n0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=y(ti(c).declarations).reduce((b,D)=>{const E=ei(D);return E&&b.push(new ui(E)),b},[]);return new Q_(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const J_=(()=>Promise.resolve(0))();function mg(o){"undefined"==typeof Zone?J_.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class or{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ha(!1),this.onMicrotaskEmpty=new Ha(!1),this.onStable=new Ha(!1),this.onError=new Ha(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function gE(){let o=zt.requestAnimationFrame,a=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function oI(o){const a=()=>{!function hd(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(zt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Jc(o),o.isCheckStableRunning=!0,X_(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Jc(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,b,D)=>{try{return R0(o),c.invokeTask(f,m,b,D)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Rl(o)}},onInvoke:(c,d,f,m,b,D,E)=>{try{return R0(o),c.invoke(f,m,b,D,E)}finally{o.shouldCoalesceRunChangeDetection&&a(),Rl(o)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Jc(o),X_(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!or.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(or.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+f,a,hf,Kc,Kc);try{return m.runTask(b,c,d)}finally{m.cancelTask(b)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const hf={};function X_(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Jc(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function R0(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Rl(o){o._nesting--,X_(o)}class fd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ha,this.onMicrotaskEmpty=new Ha,this.onStable=new Ha,this.onError=new Ha}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}let ey=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{or.assertNotInAngularZone(),mg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mg(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(ut(or))},o.\u0275prov=rn({token:o,factory:o.\u0275fac}),o})(),mE=(()=>{class o{constructor(){this._applications=new Map,N0.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return N0.findTestabilityInTree(this,c,d)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class aI{addToWindow(a){}findTestabilityInTree(a,c,d){return null}}function lI(o){N0=o}let N0=new aI,pd=null;const _g=new En("AllowMultipleToken"),O0=new En("PlatformOnDestroy");class gd{constructor(a,c){this.name=a,this.token=c}}function P0(o,a,c=[]){const d=`Platform: ${a}`,f=new En(d);return(m=[])=>{let b=vg();if(!b||b.injector.get(_g,!1)){const D=[...c,...m,{provide:f,useValue:!0}];o?o(D):function yg(o){if(pd&&!pd.get(_g,!1))throw new Fe(400,"");pd=o;const a=o.get(ty),c=o.get(Qc,null);c&&c.forEach(d=>d())}(function uI(o=[],a){return ho.create({name:a,providers:[{provide:dt,useValue:"platform"},{provide:O0,useValue:()=>pd=null},...o]})}(D,d))}return function yE(o){const a=vg();if(!a)throw new Fe(401,"");return a}()}}function vg(){var o;return null!==(o=null==pd?void 0:pd.get(ty))&&void 0!==o?o:null}let ty=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const D=function bg(o,a){let c;return c="noop"===o?new fd:("zone.js"===o?void 0:o)||new or({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:or,useValue:D}];return D.run(()=>{const x=ho.create({providers:E,parent:this.injector,name:c.moduleType.name}),k=c.create(x),V=k.injector.get(fh,null);if(!V)throw new Fe(402,"");return D.runOutsideAngular(()=>{const H=D.onError.subscribe({next:X=>{V.handleError(X)}});k.onDestroy(()=>{wg(this._modules,k),H.unsubscribe()})}),function ny(o,a,c){try{const d=c();return Sn(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(V,D,()=>{const H=k.injector.get(Z_);return H.runInitializers(),H.donePromise.then(()=>(function wC(o){(function $t(o,a){null==o&&tt(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(Vc=o.toLowerCase().replace(/_/g,"-"))}(k.injector.get(df,Ft)||Ft),this._moduleDoBootstrap(k),k))})})}bootstrapModule(c,d=[]){const f=iy({},d);return function cI(o,a,c){const d=new n0(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(F0);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Fe(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(O0,null);null==c||c(),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(ut(ho))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function iy(o,a){return Array.isArray(a)?a.reduce(iy,o):Object.assign(Object.assign({},o),a)}let F0=(()=>{class o{constructor(c,d,f,m){this._zone=c,this._injector=d,this._exceptionHandler=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new L.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),D=new L.y(E=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{or.assertNotInAngularZone(),mg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{or.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{x.unsubscribe(),k.unsubscribe()}});this.isStable=(0,he.T)(b,D.pipe((0,ae.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Fe(405,"");let f;f=c instanceof Wb?c:this._injector.get(tg).resolveComponentFactory(c),this.componentTypes.push(f.componentType);const m=function _E(o){return o.isBoundToModule}(f)?void 0:this._injector.get(nf),D=f.create(ho.NULL,[],d||f.selector,m),E=D.location.nativeElement,x=D.injector.get(ey,null),k=x&&D.injector.get(mE);return x&&k&&k.registerApplication(E,x),D.onDestroy(()=>{this.detachView(D.hostView),wg(this.components,D),k&&k.unregisterApplication(E)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;wg(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(M0,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(ut(or),ut(ho),ut(fh),ut(Z_))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function wg(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let V0=!0,B0=!1;function U0(){return B0=!0,V0}function fI(){if(B0)throw new Error("Cannot enable prod mode after platform setup.");V0=!1}let gI=(()=>{class o{}return o.__NG_ELEMENT_ID__=ff,o})();function ff(o){return function pf(o,a,c){if(Md(o)&&!c){const d=Di(o.index,a);return new ja(d,d)}return 47&o.type?new ja(a[16],a):null}(yn(),xe(),16==(16&o))}class oy{constructor(){}supports(a){return Th(a)}create(a){return new Dg(a)}}const ay=(o,a)=>a;class Dg{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||ay}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const b=!d||c&&c.currentIndex<uy(d,f,m)?c:d,D=uy(b,f,m),E=b.currentIndex;if(b===d)f--,d=d._nextRemoved;else if(c=c._next,null==b.previousIndex)f++;else{m||(m=[]);const x=D-f,k=E-f;if(x!=k){for(let H=0;H<x;H++){const X=H<m.length?m[H]:m[H]=0,be=X+H;k<=be&&be<x&&(m[H]=X+1)}m[b.previousIndex]=k-x}}D!==E&&a(b,D,E)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Th(a))throw new Fe(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,b,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let D=0;D<this.length;D++)m=a[D],b=this._trackByFn(D,m),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,m,b,D)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,b,D),d=!0),c=c._next}else f=0,function Z1(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[kc()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,D=>{b=this._trackByFn(f,D),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,D,b,f)),Object.is(c.item,D)||this._addIdentityChange(c,D)):(c=this._mismatch(c,D,b,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,f)):a=this._addAfter(new ly(c,d),m,f),a}_verifyReinsertion(a,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new cy),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cy),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class ly{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class W0{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class cy{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new W0,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uy(o,a,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class Y0{constructor(){}supports(a){return a instanceof Map||u_(a)}create(){return new EI}}class EI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||u_(a)))throw new Fe(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const m=f._prev,b=f._next;return m&&(m._next=b),b&&(b._prev=m),f._next=null,f._prev=null,f}const d=new DE(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class DE{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CE(){return new Z0([new oy])}let Z0=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||CE()),deps:[[o,new Ia,new mr]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Fe(901,"")}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:CE}),o})();function K0(){return new mf([new Y0])}let mf=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||K0()),deps:[[o,new Ia,new mr]]}}find(c){const d=this.factories.find(m=>m.supports(c));if(d)return d;throw new Fe(901,"")}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:K0}),o})();const SI=P0(null,"core",[]);let II=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(ut(F0))},o.\u0275mod=zi({type:o}),o.\u0275inj=Qt({}),o})()},3942:(ot,we,P)=>{P.d(we,{Z:()=>Fe});var l=P(2090),te=P(4859),L=P(9681),he=P(1877);class ae{constructor(_e,Se){this._delegate=_e,this.firebase=Se,(0,L._addComponent)(_e,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(_e,Se=L._DEFAULT_ENTRY_NAME){var Qe;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(_e);return!it.isInitialized()&&"EXPLICIT"===(null===(Qe=it.getComponent())||void 0===Qe?void 0:Qe.instantiationMode)&&it.initialize(),it.getImmediate({identifier:Se})}_removeServiceInstance(_e,Se=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(Se)}_addComponent(_e){(0,L._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,L._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function pe(){const $e=function ue($e){const _e={},Se={__esModule:!0,initializeApp:function Ae(ze,$={}){const Ce=L.initializeApp(ze,$);if((0,l.r3)(_e,Ce.name))return _e[Ce.name];const J=new $e(Ce,Se);return _e[Ce.name]=J,J},app:it,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Te(ze){const $=ze.name,Ce=$.replace("-compat","");if(L._registerComponent(ze)&&"PUBLIC"===ze.type){const J=(le=it())=>{if("function"!=typeof le[Ce])throw se.create("invalid-app-argument",{appName:$});return le[Ce]()};void 0!==ze.serviceProps&&(0,l.ZB)(J,ze.serviceProps),Se[Ce]=J,$e.prototype[Ce]=function(...le){return this._getService.bind(this,$).apply(this,ze.multipleInstances?le:[])}}return"PUBLIC"===ze.type?Se[Ce]:null},removeApp:function Qe(ze){delete _e[ze]},useAsService:function qe(ze,$){return"serverAuth"===$?null:$},modularAPIs:L}};function it(ze){if(!(0,l.r3)(_e,ze=ze||L._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:ze});return _e[ze]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function De(){return Object.keys(_e).map(ze=>_e[ze])}}),it.App=$e,Se}(ae);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function _e(Se){(0,l.ZB)($e,Se)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),$e}(),G=new he.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=z;!function ke($e){(0,L.registerVersion)("@firebase/app-compat","0.1.25",$e)}()},9681:(ot,we,P)=>{P.r(we),P.d(we,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>ss,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>dn,_addOrOverwriteComponent:()=>rn,_apps:()=>an,_clearComponents:()=>Es,_components:()=>Fn,_getProvider:()=>Qt,_registerComponent:()=>Gi,_removeServiceInstance:()=>Ht,deleteApp:()=>Et,getApp:()=>Er,getApps:()=>os,initializeApp:()=>Ks,onLog:()=>Ln,registerVersion:()=>Mn,setLogLevel:()=>bo});var l=P(5861),te=P(4859),L=P(1877),he=P(2090),ae=P(8766);class ye{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function se(q){const ne=q.getComponent();return"VERSION"===(null==ne?void 0:ne.type)}(Oe)){const at=Oe.getImmediate();return`${at.library}/${at.version}`}return null}).filter(Oe=>Oe).join(" ")}}const ue="@firebase/app",z=new L.Yd("@firebase/app"),$t="[DEFAULT]",tt={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,Fn=new Map;function dn(q,ne){try{q.container.addComponent(ne)}catch(Oe){z.debug(`Component ${ne.name} failed to register with FirebaseApp ${q.name}`,Oe)}}function rn(q,ne){q.container.addOrOverwriteComponent(ne)}function Gi(q){const ne=q.name;if(Fn.has(ne))return z.debug(`There were multiple attempts to register component ${ne}.`),!1;Fn.set(ne,q);for(const Oe of an.values())dn(Oe,q);return!0}function Qt(q,ne){const Oe=q.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),q.container.getProvider(ne)}function Ht(q,ne,Oe=$t){Qt(q,ne).clearInstance(Oe)}function Es(){Fn.clear()}const Ai=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class $i{constructor(ne,Oe,at){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=at,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}const ss="9.8.1";function Ks(q,ne={}){"object"!=typeof ne&&(ne={name:ne});const Oe=Object.assign({name:$t,automaticDataCollectionEnabled:!1},ne),at=Oe.name;if("string"!=typeof at||!at)throw Ai.create("bad-app-name",{appName:String(at)});const Dt=an.get(at);if(Dt){if((0,he.vZ)(q,Dt.options)&&(0,he.vZ)(Oe,Dt.config))return Dt;throw Ai.create("duplicate-app",{appName:at})}const kt=new te.H0(at);for(const At of Fn.values())kt.addComponent(At);const gn=new $i(q,Oe,kt);return an.set(at,gn),gn}function Er(q=$t){const ne=an.get(q);if(!ne)throw Ai.create("no-app",{appName:q});return ne}function os(){return Array.from(an.values())}function Et(q){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(q){const ne=q.name;an.has(ne)&&(an.delete(ne),yield Promise.all(q.container.getProviders().map(Oe=>Oe.delete())),q.isDeleted=!0)})).apply(this,arguments)}function Mn(q,ne,Oe){var at;let Dt=null!==(at=tt[q])&&void 0!==at?at:q;Oe&&(Dt+=`-${Oe}`);const kt=Dt.match(/\s|\//),gn=ne.match(/\s|\//);if(kt||gn){const At=[`Unable to register library "${Dt}" with version "${ne}":`];return kt&&At.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),kt&&gn&&At.push("and"),gn&&At.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void z.warn(At.join(" "))}Gi(new te.wA(`${Dt}-version`,()=>({library:Dt,version:ne}),"VERSION"))}function Ln(q,ne){if(null!==q&&"function"!=typeof q)throw Ai.create("invalid-log-argument");(0,L.Am)(q,ne)}function bo(q){(0,L.Ub)(q)}const Hn="firebase-heartbeat-store";let Hr=null;function sa(){return Hr||(Hr=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(q,ne)=>{0===ne&&q.createObjectStore(Hn)}}).catch(q=>{throw Ai.create("storage-open",{originalErrorMessage:q.message})})),Hr}function gt(){return(gt=(0,l.Z)(function*(q){try{return(yield sa()).transaction(Hn).objectStore(Hn).get(Ir(q))}catch(ne){throw Ai.create("storage-get",{originalErrorMessage:ne.message})}})).apply(this,arguments)}function St(q,ne){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(q,ne){try{const at=(yield sa()).transaction(Hn,"readwrite");return yield at.objectStore(Hn).put(ne,Ir(q)),at.done}catch(Oe){throw Ai.create("storage-set",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function Ir(q){return`${q.name}!${q.options.appId}`}class xi{constructor(ne){this.container=ne,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new W(Oe),this._heartbeatsCachePromise=this._storage.read().then(at=>(this._heartbeatsCache=at,at))}triggerHeartbeat(){var ne=this;return(0,l.Z)(function*(){const at=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=ki();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!ne._heartbeatsCache.heartbeats.some(kt=>kt.date===Dt))return ne._heartbeatsCache.heartbeats.push({date:Dt,agent:at}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(kt=>{const gn=new Date(kt.date).valueOf();return Date.now()-gn<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,l.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const Oe=ki(),{heartbeatsToSend:at,unsentEntries:Dt}=function j(q,ne=1024){const Oe=[];let at=q.slice();for(const Dt of q){const kt=Oe.find(gn=>gn.agent===Dt.agent);if(kt){if(kt.dates.push(Dt.date),K(Oe)>ne){kt.dates.pop();break}}else if(Oe.push({agent:Dt.agent,dates:[Dt.date]}),K(Oe)>ne){Oe.pop();break}at=at.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:at}}(ne._heartbeatsCache.heartbeats),kt=(0,he.L)(JSON.stringify({version:2,heartbeats:at}));return ne._heartbeatsCache.lastSentHeartbeatDate=Oe,Dt.length>0?(ne._heartbeatsCache.heartbeats=Dt,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),kt})()}}function ki(){return(new Date).toISOString().substring(0,10)}class W{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,l.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function Kt(q){return gt.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var Oe=this;return(0,l.Z)(function*(){var at;if(yield Oe._canUseIndexedDBPromise){const kt=yield Oe.read();return St(Oe.app,{lastSentHeartbeatDate:null!==(at=ne.lastSentHeartbeatDate)&&void 0!==at?at:kt.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var Oe=this;return(0,l.Z)(function*(){var at;if(yield Oe._canUseIndexedDBPromise){const kt=yield Oe.read();return St(Oe.app,{lastSentHeartbeatDate:null!==(at=ne.lastSentHeartbeatDate)&&void 0!==at?at:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...ne.heartbeats]})}})()}}function K(q){return(0,he.L)(JSON.stringify({version:2,heartbeats:q})).length}!function Ie(q){Gi(new te.wA("platform-logger",ne=>new ye(ne),"PRIVATE")),Gi(new te.wA("heartbeat",ne=>new xi(ne),"PRIVATE")),Mn(ue,"0.7.24",q),Mn(ue,"0.7.24","esm2017"),Mn("fire-js","")}("")},4859:(ot,we,P)=>{P.d(we,{H0:()=>ue,wA:()=>L});var l=P(5861),te=P(2090);class L{constructor(z,G,re){this.name=z,this.instanceFactory=G,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const he="[DEFAULT]";class ae{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const re=new te.BH;if(this.instancesDeferred.set(G,re),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:G});Ke&&re.resolve(Ke)}catch(Ke){}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const re=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),Ke=null!==(G=null==z?void 0:z.optional)&&void 0!==G&&G;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(ke){if(Ke)return null;throw ke}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function se(pe){return"EAGER"===pe.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:he})}catch(G){}for(const[G,re]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(G);try{const ke=this.getOrInitializeService({instanceIdentifier:Ke});re.resolve(ke)}catch(ke){}}}}clearInstance(z=he){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,l.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...G.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=he){return this.instances.has(z)}getOptions(z=he){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,re=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:re,options:G});for(const[ke,Fe]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(ke)&&Fe.resolve(Ke);return Ke}onInit(z,G){var re;const Ke=this.normalizeInstanceIdentifier(G),ke=null!==(re=this.onInitCallbacks.get(Ke))&&void 0!==re?re:new Set;ke.add(z),this.onInitCallbacks.set(Ke,ke);const Fe=this.instances.get(Ke);return Fe&&z(Fe,Ke),()=>{ke.delete(z)}}invokeOnInitCallbacks(z,G){const re=this.onInitCallbacks.get(G);if(re)for(const Ke of re)try{Ke(z,G)}catch(ke){}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let re=this.instances.get(z);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=z,pe===he?void 0:pe),options:G}),this.instances.set(z,re),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(re,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,re)}catch(Ke){}var pe;return re||null}normalizeInstanceIdentifier(z=he){return this.component?this.component.multipleInstances?z:he:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new ae(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ot,we,P)=>{P.d(we,{Am:()=>pe,Ub:()=>ue,Yd:()=>se,in:()=>te});const l=[];var te=(()=>{return(z=te||(te={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",te;var z})();const L={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},he=te.INFO,ae={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},ye=(z,G,...re)=>{if(G<z.logLevel)return;const Ke=(new Date).toISOString(),ke=ae[G];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[ke](`[${Ke}]  ${z.name}:`,...re)};class se{constructor(G){this.name=G,this._logLevel=he,this._logHandler=ye,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in te))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?L[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...G),this._logHandler(this,te.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...G),this._logHandler(this,te.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,te.INFO,...G),this._logHandler(this,te.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,te.WARN,...G),this._logHandler(this,te.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...G),this._logHandler(this,te.ERROR,...G)}}function ue(z){l.forEach(G=>{G.setLogLevel(z)})}function pe(z,G){for(const re of l){let Ke=null;G&&G.level&&(Ke=L[G.level]),re.userLogHandler=null===z?null:(ke,Fe,...$e)=>{const _e=$e.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch(Qe){return null}}).filter(Se=>Se).join(" ");Fe>=(null!=Ke?Ke:ke.logLevel)&&z({level:te[Fe].toLowerCase(),message:_e,args:$e,type:ke.name})}}}},8766:(ot,we,P)=>{P.d(we,{Lj:()=>Ae,X3:()=>it});var l=P(5861);let L,he;const se=new WeakMap,ue=new WeakMap,pe=new WeakMap,z=new WeakMap,G=new WeakMap;let ke={get($,Ce,J){if($ instanceof IDBTransaction){if("done"===Ce)return ue.get($);if("objectStoreNames"===Ce)return $.objectStoreNames||pe.get($);if("store"===Ce)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return Se($[Ce])},set:($,Ce,J)=>($[Ce]=J,!0),has:($,Ce)=>$ instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in $};function _e($){return"function"==typeof $?function $e($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...Ce){return $.apply(Qe(this),Ce),Se(se.get(this))}:function(...Ce){return Se($.apply(Qe(this),Ce))}:function(Ce,...J){const le=$.call(Qe(this),Ce,...J);return pe.set(le,Ce.sort?Ce.sort():[Ce]),Se(le)}}($):($ instanceof IDBTransaction&&function Ke($){if(ue.has($))return;const Ce=new Promise((J,le)=>{const ie=()=>{$.removeEventListener("complete",ve),$.removeEventListener("error",de),$.removeEventListener("abort",de)},ve=()=>{J(),ie()},de=()=>{le($.error||new DOMException("AbortError","AbortError")),ie()};$.addEventListener("complete",ve),$.addEventListener("error",de),$.addEventListener("abort",de)});ue.set($,Ce)}($),(($,Ce)=>Ce.some(J=>$ instanceof J))($,function ae(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,ke):$)}function Se($){if($ instanceof IDBRequest)return function re($){const Ce=new Promise((J,le)=>{const ie=()=>{$.removeEventListener("success",ve),$.removeEventListener("error",de)},ve=()=>{J(Se($.result)),ie()},de=()=>{le($.error),ie()};$.addEventListener("success",ve),$.addEventListener("error",de)});return Ce.then(J=>{J instanceof IDBCursor&&se.set(J,$)}).catch(()=>{}),G.set(Ce,$),Ce}($);if(z.has($))return z.get($);const Ce=_e($);return Ce!==$&&(z.set($,Ce),G.set(Ce,$)),Ce}const Qe=$=>G.get($);function it($,Ce,{blocked:J,upgrade:le,blocking:ie,terminated:ve}={}){const de=indexedDB.open($,Ce),Le=Se(de);return le&&de.addEventListener("upgradeneeded",vt=>{le(Se(de.result),vt.oldVersion,vt.newVersion,Se(de.transaction))}),J&&de.addEventListener("blocked",()=>J()),Le.then(vt=>{ve&&vt.addEventListener("close",()=>ve()),ie&&vt.addEventListener("versionchange",()=>ie())}).catch(()=>{}),Le}function Ae($,{blocked:Ce}={}){const J=indexedDB.deleteDatabase($);return Ce&&J.addEventListener("blocked",()=>Ce()),Se(J).then(()=>{})}const De=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],qe=new Map;function ze($,Ce){if(!($ instanceof IDBDatabase)||Ce in $||"string"!=typeof Ce)return;if(qe.get(Ce))return qe.get(Ce);const J=Ce.replace(/FromIndex$/,""),le=Ce!==J,ie=Te.includes(J);if(!(J in(le?IDBIndex:IDBObjectStore).prototype)||!ie&&!De.includes(J))return;const ve=function(){var de=(0,l.Z)(function*(Le,...vt){const Zt=this.transaction(Le,ie?"readwrite":"readonly");let $t=Zt.store;return le&&($t=$t.index(vt.shift())),(yield Promise.all([$t[J](...vt),ie&&Zt.done]))[0]});return function(vt){return de.apply(this,arguments)}}();return qe.set(Ce,ve),ve}!function Fe($){ke=$(ke)}($=>vL(yL({},$),{get:(Ce,J,le)=>ze(Ce,J)||$.get(Ce,J,le),has:(Ce,J)=>!!ze(Ce,J)||$.has(Ce,J)}))},5861:(ot,we,P)=>{function l(L,he,ae,ye,se,ue,pe){try{var z=L[ue](pe),G=z.value}catch(re){return void ae(re)}z.done?he(G):Promise.resolve(G).then(ye,se)}function te(L){return function(){var he=this,ae=arguments;return new Promise(function(ye,se){var ue=L.apply(he,ae);function pe(G){l(ue,ye,se,pe,z,"next",G)}function z(G){l(ue,ye,se,pe,z,"throw",G)}pe(void 0)})}}P.d(we,{Z:()=>te})}},ot=>{ot(ot.s=9750)}]);